function PropertyStyle(){var e="../images/map-icons/pins/48/pin1.png";return new ol.style.Style({image:new ol.style.Icon({src:e,anchor:[.5,1],scale:.7})})}function clickInfo(e){var t,o,a={};o=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 0, 0, 0.2)"}),stroke:new ol.style.Stroke({color:"#FF00003",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#FF0000"})})}),e.preventDefault(),t=map.forEachFeatureAtPixel(e.pixel,function(e,t){return{feature:e,layer:t}},this,function(e){return"property"===e.get("id")?!0:void 0},this),t?(a.feature={},t.feature.setStyle(o),t.feature.getKeys().forEach(function(e){a.feature[e]=t.feature.get(e)}),dust.render("adminPropertyInfo",a,function(e,o){$(".property-info").html(o),$(".property-info").removeClass("visuallyhidden"),componentHandler.upgradeDom(),$("#listing").on("click",function(e){var o;e.preventDefault(),o=$(this).data("gid"),$.ajax({url:"http://127.0.0.1:3000/db/listing",type:"GET",dataType:"json",data:{gid:o}}).done(function(e){var a=e.id;$(".modal-dialog").removeClass("visuallyhidden"),dust.render("listingInsert",e,function(e,n){$(".modal-content").html(n),componentHandler.upgradeDom(),handleForm.set({name:"insert-update-listing",submitBtnId:"ok"}),$("input[name=options]").on("change",function(e){"Sale"===$(this).val()?($("#pets").prop("disabled",!0),$("#pets").prop("checked",!1),$("label[for=pets]").removeClass("is-checked"),$("#prefered_customer").val(""),$("#prefered_customer").parent().eq(0).removeClass("is-dirty"),$("#prefered_customer").prop("disabled",!0)):($("#pets").prop("disabled",!1),$("#prefered_customer").prop("disabled",!1))}),$("#sent-listing").on("click",function(e){var n;e.preventDefault(),n=handleForm.get(),console.log(n),null!==n&&(n.property_gid=o,n.listing_id=a,$.ajax({url:"http://127.0.0.1:3000/db/listing/update",type:"POST",data:n,dataType:"text"}).done(function(e,t,o){201===o.status?toastr.success("Property Updated In Database"):toastr.error("Oops Something Went Wrong!!!")}).fail(function(e,t,o){toastr.error("Oops Something Went Wrong!!!")}).always(function(){handleForm.clear(),$("#openModal").addClass("visuallyhidden"),propertySource.clear(),t.feature.setStyle(null)}))}),$("#cancel-listing").on("click",function(e){e.preventDefault(),handleForm.clear(),t.feature.setStyle(null),$("#openModal").addClass("visuallyhidden")})})}).fail(function(){var e={};"el"===lang?(e.msg="Δεν Βρέθηκε Αγγελία",e.text="Δημιουργία Καινούργιας;",e.yes="ΝΑΙ",e.no="ΟΧΙ"):(e.msg="No Listing Found",e.text="Create New Listing?",e.yes="YES",e.no="NO"),dust.render("dialog",e,function(e,a){$("#openModal").removeClass("visuallyhidden"),$(".modal-content").html(a),componentHandler.upgradeDom(),$("#yes").on("click",function(e){e.preventDefault(),dust.render("listingInsert",{rent:"true"},function(e,a){$(".modal-content").html(a),componentHandler.upgradeDom(),handleForm.set({name:"insert-update-listing",submitBtnId:"ok"}),$("input[name=options]").on("change",function(e){"Sale"===$(this).val()?($("#pets").prop("disabled",!0),$("#pets").prop("checked",!1),$("label[for=pets]").removeClass("is-checked"),$("#prefered_customer").val(""),$("#prefered_customer").parent().eq(0).removeClass("is-dirty"),$("#prefered_customer").prop("disabled",!0)):($("#pets").prop("disabled",!1),$("#prefered_customer").prop("disabled",!1))}),$("#sent-listing").on("click",function(e){var a;e.preventDefault(),a=handleForm.get(),null!==a&&(a.property_gid=o,$.ajax({url:"http://127.0.0.1:3000/db/listing/insert",type:"POST",data:a,dataType:"text"}).done(function(e,t,o){201===o.status?toastr.success("Property Updated In Database"):toastr.error("Oops Something Went Wrong!!!")}).fail(function(e,t,o){toastr.error("Oops Something Went Wrong!!!")}).always(function(){handleForm.clear(),$("#openModal").addClass("visuallyhidden"),t.feature.setStyle(null)}))}),$("#cancel-listing").on("click",function(e){e.preventDefault(),handleForm.clear(),t.feature.setStyle(null),$("#openModal").addClass("visuallyhidden")})})}),$("#no").on("click",function(e){e.preventDefault(),$("#openModal").addClass("visuallyhidden"),t.feature.setStyle(null)})})})})})):(propertySource.forEachFeature(function(e){e.setStyle(null)}),$(".property-info").addClass("visuallyhidden"),toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},toastr.error("Cant Find Any Property There..."))}var center=[3677385,4120949],extent=[3590094,4102833,3855483,4261211],lang=document.documentElement.lang,geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326"}),propertySource,property,map,features,drawnProperties,draw,select,translate,bing=new ol.layer.Tile({visible:!0,source:new ol.source.BingMaps({key:"Ak2Gq8VUfICsPpuf7LRANXmXt2sHWmSLPhohmVLFtFIEwYjs_5MCyAhAFwRSVpLj",imagerySet:"Aerial"}),maxZoom:19,crossOrigin:"anonymous",preload:1/0,id:"bing"}),mapbox=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'<a href="https://www.mapbox.com/about/maps/" target="_blank">&copy; Mapbox &copy; OpenStreetMap</a>'})],url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA"}),id:"mapbox"});propertySource=new ol.source.Vector({format:geoJSONFormat,loader:function(e,t,o){var a="http://127.0.0.1:3000/db/admin",n=this;n.clear(),$.ajax({url:a,type:"POST",beforeSend:function(e){localStorage.getItem("userToken")&&e.setRequestHeader("Authorization","Bearer "+localStorage.getItem("userToken"))},dataType:"json",data:{id:id}}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});n.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.all}),property=new ol.layer.Vector({source:propertySource,id:"property",visible:!0,style:PropertyStyle()}),property.setZIndex(2),map=new ol.Map({target:"adminMap",layers:[mapbox,property],loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",controls:ol.control.defaults({attributionOptions:{collapsible:!1,collapsed:!1}}).extend([new ol.control.ScaleLine({units:"metric"}),new ol.control.OverviewMap({className:"ol-overviewmap ol-custom-overviewmap",collapsible:!0,collapsed:!0,layers:[bing]}),new ol.control.ZoomToExtent({extent:extent})]),view:new ol.View({center:center,projection:"EPSG:3857",zoom:14,maxZoom:19,minZoom:10})}),"el"===lang?(bing.set("name","Δορυφορική εικόνα"),mapbox.set("name","Χάρτης"),property.set("name","Ακίνητα")):(bing.set("name","Sattelite Image"),mapbox.set("name","Map"),property.set("name","Properties")),features=new ol.Collection,drawnProperties=new ol.layer.Vector({source:new ol.source.Vector,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ol.style.Stroke({color:"#ffcc33",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ffcc33"})})}),id:"drawnProperties"}),map.addLayer(drawnProperties),draw=new ol.interaction.Draw({source:drawnProperties.getSource(),type:"Point",style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ol.style.Stroke({color:"#ffcc33",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ffcc33"})})})}),map.addInteraction(draw),draw.setActive(!1),select=new ol.interaction.Select({layers:[property],features:features,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 0, 0, 0.2)"}),stroke:new ol.style.Stroke({color:"#FF00003",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#FF0000"})})})}),map.addInteraction(select),select.setActive(!1),translate=new ol.interaction.Translate({features:select.getFeatures()}),map.addInteraction(translate),translate.setActive(!1),map.on("click",clickInfo),$("#logout").click(function(){location.href="/map/logout"}),$("#insertProperty").click(function(){$(".property-info").addClass("visuallyhidden"),toastr.options={positionClass:"toast-top-center",preventDuplicates:!0,timeOut:60},map.un("click",clickInfo),select.setActive(!1),draw.setActive(!0),draw.on("drawend",function(e){var t={};e.preventDefault(),draw.setActive(!1),$(".modal-dialog").removeClass("visuallyhidden"),dust.render("propertyInsert",t,function(e,t){$(".modal-content").html(t),componentHandler.upgradeDom(),handleForm.set({name:"insertProperty",submitBtnId:"insert"}),$("#estateType").change(function(){"Μονοκατοικία"===$(this).val()?($("#estateType_en").val("Detached House"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Detached House"),$("#bedrooms").val(""),$("#bedrooms").prop("disabled",!1)):"Διαμέρισμα"===$(this).val()?($("#estateType_en").val("Apartment"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Apartment"),$("#bedrooms").val(""),$("#bedrooms").prop("disabled",!1)):($("#estateType_en").val("Store"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Store"),$("#bedrooms").val(0),$("#bedrooms").prop("disabled",!0))}),$("#estateType_en").change(function(){"Detached House"===$(this).val()?($("#estateType").val("Μονοκατοικία"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Μονοκατοικία"),$("#bedrooms").val(""),$("#bedrooms").prop("disabled",!1)):"Apartment"===$(this).val()?($("#estateType").val("Διαμέρισμα"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Διαμέρισμα"),$("#bedrooms").val(""),$("#bedrooms").prop("disabled",!1)):($("#estateType").val("Κατάστημα"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Κατάστημα"),$("#bedrooms").val(0),$("#bedrooms").prop("disabled",!0))}),$("#cancelInsert").on("click",function(e){e.preventDefault(),handleForm.clear(),drawnProperties.getSource().clear(),$(".modal-dialog").addClass("visuallyhidden"),map.on("click",clickInfo)}),$("#insert").on("click",function(e){var t,o;e.preventDefault(),t=handleForm.get(),console.log(t),null!==t&&(handleCoords.setLayer("drawnProperties"),o=handleCoords.coords(),t.x=o[0],t.y=o[1],t.adminId=id,$.ajax({url:"http://127.0.0.1:3000/db/insert",type:"POST",data:t}).done(function(e,t,o){toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},201===o.status?toastr.success("Property Recorded In Database"):toastr.error("Oops Something Went Wrong!!!")}).fail(function(e,t,o){toastr.error("Oops Something Went Wrong!!!")}).always(function(){e.preventDefault(),drawnProperties.getSource().clear(),propertySource.clear(),handleForm.clear(),$(".modal-dialog").addClass("visuallyhidden"),map.on("click",clickInfo)}))})})})}),$("#deleteProperty").click(function(e){e.preventDefault(),$(".property-info").addClass("visuallyhidden"),toastr.options={positionClass:"toast-top-center",preventDuplicates:!0,timeOut:20},map.un("click",clickInfo),draw.setActive(!1),features.clear(),propertySource.clear(),select.setActive(!0),select.once("select",function(e){var t;1===e.target.getFeatures().getLength()&&(toastr.options.newestOnTop=!0,toastr.options.preventDuplicates=!0,toastr.options.extendedTimeOut=0,toastr.options.timeOut=0,toastr.options.closeButton=!0,t=toastr.warning('<p>Are you sure?</p><div class="toastr-btns"><button id="yesDelete" class="mdl-button mdl-js-button ">Yes</button><button id="noDelete" class="mdl-button mdl-js-button">No</button></div>'),t.on("click","#yesDelete",function(){var e=select.getFeatures().item(0).get("gid");$.ajax({url:"http://127.0.0.1:3000/db/delete",type:"POST",dataType:"text",data:{gid:e}}).done(function(e,t,o){toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},toastr.success("Property Deleted From Database")}).fail(function(e,t,o){toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},toastr.success("Oops Something Went Wrong!!!")}).always(function(){propertySource.clear(),select.getFeatures().clear(),select.setActive(!1),map.on("click",clickInfo)}),t.remove()}),t.on("click","#noDelete",function(){t.remove(),select.getFeatures().clear(),select.setActive(!1)}))})}),$("#updateProperty").on("click",function(e){var t,o;e.preventDefault(),map.un("click",clickInfo),draw.setActive(!1),features.clear(),propertySource.clear(),select.setActive(!0),translate.setActive(!0),$(".property-info").addClass("visuallyhidden"),select.once("select",function(e){1===select.getFeatures().getLength()&&(t=select.getFeatures().item(0).get("gid"),$.ajax({url:"http://127.0.0.1:3000/db/fetch",type:"POST",dataType:"json",data:{gid:t}}).done(function(e){o=_.head(e.features).properties}).fail(function(){toastr.error("Oops Something Went Wrong!!!")}).always(function(){console.log("complete")}))}),translate.on("translateend",function(e){var a=ol.proj.transform(e.coordinate,"EPSG:3857","EPSG:4326");$(".modal-dialog").removeClass("visuallyhidden"),dust.render("propertyUpdate",o,function(e,o){var n={};$(".modal-content").html(o),n.bedrooms=$("#bedrooms").val(),componentHandler.upgradeDom(),handleForm.set({name:"updateProperty",submitBtnId:"update"}),$("#estateType").change(function(){"Μονοκατοικία"===$(this).val()?($("#estateType_en").val("Detached House"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Detached House"),$("#bedrooms").val(n.bedrooms),$("#bedrooms").prop("disabled",!1)):"Διαμέρισμα"===$(this).val()?($("#estateType_en").val("Apartment"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Apartment"),$("#bedrooms").val(n.bedrooms),$("#bedrooms").prop("disabled",!1)):($("#estateType_en").val("Store"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Store"),$("#bedrooms").val(0),$("#bedrooms").prop("disabled",!0))}),$("#estateType_en").change(function(){"Detached House"===$(this).val()?($("#estateType").val("Μονοκατοικία"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Μονοκατοικία"),$("#bedrooms").val(n.bedrooms),$("#bedrooms").prop("disabled",!1)):"Apartment"===$(this).val()?($("#estateType").val("Διαμέρισμα"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Διαμέρισμα"),$("#bedrooms").val(n.bedrooms),$("#bedrooms").prop("disabled",!1)):($("#estateType").val("Κατάστημα"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Κατάστημα"),$("#bedrooms").val(0),$("#bedrooms").prop("disabled",!0))}),$("#update").on("click",function(e){var o;e.preventDefault(),o=handleForm.get(),_.isNil(o)||(o.x=a[0],o.y=a[1],o.gid=t,$.ajax({url:"http://127.0.0.1:3000/db/update",type:"POST",data:o}).done(function(e,t,o){toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},200===o.status?toastr.success("Property Updated In Database"):toastr.error("Oops Something Went Wrong!!!")}).fail(function(){toastr.error("Oops Something Went Wrong!!!")}).always(function(){propertySource.clear(),select.getFeatures().clear(),select.setActive(!1),translate.setActive(!1),map.on("click",clickInfo),$(".modal-dialog").addClass("visuallyhidden")}))}),$("#cancelUpdate").on("click",function(e){e.preventDefault(),handleForm.clear(),propertySource.clear(),select.getFeatures().clear(),select.setActive(!1),translate.setActive(!1),map.on("click",clickInfo),$(".modal-dialog").addClass("visuallyhidden"),map.on("click",clickInfo)})}),$("#adminMap").removeAttr("style")})}),$(document).ready(function(){window.Parsley.on("field:error",function(){console.log("Validation failed for: ",this.$element)}),window.Parsley.addValidator("date",{requirementType:"string",validateString:function(e,t){return moment(e,"DD-MM-YYYY",!0).isValid()===!0?!0:!1},messages:{en:"Wrong Date",el:"Λάθος Ημερομηνία"}})});var handleCoords=function(e){"use strict";function t(e){for(var t=map.getLayers(),o=t.getLength(),a=0;o>a;a++)if(e===t.item(a).get("id"))return t.item(a);return null}function o(e){r=t(e)}function a(){var t;return t=r.getSource().getFeatures()[0].getGeometry().getCoordinates(),n=e.proj.transform(t,"EPSG:3857","EPSG:4326")}var n,r;return{coords:a,setLayer:o}}(ol),handleForm=function(e,t){"use strict";function o(e){c=e.name,p=e.submitBtnId,a()}function a(){var t=e(".getmdl-select");t.each(function(){n(this)})}function n(e){var t=e.querySelector("input"),o=e.querySelectorAll("li");e.querySelector("i"),[].forEach.call(o,function(e){e.onclick=function(){t.value=e.textContent}})}function r(){return u=e('form[name="'+c+'"').parsley(),!0}function l(){u.destroy()}function s(){return u.validate()}function i(){var t={};return r(),s()===!0?(e('form[name="'+c+'"').find(".mdl-textfield__input").each(function(o,a){t[e(this).attr("id")]=e(this).val()}),e('form[name="'+c+'"').find(".mdl-checkbox__input").each(function(o,a){t[e(this).attr("id")]=e(this).prop("checked")}),e('form[name="'+c+'"').find(".mdl-radio__button").each(function(o,a){t[e(this).attr("id")]=e(this).prop("checked")}),e('form[name="'+c+'"').find(".mdl-selectfield__select").each(function(o,a){t[e(this).attr("id")]=e(this).val()}),t):null}function d(){1==r()&&l(),e('form[name="'+c+'"').find(".mdl-textfield__input").each(function(t,o){e(this).val(""),e(this).parent().eq(0).removeClass("is-dirty"),e(this).parent().eq(0).removeClass("is-invalid")}),e('form[name="'+c+'"').find(".mdl-checkbox__input").each(function(t,o){e(this).prop("checked",!1)}),e('form[name="'+c+'"').find(".mdl-checkbox").each(function(t,o){e(this).removeClass("is-checked")})}var c,p,u;return{set:o,get:i,clear:d}}(jQuery,parsley);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIiwiaGFuZGxlQ29vcmRzLmpzIiwiaGFuZGxlRm9ybS5qcyJdLCJuYW1lcyI6WyJQcm9wZXJ0eVN0eWxlIiwic3JjIiwib2wiLCJzdHlsZSIsIlN0eWxlIiwiaW1hZ2UiLCJJY29uIiwiYW5jaG9yIiwic2NhbGUiLCJjbGlja0luZm8iLCJldmVudCIsImNsaWNrZWRGZWF0dXJlIiwiY2xpY2tlZEZlYXR1cmVTdHlsZSIsIm9iaiIsImZpbGwiLCJGaWxsIiwiY29sb3IiLCJzdHJva2UiLCJTdHJva2UiLCJ3aWR0aCIsIkNpcmNsZSIsInJhZGl1cyIsInByZXZlbnREZWZhdWx0IiwibWFwIiwiZm9yRWFjaEZlYXR1cmVBdFBpeGVsIiwicGl4ZWwiLCJmZWF0dXJlIiwibGF5ZXIiLCJ0aGlzIiwiZ2V0Iiwic2V0U3R5bGUiLCJnZXRLZXlzIiwiZm9yRWFjaCIsImtleSIsImR1c3QiLCJyZW5kZXIiLCJlcnIiLCJvdXQiLCIkIiwiaHRtbCIsInJlbW92ZUNsYXNzIiwiY29tcG9uZW50SGFuZGxlciIsInVwZ3JhZGVEb20iLCJvbiIsImdpZCIsImRhdGEiLCJhamF4IiwidXJsIiwidHlwZSIsImRhdGFUeXBlIiwiZG9uZSIsImxpc3RpbmdfaWQiLCJpZCIsImhhbmRsZUZvcm0iLCJzZXQiLCJuYW1lIiwic3VibWl0QnRuSWQiLCJ2YWwiLCJwcm9wIiwicGFyZW50IiwiZXEiLCJjb25zb2xlIiwibG9nIiwicHJvcGVydHlfZ2lkIiwidGV4dFN0YXR1cyIsImpxWEhSIiwic3RhdHVzIiwidG9hc3RyIiwic3VjY2VzcyIsImVycm9yIiwiZmFpbCIsImVycm9yVGhyb3duIiwiYWx3YXlzIiwiY2xlYXIiLCJhZGRDbGFzcyIsInByb3BlcnR5U291cmNlIiwibGFuZyIsIm1zZyIsInRleHQiLCJ5ZXMiLCJubyIsInJlbnQiLCJmb3JFYWNoRmVhdHVyZSIsImYiLCJvcHRpb25zIiwicG9zaXRpb25DbGFzcyIsInByZXZlbnREdXBsaWNhdGVzIiwidGltZU91dCIsImNlbnRlciIsImV4dGVudCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiZ2VvSlNPTkZvcm1hdCIsImZvcm1hdCIsIkdlb0pTT04iLCJkZWZhdWx0RGF0YVByb2plY3Rpb24iLCJwcm9wZXJ0eSIsImZlYXR1cmVzIiwiZHJhd25Qcm9wZXJ0aWVzIiwiZHJhdyIsInNlbGVjdCIsInRyYW5zbGF0ZSIsImJpbmciLCJUaWxlIiwidmlzaWJsZSIsInNvdXJjZSIsIkJpbmdNYXBzIiwiaW1hZ2VyeVNldCIsIm1heFpvb20iLCJjcm9zc09yaWdpbiIsInByZWxvYWQiLCJJbmZpbml0eSIsIm1hcGJveCIsIlhZWiIsImF0dHJpYnV0aW9ucyIsIkF0dHJpYnV0aW9uIiwiVmVjdG9yIiwibG9hZGVyIiwicmVzb2x1dGlvbiIsInByb2plY3Rpb24iLCJzZWxmIiwiYmVmb3JlU2VuZCIsInhociIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRSZXF1ZXN0SGVhZGVyIiwicmVzcG9uc2UiLCJyZWFkRmVhdHVyZXMiLCJmZWF0dXJlUHJvamVjdGlvbiIsImFkZEZlYXR1cmVzIiwic3RyYXRlZ3kiLCJsb2FkaW5nc3RyYXRlZ3kiLCJhbGwiLCJzZXRaSW5kZXgiLCJNYXAiLCJ0YXJnZXQiLCJsYXllcnMiLCJsb2FkVGlsZXNXaGlsZUFuaW1hdGluZyIsImxvYWRUaWxlc1doaWxlSW50ZXJhY3RpbmciLCJyZW5kZXJlciIsImNvbnRyb2xzIiwiY29udHJvbCIsImRlZmF1bHRzIiwiYXR0cmlidXRpb25PcHRpb25zIiwiY29sbGFwc2libGUiLCJjb2xsYXBzZWQiLCJleHRlbmQiLCJTY2FsZUxpbmUiLCJ1bml0cyIsIk92ZXJ2aWV3TWFwIiwiY2xhc3NOYW1lIiwiWm9vbVRvRXh0ZW50IiwidmlldyIsIlZpZXciLCJ6b29tIiwibWluWm9vbSIsIkNvbGxlY3Rpb24iLCJhZGRMYXllciIsImludGVyYWN0aW9uIiwiRHJhdyIsImdldFNvdXJjZSIsImFkZEludGVyYWN0aW9uIiwic2V0QWN0aXZlIiwiU2VsZWN0IiwiVHJhbnNsYXRlIiwiZ2V0RmVhdHVyZXMiLCJjbGljayIsImxvY2F0aW9uIiwiaHJlZiIsInVuIiwiY2hhbmdlIiwiZmluZCIsImMiLCJoYW5kbGVDb29yZHMiLCJzZXRMYXllciIsImNvb3JkcyIsIngiLCJ5IiwiYWRtaW5JZCIsIm9uY2UiLCJlIiwiJHRvYXN0IiwiZ2V0TGVuZ3RoIiwibmV3ZXN0T25Ub3AiLCJleHRlbmRlZFRpbWVPdXQiLCJjbG9zZUJ1dHRvbiIsIndhcm5pbmciLCJpdGVtIiwicmVtb3ZlIiwiXyIsImhlYWQiLCJwcm9wZXJ0aWVzIiwicHJvaiIsInRyYW5zZm9ybSIsImNvb3JkaW5hdGUiLCJvbGRWYWx1ZXMiLCJiZWRyb29tcyIsImlzTmlsIiwicmVtb3ZlQXR0ciIsInJlYWR5Iiwid2luZG93IiwiUGFyc2xleSIsIiRlbGVtZW50IiwiYWRkVmFsaWRhdG9yIiwicmVxdWlyZW1lbnRUeXBlIiwidmFsaWRhdGVTdHJpbmciLCJ2YWx1ZSIsInJlcXVpcmVtZW50IiwibW9tZW50IiwiaXNWYWxpZCIsIm1lc3NhZ2VzIiwiZW4iLCJlbCIsImZpbmRCeUlkIiwiZ2V0TGF5ZXJzIiwibGVuZ3RoIiwiaSIsImwiLCJnZXRDb29yZHMiLCJjb29yZEVQU0czODU3IiwiZ2V0R2VvbWV0cnkiLCJnZXRDb29yZGluYXRlcyIsInBhcnNsZXkiLCJzZXRPcHRpb25zIiwiZm9ybU5hbWUiLCJlbmFibGVTZWxlY3QiLCJlYWNoIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJ0IiwicXVlcnlTZWxlY3RvciIsIm4iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FsbCIsIm9uY2xpY2siLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVZhbGlkYXRvciIsInAiLCJkZXN0cm95VmFsaWRhdG9yIiwiZGVzdHJveSIsInZhbGlkYXRlRm9ybSIsInZhbGlkYXRlIiwiZ2V0QXR0cmlidXRlcyIsImluZGV4IiwiZWxlbWVudCIsImF0dHIiLCJyZXNldEZvcm0iLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJBQTRCQSxR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S0FBQXJELEtBQUEsd0JBQUF1RCxLQUVBLFNBQUFnQixFQUFBQyxHQUNBdE8sRUFBQXlCLEVBQUFWLE1BQUF3TixLQUFBLE9BQUE5TSxFQUFBVixNQUFBOEIsS0FBQSxhQUVBcEIsRUFBQSxjQUFBMEwsRUFBQSxLQUFBckQsS0FBQSxzQkFBQXVELEtBQ0EsU0FBQWdCLEVBQUFDLEdBQ0F0TyxFQUFBeUIsRUFBQVYsTUFBQXdOLEtBQUEsT0FBQTlNLEVBQUFWLE1BQUE4QixLQUFBLGFBRUFwQixFQUFBLGNBQUEwTCxFQUFBLEtBQUFyRCxLQUFBLDRCQUFBdUQsS0FDQSxTQUFBZ0IsRUFBQUMsR0FDQXRPLEVBQUF5QixFQUFBVixNQUFBd04sS0FBQSxPQUFBOU0sRUFBQVYsTUFBQTZCLFFBRUE1QyxHQUVBLEtBR0EsUUFBQXdPLEtBQ0EsR0FBQVYsS0FDQUUsSUFFQXZNLEVBQUEsY0FBQTBMLEVBQUEsS0FBQXJELEtBQUEseUJBQUF1RCxLQUVBLFNBQUFnQixFQUFBQyxHQUNBN00sRUFBQVYsTUFBQTZCLElBQUEsSUFDQW5CLEVBQUFWLE1BQUErQixTQUFBQyxHQUFBLEdBQUFwQixZQUFBLFlBQ0FGLEVBQUFWLE1BQUErQixTQUFBQyxHQUFBLEdBQUFwQixZQUFBLGdCQUVBRixFQUFBLGNBQUEwTCxFQUFBLEtBQUFyRCxLQUFBLHdCQUFBdUQsS0FFQSxTQUFBZ0IsRUFBQUMsR0FDQTdNLEVBQUFWLE1BQUE4QixLQUFBLFdBQUEsS0FFQXBCLEVBQUEsY0FBQTBMLEVBQUEsS0FBQXJELEtBQUEsaUJBQUF1RCxLQUVBLFNBQUFnQixFQUFBQyxHQUNBN00sRUFBQVYsTUFBQVksWUFBQSxnQkE1RkEsR0FBQXdMLEdBQUF4SyxFQUFBb0wsQ0ErRkEsUUFDQXRMLElBQUF5SyxFQUNBbE0sSUFBQW9OLEVBQ0F4SyxNQUFBNEssSUFPQUMsT0FBQXhCIiwiZmlsZSI6ImFkbWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBjZW50ZXIgPSBbMzY3NzM4NSwgNDEyMDk0OV0sXHJcbiAgICBleHRlbnQgPSBbMzU5MDA5NCwgNDEwMjgzMywgMzg1NTQ4MywgNDI2MTIxMV0sXHJcbiAgICBsYW5nID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcsXHJcbiAgICBnZW9KU09ORm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5HZW9KU09OKHtcclxuICAgICAgZGVmYXVsdERhdGFQcm9qZWN0aW9uOiAnRVBTRzo0MzI2J1xyXG4gICAgfSksXHJcbiAgICBwcm9wZXJ0eVNvdXJjZSwgcHJvcGVydHksIG1hcCwgZmVhdHVyZXMsIGRyYXduUHJvcGVydGllcywgZHJhdywgc2VsZWN0LCB0cmFuc2xhdGU7XHJcbnZhciBiaW5nID0gbmV3IG9sLmxheWVyLlRpbGUoe1xyXG4gIHZpc2libGU6IHRydWUsXHJcbiAgc291cmNlOiBuZXcgb2wuc291cmNlLkJpbmdNYXBzKHtcclxuICAgIGtleTogJ0FrMkdxOFZVZklDc1BwdWY3TFJBTlhtWHQyc0hXbVNMUGhvaG1WTEZ0RklFd1lqc181TUN5QWhBRndSU1ZwTGonLFxyXG4gICAgaW1hZ2VyeVNldDogJ0FlcmlhbCdcclxuICB9KSxcclxuICBtYXhab29tOiAxOSxcclxuICBjcm9zc09yaWdpbjogJ2Fub255bW91cycsXHJcbiAgcHJlbG9hZDogSW5maW5pdHksXHJcbiAgaWQ6ICdiaW5nJ1xyXG59KTtcclxudmFyIG1hcGJveCA9IG5ldyBvbC5sYXllci5UaWxlKHtcclxuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuWFlaKHtcclxuICAgIGF0dHJpYnV0aW9uczogW25ldyBvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICAgIGh0bWw6ICc8YSBocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hYm91dC9tYXBzL1wiIHRhcmdldD1cIl9ibGFua1wiPiZjb3B5OyBNYXBib3ggJmNvcHk7IE9wZW5TdHJlZXRNYXA8L2E+J1xyXG4gICAgfSldLFxyXG4gICAgdXJsOiAnaHR0cHM6Ly9hcGkubWFwYm94LmNvbS92NC9tYXBib3guc3RyZWV0cy97en0ve3h9L3t5fS5wbmc/YWNjZXNzX3Rva2VuPXBrLmV5SjFJam9pWm1seWRtRnBiaUlzSW1FaU9pSmxPV1l5WVRNME5UaGlOV00wWWpKak9ESmpOREU0T0RRek56QTJNR1F5TmlKOS4tTlZETzI3SHp0LXdfblFvc1VQZkxBJ1xyXG4gIH0pLFxyXG4gIGlkOiAnbWFwYm94J1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIFByb3BlcnR5U3R5bGUoKSB7XHJcbiAgdmFyIHNyYyA9ICcuLi9pbWFnZXMvbWFwLWljb25zL3BpbnMvNDgvcGluMS5wbmcnO1xyXG4gIHJldHVybiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5JY29uKCh7XHJcbiAgICAgIHNyYzogc3JjLFxyXG4gICAgICBhbmNob3I6IFtcclxuICAgICAgICAwLjUsIDFcclxuICAgICAgXSxcclxuICAgICAgc2NhbGU6IDAuN1xyXG4gICAgfSkpXHJcbiAgfSk7XHJcbn1cclxucHJvcGVydHlTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgZm9ybWF0OiBnZW9KU09ORm9ybWF0LFxyXG4gIGxvYWRlcjogZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XHJcbiAgICB2YXIgdXJsID0gJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMC9kYi9hZG1pbic7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmNsZWFyKCk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6IHVybCxcclxuICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAnYmVmb3JlU2VuZCc6IGZ1bmN0aW9uKHhocikge1xyXG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlclRva2VuJykpIHtcclxuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJUb2tlbicpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBpZDogaWRcclxuICAgICAgfVxyXG4gICAgfSkuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSwge1xyXG4gICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiAnRVBTRzozODU3J1xyXG4gICAgICB9KTtcclxuICAgICAgc2VsZi5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XHJcbiAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnZXJyb3InKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgc3RyYXRlZ3k6IG9sLmxvYWRpbmdzdHJhdGVneS5hbGxcclxufSk7XHJcbnByb3BlcnR5ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc291cmNlOiBwcm9wZXJ0eVNvdXJjZSxcclxuICBpZDogJ3Byb3BlcnR5JyxcclxuICB2aXNpYmxlOiB0cnVlLFxyXG4gIHN0eWxlOiBQcm9wZXJ0eVN0eWxlKClcclxufSk7XHJcbnByb3BlcnR5LnNldFpJbmRleCgyKTtcclxubWFwID0gbmV3IG9sLk1hcCh7XHJcbiAgdGFyZ2V0OiAnYWRtaW5NYXAnLFxyXG4gIGxheWVyczogW1xyXG4gICAgbWFwYm94LCBwcm9wZXJ0eVxyXG4gIF0sXHJcbiAgbG9hZFRpbGVzV2hpbGVBbmltYXRpbmc6IHRydWUsXHJcbiAgbG9hZFRpbGVzV2hpbGVJbnRlcmFjdGluZzogdHJ1ZSxcclxuICByZW5kZXJlcjogJ2NhbnZhcycsXHJcbiAgY29udHJvbHM6IG9sLmNvbnRyb2wuZGVmYXVsdHMoe1xyXG4gICAgYXR0cmlidXRpb25PcHRpb25zOiB7XHJcbiAgICAgIGNvbGxhcHNpYmxlOiBmYWxzZSxcclxuICAgICAgY29sbGFwc2VkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH0pLmV4dGVuZChbXHJcbiAgICBuZXcgb2wuY29udHJvbC5TY2FsZUxpbmUoe1xyXG4gICAgICB1bml0czogJ21ldHJpYydcclxuICAgIH0pLFxyXG4gICAgbmV3IG9sLmNvbnRyb2wuT3ZlcnZpZXdNYXAoe1xyXG4gICAgICBjbGFzc05hbWU6ICdvbC1vdmVydmlld21hcCBvbC1jdXN0b20tb3ZlcnZpZXdtYXAnLFxyXG4gICAgICBjb2xsYXBzaWJsZTogdHJ1ZSxcclxuICAgICAgY29sbGFwc2VkOiB0cnVlLFxyXG4gICAgICBsYXllcnM6IFtiaW5nXVxyXG4gICAgfSksXHJcbiAgICBuZXcgb2wuY29udHJvbC5ab29tVG9FeHRlbnQoe1xyXG4gICAgICBleHRlbnQ6IGV4dGVudFxyXG4gICAgfSlcclxuICBdKSxcclxuICB2aWV3OiBuZXcgb2wuVmlldyh7XHJcbiAgICBjZW50ZXI6IGNlbnRlcixcclxuICAgIC8vIGV4dGVudDogZXh0ZW50LFxyXG4gICAgcHJvamVjdGlvbjogJ0VQU0c6Mzg1NycsXHJcbiAgICB6b29tOiAxNCxcclxuICAgIG1heFpvb206IDE5LFxyXG4gICAgbWluWm9vbTogMTBcclxuICB9KVxyXG59KTtcclxuaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICBiaW5nLnNldCgnbmFtZScsICfOlM6/z4HPhc+Gzr/Pgc65zrrOriDOtc65zrrPjM69zrEnKTtcclxuICBtYXBib3guc2V0KCduYW1lJywgJ86nzqzPgc+EzrfPgicpO1xyXG4gIHByb3BlcnR5LnNldCgnbmFtZScsICfOkc66zq/Ovc63z4TOsScpO1xyXG59IGVsc2Uge1xyXG4gIGJpbmcuc2V0KCduYW1lJywgJ1NhdHRlbGl0ZSBJbWFnZScpO1xyXG4gIG1hcGJveC5zZXQoJ25hbWUnLCAnTWFwJyk7XHJcbiAgcHJvcGVydHkuc2V0KCduYW1lJywgJ1Byb3BlcnRpZXMnKTtcclxufVxyXG4vLz09PT09PSBpbnRlcmFjdGlvbnMgPT09PT09XHJcbmZlYXR1cmVzID0gbmV3IG9sLkNvbGxlY3Rpb24oKTtcclxuZHJhd25Qcm9wZXJ0aWVzID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc291cmNlOiBuZXcgb2wuc291cmNlLlZlY3RvcigpLFxyXG4gIHN0eWxlOiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSdcclxuICAgIH0pLFxyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6ICcjZmZjYzMzJyxcclxuICAgICAgd2lkdGg6IDJcclxuICAgIH0pLFxyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICByYWRpdXM6IDcsXHJcbiAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICBjb2xvcjogJyNmZmNjMzMnXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pLFxyXG4gIGlkOiAnZHJhd25Qcm9wZXJ0aWVzJ1xyXG59KTtcclxubWFwLmFkZExheWVyKGRyYXduUHJvcGVydGllcyk7XHJcbi8vZHJhd1xyXG5kcmF3ID0gbmV3IG9sLmludGVyYWN0aW9uLkRyYXcoe1xyXG4gIC8vIGZlYXR1cmVzOiBmZWF0dXJlcyxcclxuICBzb3VyY2U6IGRyYXduUHJvcGVydGllcy5nZXRTb3VyY2UoKSxcclxuICB0eXBlOiAnUG9pbnQnLFxyXG4gIHN0eWxlOiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSdcclxuICAgIH0pLFxyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6ICcjZmZjYzMzJyxcclxuICAgICAgd2lkdGg6IDJcclxuICAgIH0pLFxyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICByYWRpdXM6IDcsXHJcbiAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICBjb2xvcjogJyNmZmNjMzMnXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcbn0pO1xyXG5tYXAuYWRkSW50ZXJhY3Rpb24oZHJhdyk7XHJcbmRyYXcuc2V0QWN0aXZlKGZhbHNlKTtcclxuLy9zZWxlY3Rcclxuc2VsZWN0ID0gbmV3IG9sLmludGVyYWN0aW9uLlNlbGVjdCh7XHJcbiAgbGF5ZXJzOiBbcHJvcGVydHldLFxyXG4gIGZlYXR1cmVzOiBmZWF0dXJlcyxcclxuICBzdHlsZTogbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMCwgMCwgMC4yKSdcclxuICAgIH0pLFxyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6ICcjRkYwMDAwMycsXHJcbiAgICAgIHdpZHRoOiAyXHJcbiAgICB9KSxcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcclxuICAgICAgcmFkaXVzOiA3LFxyXG4gICAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgICAgY29sb3I6ICcjRkYwMDAwJ1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9KVxyXG59KTtcclxubWFwLmFkZEludGVyYWN0aW9uKHNlbGVjdCk7XHJcbnNlbGVjdC5zZXRBY3RpdmUoZmFsc2UpO1xyXG50cmFuc2xhdGUgPSBuZXcgb2wuaW50ZXJhY3Rpb24uVHJhbnNsYXRlKHtcclxuICBmZWF0dXJlczogc2VsZWN0LmdldEZlYXR1cmVzKClcclxufSk7XHJcbm1hcC5hZGRJbnRlcmFjdGlvbih0cmFuc2xhdGUpO1xyXG50cmFuc2xhdGUuc2V0QWN0aXZlKGZhbHNlKTtcclxuLy89PT09PT0gaW5mbyA9PT09PT1cclxubWFwLm9uKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcblxyXG5mdW5jdGlvbiBjbGlja0luZm8oZXZlbnQpIHtcclxuICB2YXIgb2JqID0ge307XHJcbiAgdmFyIGNsaWNrZWRGZWF0dXJlICwgY2xpY2tlZEZlYXR1cmVTdHlsZTtcclxuICBjbGlja2VkRmVhdHVyZVN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMCwgMCwgMC4yKSdcclxuICAgIH0pLFxyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6ICcjRkYwMDAwMycsXHJcbiAgICAgIHdpZHRoOiAyXHJcbiAgICB9KSxcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcclxuICAgICAgcmFkaXVzOiA3LFxyXG4gICAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgICAgY29sb3I6ICcjRkYwMDAwJ1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9KVxyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY2xpY2tlZEZlYXR1cmUgPSBtYXAuZm9yRWFjaEZlYXR1cmVBdFBpeGVsKGV2ZW50LnBpeGVsLCBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmVhdHVyZTogZmVhdHVyZSxcclxuICAgICAgbGF5ZXI6IGxheWVyXHJcbiAgICB9O1xyXG4gIH0sIHRoaXMsIGZ1bmN0aW9uKGxheWVyKSB7XHJcbiAgICBpZiAobGF5ZXIuZ2V0KCdpZCcpID09PSAncHJvcGVydHknKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH0sIHRoaXMpO1xyXG4gIGlmIChjbGlja2VkRmVhdHVyZSkge1xyXG4gICAgb2JqLmZlYXR1cmUgPSB7fTtcclxuICAgIGNsaWNrZWRGZWF0dXJlLmZlYXR1cmUuc2V0U3R5bGUoY2xpY2tlZEZlYXR1cmVTdHlsZSk7XHJcbiAgICAvLyBjbGlja2VkRmVhdHVyZS5mZWF0dXJlLnNldFNjYWxlKDEuMik7XHJcbiAgICBjbGlja2VkRmVhdHVyZS5mZWF0dXJlLmdldEtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICBvYmouZmVhdHVyZVtrZXldID0gY2xpY2tlZEZlYXR1cmUuZmVhdHVyZS5nZXQoa2V5KTtcclxuICAgIH0pO1xyXG4gICAgZHVzdC5yZW5kZXIoJ2FkbWluUHJvcGVydHlJbmZvJywgb2JqLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAkKCcucHJvcGVydHktaW5mbycpLmh0bWwob3V0KTtcclxuICAgICAgJCgnLnByb3BlcnR5LWluZm8nKS5yZW1vdmVDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgICAgY29tcG9uZW50SGFuZGxlci51cGdyYWRlRG9tKCk7XHJcbiAgICAgICQoJyNsaXN0aW5nJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgZ2lkO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZ2lkID0gJCh0aGlzKS5kYXRhKCdnaWQnKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTozMDAwL2RiL2xpc3RpbmcnLFxyXG4gICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICBnaWQ6IGdpZFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICB2YXIgbGlzdGluZ19pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAgICQoJy5tb2RhbC1kaWFsb2cnKS5yZW1vdmVDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgICAgICAgICAgZHVzdC5yZW5kZXIoJ2xpc3RpbmdJbnNlcnQnLCBkYXRhLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAgICAgICAgICQoJy5tb2RhbC1jb250ZW50JykuaHRtbChvdXQpO1xyXG4gICAgICAgICAgICAgIGNvbXBvbmVudEhhbmRsZXIudXBncmFkZURvbSgpO1xyXG4gICAgICAgICAgICAgIGhhbmRsZUZvcm0uc2V0KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdpbnNlcnQtdXBkYXRlLWxpc3RpbmcnLFxyXG4gICAgICAgICAgICAgICAgc3VibWl0QnRuSWQ6ICdvaydcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPW9wdGlvbnNdJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJ1NhbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICQoJyNwZXRzJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgJCgnI3BldHMnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAkKCdsYWJlbFtmb3I9cGV0c10nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAkKCcjcHJlZmVyZWRfY3VzdG9tZXInKS52YWwoJycpO1xyXG4gICAgICAgICAgICAgICAgICAkKCcjcHJlZmVyZWRfY3VzdG9tZXInKS5wYXJlbnQoKS5lcSgwKS5yZW1vdmVDbGFzcygnaXMtZGlydHknKTtcclxuICAgICAgICAgICAgICAgICAgJCgnI3ByZWZlcmVkX2N1c3RvbWVyJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICQoJyNwZXRzJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICQoJyNwcmVmZXJlZF9jdXN0b21lcicpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICQoJyNzZW50LWxpc3RpbmcnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGE7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IGhhbmRsZUZvcm0uZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRhdGEucHJvcGVydHlfZ2lkID0gZ2lkO1xyXG4gICAgICAgICAgICAgICAgICBkYXRhLmxpc3RpbmdfaWQgPSBsaXN0aW5nX2lkO1xyXG4gICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMC9kYi9saXN0aW5nL3VwZGF0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICd0ZXh0J1xyXG4gICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoanFYSFIuc3RhdHVzID09PSAyMDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Byb3BlcnR5IFVwZGF0ZWQgSW4gRGF0YWJhc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignT29wcyBTb21ldGhpbmcgV2VudCBXcm9uZyEhIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ09vcHMgU29tZXRoaW5nIFdlbnQgV3JvbmchISEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGb3JtLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkKCcjb3Blbk1vZGFsJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eVNvdXJjZS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY2xpY2tlZEZlYXR1cmUuZmVhdHVyZS5zZXRTdHlsZShudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAkKCcjY2FuY2VsLWxpc3RpbmcnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUZvcm0uY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIGNsaWNrZWRGZWF0dXJlLmZlYXR1cmUuc2V0U3R5bGUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjb3Blbk1vZGFsJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICAgIGlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgICAgICAgICAgICAgb2JqLm1zZyA9ICfOlM61zr0gzpLPgc6tzrjOt866zrUgzpHOs86zzrXOu86vzrEnLFxyXG4gICAgICAgICAgICAgIG9iai50ZXh0ID0gJ86UzrfOvM65zr/Phc+BzrPOr86xIM6azrHOuc69zr/Pjc+BzrPOuc6xz4I7JyxcclxuICAgICAgICAgICAgICBvYmoueWVzID0gJ86dzpHOmSdcclxuICAgICAgICAgICAgICBvYmoubm8gPSAnzp/Op86ZJ1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG9iai5tc2cgPSAnTm8gTGlzdGluZyBGb3VuZCcsXHJcbiAgICAgICAgICAgICAgb2JqLnRleHQgPSAnQ3JlYXRlIE5ldyBMaXN0aW5nPycsXHJcbiAgICAgICAgICAgICAgb2JqLnllcyA9ICdZRVMnXHJcbiAgICAgICAgICAgICAgb2JqLm5vID0gJ05PJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGR1c3QucmVuZGVyKCdkaWFsb2cnLCBvYmosIGZ1bmN0aW9uKGVycm9yLCBvdXQpIHtcclxuICAgICAgICAgICAgICAkKCcjb3Blbk1vZGFsJykucmVtb3ZlQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgJCgnLm1vZGFsLWNvbnRlbnQnKS5odG1sKG91dCk7XHJcbiAgICAgICAgICAgICAgY29tcG9uZW50SGFuZGxlci51cGdyYWRlRG9tKCk7XHJcbiAgICAgICAgICAgICAgJCgnI3llcycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZHVzdC5yZW5kZXIoJ2xpc3RpbmdJbnNlcnQnLCB7XHJcbiAgICAgICAgICAgICAgICAgIHJlbnQ6ICd0cnVlJ1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgJCgnLm1vZGFsLWNvbnRlbnQnKS5odG1sKG91dCk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEhhbmRsZXIudXBncmFkZURvbSgpO1xyXG4gICAgICAgICAgICAgICAgICBoYW5kbGVGb3JtLnNldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2luc2VydC11cGRhdGUtbGlzdGluZycsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0QnRuSWQ6ICdvaydcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9b3B0aW9uc10nKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJ1NhbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkKCcjcGV0cycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkKCcjcGV0cycpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkKCdsYWJlbFtmb3I9cGV0c10nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJCgnI3ByZWZlcmVkX2N1c3RvbWVyJykudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICQoJyNwcmVmZXJlZF9jdXN0b21lcicpLnBhcmVudCgpLmVxKDApLnJlbW92ZUNsYXNzKCdpcy1kaXJ0eScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJCgnI3ByZWZlcmVkX2N1c3RvbWVyJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJCgnI3BldHMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICQoJyNwcmVmZXJlZF9jdXN0b21lcicpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICQoJyNzZW50LWxpc3RpbmcnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGhhbmRsZUZvcm0uZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvcGVydHlfZ2lkID0gZ2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTozMDAwL2RiL2xpc3RpbmcvaW5zZXJ0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ3RleHQnXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZG9uZShmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqcVhIUi5zdGF0dXMgPT09IDIwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Byb3BlcnR5IFVwZGF0ZWQgSW4gRGF0YWJhc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmFpbChmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ09vcHMgU29tZXRoaW5nIFdlbnQgV3JvbmchISEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGb3JtLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI29wZW5Nb2RhbCcpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrZWRGZWF0dXJlLmZlYXR1cmUuc2V0U3R5bGUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICQoJyNjYW5jZWwtbGlzdGluZycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVGb3JtLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tlZEZlYXR1cmUuZmVhdHVyZS5zZXRTdHlsZShudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjb3Blbk1vZGFsJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAkKCcjbm8nKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICQoJyNvcGVuTW9kYWwnKS5hZGRDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgIGNsaWNrZWRGZWF0dXJlLmZlYXR1cmUuc2V0U3R5bGUobnVsbCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcHJvcGVydHlTb3VyY2UuZm9yRWFjaEZlYXR1cmUoZnVuY3Rpb24oZikge1xyXG4gICAgICBmLnNldFN0eWxlKG51bGwpXHJcbiAgICB9KTtcclxuICAgICQoJy5wcm9wZXJ0eS1pbmZvJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICB0b2FzdHIub3B0aW9ucyA9IHtcclxuICAgICAgJ3Bvc2l0aW9uQ2xhc3MnOiAndG9hc3QtYm90dG9tLWZ1bGwtd2lkdGgnLFxyXG4gICAgICAncHJldmVudER1cGxpY2F0ZXMnOiB0cnVlLFxyXG4gICAgICAndGltZU91dCc6IDYwXHJcbiAgICB9O1xyXG4gICAgdG9hc3RyLmVycm9yKCdDYW50IEZpbmQgQW55IFByb3BlcnR5IFRoZXJlLi4uJyk7XHJcbiAgfVxyXG59XHJcbi8vPT09PT09IGxvZ291dCA9PT09PT1cclxuJCgnI2xvZ291dCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIGxvY2F0aW9uLmhyZWYgPSAnL21hcC9sb2dvdXQnO1xyXG59KTtcclxuLy89PT09PT0gaW5zZXJ0ID09PT09PVxyXG4kKCcjaW5zZXJ0UHJvcGVydHknKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAkKCcucHJvcGVydHktaW5mbycpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgJ3Bvc2l0aW9uQ2xhc3MnOiAndG9hc3QtdG9wLWNlbnRlcicsXHJcbiAgICAncHJldmVudER1cGxpY2F0ZXMnOiB0cnVlLFxyXG4gICAgJ3RpbWVPdXQnOiA2MFxyXG4gIH07XHJcbiAgbWFwLnVuKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcbiAgc2VsZWN0LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgZHJhdy5zZXRBY3RpdmUodHJ1ZSk7XHJcbiAgZHJhdy5vbignZHJhd2VuZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZHJhdy5zZXRBY3RpdmUoZmFsc2UpO1xyXG4gICAgJCgnLm1vZGFsLWRpYWxvZycpLnJlbW92ZUNsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgZHVzdC5yZW5kZXIoJ3Byb3BlcnR5SW5zZXJ0Jywgb2JqLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAkKCcubW9kYWwtY29udGVudCcpLmh0bWwob3V0KTtcclxuICAgICAgY29tcG9uZW50SGFuZGxlci51cGdyYWRlRG9tKCk7XHJcbiAgICAgIGhhbmRsZUZvcm0uc2V0KHtcclxuICAgICAgICBuYW1lOiAnaW5zZXJ0UHJvcGVydHknLFxyXG4gICAgICAgIHN1Ym1pdEJ0bklkOiAnaW5zZXJ0J1xyXG4gICAgICB9KTtcclxuICAgICAgJCgnI2VzdGF0ZVR5cGUnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICfOnM6/zr3Ov866zrHPhM6/zrnOus6vzrEnKSB7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZV9lbicpLnZhbCgnRGV0YWNoZWQgSG91c2UnKTtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykucGFyZW50KCkuZmluZCgnLm1kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJykuaHRtbCgnRGV0YWNoZWQgSG91c2UnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnZhbCgnJyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykudmFsKCkgPT09ICfOlM65zrHOvM6tz4HOuc+DzrzOsScpIHtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykudmFsKCdBcGFydG1lbnQnKTtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykucGFyZW50KCkuZmluZCgnLm1kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJykuaHRtbCgnQXBhcnRtZW50Jyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS52YWwoJycpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykudmFsKCdTdG9yZScpO1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGVfZW4nKS5wYXJlbnQoKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKCdTdG9yZScpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykudmFsKDApO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICAkKCcjZXN0YXRlVHlwZV9lbicpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJ0RldGFjaGVkIEhvdXNlJykge1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGUnKS52YWwoJ86czr/Ovc6/zrrOsc+Ezr/Ouc66zq/OsScpO1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGUnKS5wYXJlbnQoKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKCfOnM6/zr3Ov866zrHPhM6/zrnOus6vzrEnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnZhbCgnJyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykudmFsKCkgPT09ICdBcGFydG1lbnQnKSB7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZScpLnZhbCgnzpTOuc6xzrzOrc+BzrnPg868zrEnKTtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlJykucGFyZW50KCkuZmluZCgnLm1kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJykuaHRtbCgnzpTOuc6xzrzOrc+BzrnPg868zrEnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnZhbCgnJyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGUnKS52YWwoJ86azrHPhM6sz4PPhM63zrzOsScpO1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGUnKS5wYXJlbnQoKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKCfOms6xz4TOrM+Dz4TOt868zrEnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnZhbCgwKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgJCgnI2NhbmNlbEluc2VydCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBoYW5kbGVGb3JtLmNsZWFyKCk7XHJcbiAgICAgICAgZHJhd25Qcm9wZXJ0aWVzLmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICQoJy5tb2RhbC1kaWFsb2cnKS5hZGRDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgICAgICBtYXAub24oJ2NsaWNrJywgY2xpY2tJbmZvKTtcclxuICAgICAgfSk7XHJcbiAgICAgICQoJyNpbnNlcnQnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBkYXRhLCBjO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZGF0YSA9IGhhbmRsZUZvcm0uZ2V0KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgIGhhbmRsZUNvb3Jkcy5zZXRMYXllcignZHJhd25Qcm9wZXJ0aWVzJyk7XHJcbiAgICAgICAgICBjID0gaGFuZGxlQ29vcmRzLmNvb3JkcygpO1xyXG4gICAgICAgICAgZGF0YS54ID0gY1swXTtcclxuICAgICAgICAgIGRhdGEueSA9IGNbMV07XHJcbiAgICAgICAgICBkYXRhLmFkbWluSWQgPSBpZDtcclxuICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMC9kYi9pbnNlcnQnLFxyXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHtcclxuICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgJ3Bvc2l0aW9uQ2xhc3MnOiAndG9hc3QtYm90dG9tLWZ1bGwtd2lkdGgnLFxyXG4gICAgICAgICAgICAgICdwcmV2ZW50RHVwbGljYXRlcyc6IHRydWUsXHJcbiAgICAgICAgICAgICAgJ3RpbWVPdXQnOiA2MFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAoanFYSFIuc3RhdHVzID09PSAyMDEpIHtcclxuICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnUHJvcGVydHkgUmVjb3JkZWQgSW4gRGF0YWJhc2UnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ09vcHMgU29tZXRoaW5nIFdlbnQgV3JvbmchISEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSkuZmFpbChmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGRyYXduUHJvcGVydGllcy5nZXRTb3VyY2UoKS5jbGVhcigpO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eVNvdXJjZS5jbGVhcigpO1xyXG4gICAgICAgICAgICBoYW5kbGVGb3JtLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICQoJy5tb2RhbC1kaWFsb2cnKS5hZGRDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgICAgICAgICAgbWFwLm9uKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4vLz09PT09PSBkZWxldGUgPT09PT09XHJcbiQoJyNkZWxldGVQcm9wZXJ0eScpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAkKCcucHJvcGVydHktaW5mbycpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgJ3Bvc2l0aW9uQ2xhc3MnOiAndG9hc3QtdG9wLWNlbnRlcicsXHJcbiAgICAncHJldmVudER1cGxpY2F0ZXMnOiB0cnVlLFxyXG4gICAgJ3RpbWVPdXQnOiAyMFxyXG4gIH07XHJcbiAgbWFwLnVuKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcbiAgZHJhdy5zZXRBY3RpdmUoZmFsc2UpO1xyXG4gIGZlYXR1cmVzLmNsZWFyKCk7XHJcbiAgcHJvcGVydHlTb3VyY2UuY2xlYXIoKTtcclxuICBzZWxlY3Quc2V0QWN0aXZlKHRydWUpO1xyXG4gIHNlbGVjdC5vbmNlKCdzZWxlY3QnLCBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgJHRvYXN0O1xyXG4gICAgaWYgKGUudGFyZ2V0LmdldEZlYXR1cmVzKCkuZ2V0TGVuZ3RoKCkgPT09IDEpIHtcclxuICAgICAgdG9hc3RyLm9wdGlvbnMubmV3ZXN0T25Ub3AgPSB0cnVlO1xyXG4gICAgICB0b2FzdHIub3B0aW9ucy5wcmV2ZW50RHVwbGljYXRlcyA9IHRydWU7XHJcbiAgICAgIHRvYXN0ci5vcHRpb25zLmV4dGVuZGVkVGltZU91dCA9IDA7XHJcbiAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSAwO1xyXG4gICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICR0b2FzdCA9IHRvYXN0ci53YXJuaW5nKCc8cD5BcmUgeW91IHN1cmU/PC9wPjxkaXYgY2xhc3M9XCJ0b2FzdHItYnRuc1wiPjxidXR0b24gaWQ9XCJ5ZXNEZWxldGVcIiBjbGFzcz1cIm1kbC1idXR0b24gbWRsLWpzLWJ1dHRvbiBcIj5ZZXM8L2J1dHRvbj48YnV0dG9uIGlkPVwibm9EZWxldGVcIiBjbGFzcz1cIm1kbC1idXR0b24gbWRsLWpzLWJ1dHRvblwiPk5vPC9idXR0b24+PC9kaXY+Jyk7XHJcbiAgICAgICR0b2FzdC5vbignY2xpY2snLCAnI3llc0RlbGV0ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBnaWQgPSBzZWxlY3QuZ2V0RmVhdHVyZXMoKS5pdGVtKDApLmdldCgnZ2lkJyk7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgIHVybDogJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMC9kYi9kZWxldGUnLFxyXG4gICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgZGF0YVR5cGU6ICd0ZXh0JyxcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgZ2lkOiBnaWRcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGpxWEhSLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICdwb3NpdGlvbkNsYXNzJzogJ3RvYXN0LWJvdHRvbS1mdWxsLXdpZHRoJyxcclxuICAgICAgICAgICAgICAncHJldmVudER1cGxpY2F0ZXMnOiB0cnVlLFxyXG4gICAgICAgICAgICAgICd0aW1lT3V0JzogNjBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Byb3BlcnR5IERlbGV0ZWQgRnJvbSBEYXRhYmFzZScpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xyXG4gICAgICAgICAgICB0b2FzdHIub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAncG9zaXRpb25DbGFzcyc6ICd0b2FzdC1ib3R0b20tZnVsbC13aWR0aCcsXHJcbiAgICAgICAgICAgICAgJ3ByZXZlbnREdXBsaWNhdGVzJzogdHJ1ZSxcclxuICAgICAgICAgICAgICAndGltZU91dCc6IDYwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcHJvcGVydHlTb3VyY2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgc2VsZWN0LmdldEZlYXR1cmVzKCkuY2xlYXIoKTtcclxuICAgICAgICAgICAgc2VsZWN0LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIG1hcC5vbignY2xpY2snLCBjbGlja0luZm8pO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICR0b2FzdC5yZW1vdmUoKTtcclxuICAgICAgfSk7XHJcbiAgICAgICR0b2FzdC5vbignY2xpY2snLCAnI25vRGVsZXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHRvYXN0LnJlbW92ZSgpO1xyXG4gICAgICAgIHNlbGVjdC5nZXRGZWF0dXJlcygpLmNsZWFyKCk7XHJcbiAgICAgICAgc2VsZWN0LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vPT09PT09IHVwZGF0ZSA9PT09PT1cclxuXHJcbiQoJyN1cGRhdGVQcm9wZXJ0eScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgdmFyIGdpZCwgb2JqO1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbWFwLnVuKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcbiAgZHJhdy5zZXRBY3RpdmUoZmFsc2UpO1xyXG4gIGZlYXR1cmVzLmNsZWFyKCk7XHJcbiAgcHJvcGVydHlTb3VyY2UuY2xlYXIoKTtcclxuICBzZWxlY3Quc2V0QWN0aXZlKHRydWUpO1xyXG4gIHRyYW5zbGF0ZS5zZXRBY3RpdmUodHJ1ZSk7XHJcbiAgJCgnLnByb3BlcnR5LWluZm8nKS5hZGRDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICBzZWxlY3Qub25jZSgnc2VsZWN0JywgZnVuY3Rpb24oZSkge1xyXG4gICAgaWYgKHNlbGVjdC5nZXRGZWF0dXJlcygpLmdldExlbmd0aCgpID09PSAxKSB7XHJcbiAgICAgIGdpZCA9IHNlbGVjdC5nZXRGZWF0dXJlcygpLml0ZW0oMCkuZ2V0KCdnaWQnKTtcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAvZGIvZmV0Y2gnLFxyXG4gICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGdpZDogZ2lkXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgIG9iaiA9IF8uaGVhZChkYXRhLmZlYXR1cmVzKS5wcm9wZXJ0aWVzO1xyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdG9hc3RyLmVycm9yKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ2NvbXBsZXRlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgdHJhbnNsYXRlLm9uKCd0cmFuc2xhdGVlbmQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgY29vcmRzID0gb2wucHJvai50cmFuc2Zvcm0oZS5jb29yZGluYXRlLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgJCgnLm1vZGFsLWRpYWxvZycpLnJlbW92ZUNsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgZHVzdC5yZW5kZXIoJ3Byb3BlcnR5VXBkYXRlJywgb2JqLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICB2YXIgb2xkVmFsdWVzID0ge307XHJcbiAgICAgICQoJy5tb2RhbC1jb250ZW50JykuaHRtbChvdXQpO1xyXG4gICAgICBvbGRWYWx1ZXMuYmVkcm9vbXMgPSAkKCcjYmVkcm9vbXMnKS52YWwoKTtcclxuICAgICAgY29tcG9uZW50SGFuZGxlci51cGdyYWRlRG9tKCk7XHJcbiAgICAgIGhhbmRsZUZvcm0uc2V0KHtcclxuICAgICAgICBuYW1lOiAndXBkYXRlUHJvcGVydHknLFxyXG4gICAgICAgIHN1Ym1pdEJ0bklkOiAndXBkYXRlJ1xyXG4gICAgICB9KTtcclxuICAgICAgJCgnI2VzdGF0ZVR5cGUnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICfOnM6/zr3Ov866zrHPhM6/zrnOus6vzrEnKSB7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZV9lbicpLnZhbCgnRGV0YWNoZWQgSG91c2UnKTtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykucGFyZW50KCkuZmluZCgnLm1kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJykuaHRtbCgnRGV0YWNoZWQgSG91c2UnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnZhbChvbGRWYWx1ZXMuYmVkcm9vbXMpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLnZhbCgpID09PSAnzpTOuc6xzrzOrc+BzrnPg868zrEnKSB7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZV9lbicpLnZhbCgnQXBhcnRtZW50Jyk7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZV9lbicpLnBhcmVudCgpLmZpbmQoJy5tZGwtc2VsZWN0ZmllbGRfX2JveC12YWx1ZScpLmh0bWwoJ0FwYXJ0bWVudCcpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykudmFsKG9sZFZhbHVlcy5iZWRyb29tcyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGVfZW4nKS52YWwoJ1N0b3JlJyk7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZV9lbicpLnBhcmVudCgpLmZpbmQoJy5tZGwtc2VsZWN0ZmllbGRfX2JveC12YWx1ZScpLmh0bWwoJ1N0b3JlJyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS52YWwoMCk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnRGV0YWNoZWQgSG91c2UnKSB7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZScpLnZhbCgnzpzOv869zr/Ous6xz4TOv865zrrOr86xJyk7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZScpLnBhcmVudCgpLmZpbmQoJy5tZGwtc2VsZWN0ZmllbGRfX2JveC12YWx1ZScpLmh0bWwoJ86czr/Ovc6/zrrOsc+Ezr/Ouc66zq/OsScpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykudmFsKG9sZFZhbHVlcy5iZWRyb29tcyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykudmFsKCkgPT09ICdBcGFydG1lbnQnKSB7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZScpLnZhbCgnzpTOuc6xzrzOrc+BzrnPg868zrEnKTtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlJykucGFyZW50KCkuZmluZCgnLm1kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJykuaHRtbCgnzpTOuc6xzrzOrc+BzrnPg868zrEnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnZhbChvbGRWYWx1ZXMuYmVkcm9vbXMpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlJykudmFsKCfOms6xz4TOrM+Dz4TOt868zrEnKTtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlJykucGFyZW50KCkuZmluZCgnLm1kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJykuaHRtbCgnzprOsc+EzqzPg8+EzrfOvM6xJyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS52YWwoMCk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgICQoJyN1cGRhdGUnKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBkYXRhO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZGF0YSA9IGhhbmRsZUZvcm0uZ2V0KCk7XHJcbiAgICAgICAgaWYgKCFfLmlzTmlsKGRhdGEpKSB7XHJcbiAgICAgICAgICBkYXRhLnggPSBjb29yZHNbMF07XHJcbiAgICAgICAgICBkYXRhLnkgPSBjb29yZHNbMV07XHJcbiAgICAgICAgICBkYXRhLmdpZCA9IGdpZDtcclxuXHJcbiAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAvZGIvdXBkYXRlJyxcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZG9uZShmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikge1xyXG4gICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgJ3Bvc2l0aW9uQ2xhc3MnOiAndG9hc3QtYm90dG9tLWZ1bGwtd2lkdGgnLFxyXG4gICAgICAgICAgICAgICAgJ3ByZXZlbnREdXBsaWNhdGVzJzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICd0aW1lT3V0JzogNjBcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGlmIChqcVhIUi5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Byb3BlcnR5IFVwZGF0ZWQgSW4gRGF0YWJhc2UnKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ09vcHMgU29tZXRoaW5nIFdlbnQgV3JvbmchISEnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBwcm9wZXJ0eVNvdXJjZS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgIHNlbGVjdC5nZXRGZWF0dXJlcygpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgc2VsZWN0LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgdHJhbnNsYXRlLnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgbWFwLm9uKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcbiAgICAgICAgICAgICAgJCgnLm1vZGFsLWRpYWxvZycpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICAkKCcjY2FuY2VsVXBkYXRlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGhhbmRsZUZvcm0uY2xlYXIoKTtcclxuICAgICAgICBwcm9wZXJ0eVNvdXJjZS5jbGVhcigpO1xyXG4gICAgICAgIHNlbGVjdC5nZXRGZWF0dXJlcygpLmNsZWFyKCk7XHJcbiAgICAgICAgc2VsZWN0LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgdHJhbnNsYXRlLnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgbWFwLm9uKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcbiAgICAgICAgJCgnLm1vZGFsLWRpYWxvZycpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgICAgIG1hcC5vbignY2xpY2snLCBjbGlja0luZm8pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgJCgnI2FkbWluTWFwJykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICB9KTtcclxufSk7XHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gIHdpbmRvdy5QYXJzbGV5Lm9uKCdmaWVsZDplcnJvcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gVGhpcyBnbG9iYWwgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgZm9yIGFueSBmaWVsZCB0aGF0IGZhaWxzIHZhbGlkYXRpb24uXHJcbiAgICBjb25zb2xlLmxvZygnVmFsaWRhdGlvbiBmYWlsZWQgZm9yOiAnLCB0aGlzLiRlbGVtZW50KTtcclxuICB9KTtcclxuICB3aW5kb3cuUGFyc2xleVxyXG4gICAgLmFkZFZhbGlkYXRvcignZGF0ZScsIHtcclxuICAgICAgcmVxdWlyZW1lbnRUeXBlOiAnc3RyaW5nJyxcclxuICAgICAgdmFsaWRhdGVTdHJpbmc6IGZ1bmN0aW9uKHZhbHVlLCByZXF1aXJlbWVudCkge1xyXG4gICAgICAgIGlmIChtb21lbnQodmFsdWUsICdERC1NTS1ZWVlZJywgdHJ1ZSkuaXNWYWxpZCgpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2VzOiB7XHJcbiAgICAgICAgZW46ICdXcm9uZyBEYXRlJyxcclxuICAgICAgICBlbDogJ86bzqzOuM6/z4IgzpfOvM61z4HOv868zrfOvc6vzrEnXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4vLyB3aW5kb3cuUGFyc2xleVxyXG4vLyAgIC5hZGRWYWxpZGF0b3IoJ3NhbGVyZW50ZW4nLCB7XHJcbi8vICAgICByZXF1aXJlbWVudFR5cGU6ICdzdHJpbmcnLFxyXG4vLyAgICAgdmFsaWRhdGVTdHJpbmc6IGZ1bmN0aW9uKHZhbHVlLCByZXF1aXJlbWVudCkge1xyXG4vLyAgICAgICBpZiAodmFsdWUgPT09ICdTYWxlJyB8fCB2YWx1ZSA9PT0gJ1JlbnQnKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRydWVcclxuLy8gICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICByZXR1cm4gZmFsc2VcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIG1lc3NhZ2VzOiB7XHJcbi8vICAgICAgIGVuOiAnUGxlYXNlIFR5cGUgU2FsZSBvciBSZW50JyxcclxuLy8gICAgICAgZWw6ICfOoM6xz4HOsc66zrHOu8+OIM+AzrvOt866z4HOv867zr/Os86uz4PPhM61IFNhbGUgzq4gUmVudCdcclxuLy8gICAgIH1cclxuLy8gICB9KTtcclxuLy8gd2luZG93LlBhcnNsZXlcclxuLy8gICAuYWRkVmFsaWRhdG9yKCdzYWxlcmVudGVsJywge1xyXG4vLyAgICAgcmVxdWlyZW1lbnRUeXBlOiAnc3RyaW5nJyxcclxuLy8gICAgIHZhbGlkYXRlU3RyaW5nOiBmdW5jdGlvbih2YWx1ZSwgcmVxdWlyZW1lbnQpIHtcclxuLy8gICAgICAgaWYgKHZhbHVlID09PSAnzqDPjs67zrfPg863JyB8fCB2YWx1ZSA9PT0gJ86Vzr3Ov865zrrOr86xz4POtycpIHtcclxuLy8gICAgICAgICByZXR1cm4gdHJ1ZVxyXG4vLyAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIHJldHVybiBmYWxzZVxyXG4vLyAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgbWVzc2FnZXM6IHtcclxuLy8gICAgICAgZW46ICdQbGVhc2UgVHlwZSDOoM+OzrvOt8+Dzrcgb3IgzpXOvc6/zrnOus6vzrHPg863JyxcclxuLy8gICAgICAgZWw6ICfOoM6xz4HOsc66zrHOu8+OIM+AzrvOt866z4HOv867zr/Os86uz4PPhM61IM6gz47Ou863z4POtyDOriDOlc69zr/Ouc66zq/Osc+DzrcnXHJcbi8vICAgICB9XHJcbi8vICAgfSk7XHJcbn0pO1xyXG4iLCJ2YXIgaGFuZGxlQ29vcmRzID0gKGZ1bmN0aW9uKG9sKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIHZhciBjb29yZHM7XHJcbiAgdmFyIGw7XHJcblxyXG4gIGZ1bmN0aW9uIGZpbmRCeUlkKGlkKSB7XHJcbiAgICB2YXIgbGF5ZXJzID0gbWFwLmdldExheWVycygpO1xyXG4gICAgdmFyIGxlbmd0aCA9IGxheWVycy5nZXRMZW5ndGgoKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGlkID09PSBsYXllcnMuaXRlbShpKS5nZXQoJ2lkJykpIHtcclxuICAgICAgICByZXR1cm4gbGF5ZXJzLml0ZW0oaSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZmluZEJ5TmFtZShuYW1lKSB7XHJcbiAgICB2YXIgaTtcclxuICAgIHZhciBsYXllcnMgPSBtYXAuZ2V0TGF5ZXJzKCk7XHJcbiAgICB2YXIgbGVuZ3RoID0gbGF5ZXJzLmdldExlbmd0aCgpO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChuYW1lID09PSBsYXllcnMuaXRlbShpKS5nZXQoJ25hbWVFbicpIHx8IG5hbWUgPT09IGxheWVycy5pdGVtKGkpLmdldCgnbmFtZUVsJykpIHtcclxuICAgICAgICByZXR1cm4gbGF5ZXJzLml0ZW0oaSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2V0TGF5ZXIoaWQpIHtcclxuICAgIGwgPSBmaW5kQnlJZChpZCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRDb29yZHMoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgY29vcmRFUFNHMzg1NztcclxuICAgIGNvb3JkRVBTRzM4NTcgPSBsLmdldFNvdXJjZSgpLmdldEZlYXR1cmVzKClbMF0uZ2V0R2VvbWV0cnkoKS5nZXRDb29yZGluYXRlcygpO1xyXG4gICAgY29vcmRzID0gb2wucHJvai50cmFuc2Zvcm0oY29vcmRFUFNHMzg1NywgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgIHJldHVybiBjb29yZHM7XHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICBjb29yZHM6IGdldENvb3JkcyxcclxuICAgIHNldExheWVyOiBzZXRMYXllclxyXG4gIH07XHJcbn0ob2wpKTtcclxuIiwidmFyIGhhbmRsZUZvcm0gPSAoZnVuY3Rpb24oJCwgcGFyc2xleSkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuICB2YXIgZm9ybU5hbWUsIHN1Ym1pdEJ0bklkLCBwO1xyXG5cclxuICBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIGZvcm1OYW1lID0gb3B0aW9ucy5uYW1lO1xyXG4gICAgc3VibWl0QnRuSWQgPSBvcHRpb25zLnN1Ym1pdEJ0bklkO1xyXG4gICAgZW5hYmxlU2VsZWN0KCk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGVuYWJsZVNlbGVjdCgpIHtcclxuICAgIHZhciBlID0gJCgnLmdldG1kbC1zZWxlY3QnKTtcclxuICAgIGUuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcnModGhpcyk7XHJcbiAgICB9KVxyXG4gIH1cclxuICBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyhlKSB7XHJcbiAgICB2YXIgdCA9IGUucXVlcnlTZWxlY3RvcignaW5wdXQnKSxcclxuICAgICAgICBuID0gZS5xdWVyeVNlbGVjdG9yQWxsKCdsaScpO1xyXG4gICAgZS5xdWVyeVNlbGVjdG9yKCdpJyk7XHJcbiAgICBbXS5mb3JFYWNoLmNhbGwobiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0LnZhbHVlID0gZS50ZXh0Q29udGVudFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuICBmdW5jdGlvbiBkaXNhYmxlU3VibWl0QnRuKCkge1xyXG4gICAgJCgnIycgKyBzdWJtaXRCdG5JZCArICcnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlVmFsaWRhdG9yKCkge1xyXG4gICAgcCA9ICQoJ2Zvcm1bbmFtZT1cIicgKyBmb3JtTmFtZSArICdcIicpLnBhcnNsZXkoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZGVzdHJveVZhbGlkYXRvcigpIHtcclxuICAgIHAuZGVzdHJveSgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdmFsaWRhdGVGb3JtKCkge1xyXG4gICAgcmV0dXJuIHAudmFsaWRhdGUoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9uVmFsaWRhdGVGb3JtU3VjY2VzcygpIHtcclxuICAgIHAub24oJ2Zvcm06c3VjY2VzcycsXHJcblxyXG4gICAgICBmdW5jdGlvbigpIHt9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZXMoKSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICBjcmVhdGVWYWxpZGF0b3IoKTtcclxuICAgIGlmICh2YWxpZGF0ZUZvcm0oKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAkKCdmb3JtW25hbWU9XCInICsgZm9ybU5hbWUgKyAnXCInKS5maW5kKCcubWRsLXRleHRmaWVsZF9faW5wdXQnKS5lYWNoKFxyXG5cclxuICAgICAgICBmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICAgICAgb2JqWyQodGhpcykuYXR0cignaWQnKV0gPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAkKCdmb3JtW25hbWU9XCInICsgZm9ybU5hbWUgKyAnXCInKS5maW5kKCcubWRsLWNoZWNrYm94X19pbnB1dCcpLmVhY2goXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICBvYmpbJCh0aGlzKS5hdHRyKCdpZCcpXSA9ICQodGhpcykucHJvcCgnY2hlY2tlZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAkKCdmb3JtW25hbWU9XCInICsgZm9ybU5hbWUgKyAnXCInKS5maW5kKCcubWRsLXJhZGlvX19idXR0b24nKS5lYWNoKFxyXG4gICAgICAgIGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICBvYmpbJCh0aGlzKS5hdHRyKCdpZCcpXSA9ICQodGhpcykucHJvcCgnY2hlY2tlZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAkKCdmb3JtW25hbWU9XCInICsgZm9ybU5hbWUgKyAnXCInKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19zZWxlY3QnKS5lYWNoKFxyXG4gICAgICAgIGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICBvYmpbJCh0aGlzKS5hdHRyKCdpZCcpXSA9ICQodGhpcykudmFsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbiAgICBlbHNlIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVzZXRGb3JtKCkge1xyXG4gICAgaWYgKGNyZWF0ZVZhbGlkYXRvcigpID09IHRydWUpIHtcclxuICAgICAgZGVzdHJveVZhbGlkYXRvcigpO1xyXG4gICAgfVxyXG4gICAgJCgnZm9ybVtuYW1lPVwiJyArIGZvcm1OYW1lICsgJ1wiJykuZmluZCgnLm1kbC10ZXh0ZmllbGRfX2lucHV0JykuZWFjaChcclxuXHJcbiAgICAgIGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgJCh0aGlzKS52YWwoJycpO1xyXG4gICAgICAgICQodGhpcykucGFyZW50KCkuZXEoMCkucmVtb3ZlQ2xhc3MoJ2lzLWRpcnR5Jyk7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5lcSgwKS5yZW1vdmVDbGFzcygnaXMtaW52YWxpZCcpO1xyXG4gICAgICB9KTtcclxuICAgICQoJ2Zvcm1bbmFtZT1cIicgKyBmb3JtTmFtZSArICdcIicpLmZpbmQoJy5tZGwtY2hlY2tib3hfX2lucHV0JykuZWFjaChcclxuXHJcbiAgICAgIGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICAgICQoJ2Zvcm1bbmFtZT1cIicgKyBmb3JtTmFtZSArICdcIicpLmZpbmQoJy5tZGwtY2hlY2tib3gnKS5lYWNoKFxyXG5cclxuICAgICAgZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4ge1xyXG4gICAgc2V0OiBzZXRPcHRpb25zLFxyXG4gICAgZ2V0OiBnZXRBdHRyaWJ1dGVzLFxyXG4gICAgY2xlYXI6IHJlc2V0Rm9ybVxyXG4gIC8vIGNyZWF0ZVZhbGlkYXRvcjogY3JlYXRlVmFsaWRhdG9yLFxyXG4gIC8vIGRlc3Ryb3lWYWxpZGF0b3I6IGRlc3Ryb3lWYWxpZGF0b3IsXHJcbiAgLy8gdmFsaWRhdGVGb3JtOiB2YWxpZGF0ZUZvcm0sXHJcbiAgLy8gb25WYWxpZGF0ZUZvcm1TdWNjZXNzOiBvblZhbGlkYXRlRm9ybVN1Y2Nlc3MsXHJcbiAgLy8gZGlzYWJsZVN1Ym1pdEJ0bjogZGlzYWJsZVN1Ym1pdEJ0blxyXG4gIH07XHJcbn0oalF1ZXJ5LCBwYXJzbGV5KSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
