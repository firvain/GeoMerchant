function getIconType(e){var t={Apartment:function(){return"apartment"},Store:function(){return"store"},"Detached House":function(){return"detached"}};return t[e]()}function getIconPath(e){var t={"true":function(){return"./images/pins/sale/"},"false":function(){return"./images/pins/rent/"},none:function(){return"./images/pins/none/"}};return t[e]()}function PropertyStyle(e){var t;return t=getIconPath("none")+getIconType(e.get("estatetype_en"))+"-48.png",new ol.style.Style({image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[.5,0],scale:1})})}function drawnPropertiesStyle(e){var t;return t="./images/pins/generic-48.png","undefined"!=typeof e?new ol.style.Style({image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[.5,0],scale:1,color:e})}):new ol.style.Style({image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[.5,0],scale:1})})}function selectedStyle(e){var t;return t=getIconPath("none")+getIconType(e.get("estatetype_en"))+"-64.png",new ol.style.Style({image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[.5,0],scale:1,color:"#ffeb3b"})})}function clickInfo(e){var t={};e.preventDefault(),select.setActive(!0),select.once("select",function(e){var o,n=e.selected,a=n.length;1===a?(t.feature={},o=_.head(e.selected),o.getKeys().forEach(function(e){t.feature[e]=o.get(e)}),dust.render("adminPropertyInfo",t,function(e,t){$(".property-info").html(t),$(".property-info").removeClass("visuallyhidden"),componentHandler.upgradeDom(),$("#listing").on("click",function(e){var t;e.preventDefault(),t=$(this).data("gid"),$.ajax({url:"http://127.0.0.1:3000/db/listing",type:"GET",dataType:"json",data:{gid:t}}).done(function(e){var o=e.id;$("#openModal").css("width","auto"),$(".modal-dialog").removeClass("visuallyhidden"),dust.render("listingInsert",e,function(e,n){$(".modal-content").html(n),componentHandler.upgradeDom(),handleForm.set({name:"insert-update-listing",submitBtnId:"ok"}),"Sale"===$("input[name=options]:checked").val()&&($("#pets").parent().hide(),$("#prefered_customer").parent().hide()),$("input[name=options]").on("change",function(e){"Sale"===$(this).val()?($("#pets").prop("disabled",!0),$("#pets").prop("checked",!1),$("#pets").parent().hide(),$("label[for=pets]").removeClass("is-checked"),$("#prefered_customer").val(""),$("#prefered_customer").parent().eq(0).removeClass("is-dirty"),$("#prefered_customer").prop("disabled",!0),$("#prefered_customer").parent().hide()):($("#pets").prop("disabled",!1),$("#pets").parent().show(),$("#prefered_customer").prop("disabled",!1),$("#prefered_customer").parent().show())}),$("#sent-listing").on("click",function(e){var n;e.preventDefault(),n=handleForm.get(),null!==n&&(n.property_gid=t,n.listing_id=o,$.ajax({url:"http://127.0.0.1:3000/db/listing/update",type:"POST",data:n,dataType:"text"}).done(function(e,t,o){201===o.status?toastr.success("Property Updated In Database"):toastr.error("Oops Something Went Wrong!!!")}).fail(function(e,t,o){toastr.error("Oops Something Went Wrong!!!")}).always(function(){handleForm.clear(),$("#openModal").addClass("visuallyhidden"),propertySource.clear(),select.getFeatures().clear(),select.setActive(!1)}))}),$("#cancel-listing").on("click",function(e){e.preventDefault(),handleForm.clear(),select.getFeatures().clear(),select.setActive(!1),$("#openModal").addClass("visuallyhidden")})})}).fail(function(){var e={};"el"===lang?(e.msg="Δεν Βρέθηκε Αγγελία",e.text="Δημιουργία Καινούργιας;",e.yes="ΝΑΙ",e.no="ΟΧΙ"):(e.msg="No Listing Found",e.text="Create New Listing?",e.yes="YES",e.no="NO"),dust.render("dialog",e,function(e,o){$("#openModal").removeClass("visuallyhidden"),$("#openModal").css("width","auto"),$(".modal-content").html(o),componentHandler.upgradeDom(),$("#yes").on("click",function(e){e.preventDefault(),dust.render("listingInsert",{rent:"true",addImage:"true"},function(e,o){var n;$(".modal-content").html(o),componentHandler.upgradeDom(),n=new Dropzone(document.getElementById("dropzone"),{uploadMultiple:!1,acceptedFiles:".jpg",parallelUploads:6,url:"https://api.cloudinary.com/v1_1/firvain/auto/upload"}),n.on("sending",function(e,o,n){n.append("api_key",375138932689591),n.append("callback","http://127.0.0.1:3000/public/cloudinary_cors.html"),n.append("upload_preset","testupload"),n.append("public_id",t)}),n.on("success",function(){this.element.style.display="none"}),handleForm.set({name:"insert-update-listing",submitBtnId:"ok"}),$("input[name=options]").on("change",function(e){"Sale"===$(this).val()?($("#pets").prop("disabled",!0),$("#pets").prop("checked",!1),$("label[for=pets]").removeClass("is-checked"),$("#prefered_customer").val(""),$("#prefered_customer").parent().eq(0).removeClass("is-dirty"),$("#prefered_customer").prop("disabled",!0)):($("#pets").prop("disabled",!1),$("#prefered_customer").prop("disabled",!1))}),$("#sent-listing").on("click",function(e){var o;e.preventDefault(),o=handleForm.get(),null!==o&&(o.property_gid=t,$.ajax({url:"http://127.0.0.1:3000/db/listing/insert",type:"POST",data:o,dataType:"text"}).done(function(e,t,o){201===o.status?toastr.success("Property Updated In Database"):toastr.error("Oops Something Went Wrong!!!")}).fail(function(e,t,o){toastr.error("Oops Something Went Wrong!!!")}).always(function(){handleForm.clear(),$("#openModal").addClass("visuallyhidden"),select.getFeatures().clear(),select.setActive(!1)}))}),$("#cancel-listing").on("click",function(e){e.preventDefault(),handleForm.clear(),select.getFeatures().clear(),select.setActive(!1),$("#openModal").addClass("visuallyhidden")})})}),$("#no").on("click",function(e){e.preventDefault(),$("#openModal").addClass("visuallyhidden"),select.getFeatures().clear(),select.setActive(!1)})})})})})):(select.getFeatures().clear(),$(".property-info").addClass("visuallyhidden"),toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},toastr.error("Cant Find Any Property There..."))})}var $loading=$(".mdl-spinner");$(document).ajaxStart(function(){$loading.addClass("is-active")}).ajaxStop(function(){$loading.removeClass("is-active")});var center=[3677385,4120949],extent=[3590094,4102833,3855483,4261211],lang=document.documentElement.lang,geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326"}),propertySource,property,map,features,drawnProperties,draw,select,translate,bing=new ol.layer.Tile({visible:!0,source:new ol.source.BingMaps({key:"Ak2Gq8VUfICsPpuf7LRANXmXt2sHWmSLPhohmVLFtFIEwYjs_5MCyAhAFwRSVpLj",imagerySet:"Aerial"}),maxZoom:19,crossOrigin:"anonymous",preload:1/0,id:"bing"}),mapbox=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'<a href="https://www.mapbox.com/about/maps/" target="_blank">&copy; Mapbox &copy; OpenStreetMap</a>'})],url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA"}),id:"mapbox"});propertySource=new ol.source.Vector({format:geoJSONFormat,loader:function(e,t,o){var n="http://127.0.0.1:3000/db/admin",a=this;a.clear(),$.ajax({url:n,type:"POST",beforeSend:function(e){localStorage.getItem("userToken")&&e.setRequestHeader("Authorization","Bearer "+localStorage.getItem("userToken"))},dataType:"json",data:{id:id}}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});a.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.all}),property=new ol.layer.Vector({source:propertySource,id:"property",visible:!0,style:PropertyStyle}),property.setZIndex(2),map=new ol.Map({target:"adminMap",layers:[mapbox,property],loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",controls:ol.control.defaults({attributionOptions:{collapsible:!1,collapsed:!1}}).extend([new ol.control.ScaleLine({units:"metric"}),new ol.control.OverviewMap({className:"ol-overviewmap ol-custom-overviewmap",collapsible:!0,collapsed:!0,layers:[bing]}),new ol.control.ZoomToExtent({extent:extent})]),view:new ol.View({center:center,projection:"EPSG:3857",zoom:14,maxZoom:19,minZoom:10})}),"el"===lang?(bing.set("name","Δορυφορική εικόνα"),mapbox.set("name","Χάρτης"),property.set("name","Ακίνητα")):(bing.set("name","Sattelite Image"),mapbox.set("name","Map"),property.set("name","Properties")),features=new ol.Collection,drawnProperties=new ol.layer.Vector({source:new ol.source.Vector,id:"drawnProperties",style:drawnPropertiesStyle("#4caf50")}),map.addLayer(drawnProperties),draw=new ol.interaction.Draw({source:drawnProperties.getSource(),type:"Point",style:drawnPropertiesStyle("#4caf50")}),map.addInteraction(draw),draw.setActive(!1),select=new ol.interaction.Select({layers:[property],features:features,multi:!1,style:selectedStyle}),map.addInteraction(select),select.setActive(!1),translate=new ol.interaction.Translate({features:select.getFeatures()}),map.addInteraction(translate),translate.setActive(!1),map.on("click",clickInfo),$("#logout").click(function(){location.href="/map/logout"}),$("#insertProperty").click(function(){toastr.clear(),$(".property-info").addClass("visuallyhidden"),toastr.options={positionClass:"toast-top-center",preventDuplicates:!0,timeOut:60},map.un("click",clickInfo),select.getFeatures().clear(),select.setActive(!1),draw.setActive(!0),draw.on("drawend",function(e){var t={};e.preventDefault(),draw.setActive(!1),$(".modal-dialog").removeClass("visuallyhidden"),dust.render("propertyInsert",t,function(e,t){$(".modal-content").html(t),componentHandler.upgradeDom(),handleForm.set({name:"insertProperty",submitBtnId:"insert"}),$("#estateType").change(function(){"Μονοκατοικία"===$(this).val()?($("#estateType_en").val("Detached House"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Detached House"),$("#bedrooms").val(""),$("#bedrooms").prop("disabled",!1)):"Διαμέρισμα"===$(this).val()?($("#estateType_en").val("Apartment"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Apartment"),$("#bedrooms").val(""),$("#bedrooms").prop("disabled",!1)):($("#estateType_en").val("Store"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Store"),$("#bedrooms").val(0),$("#bedrooms").prop("disabled",!0))}),$("#estateType_en").change(function(){"Detached House"===$(this).val()?($("#estateType").val("Μονοκατοικία"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Μονοκατοικία"),$("#bedrooms").val(""),$("#bedrooms").prop("disabled",!1)):"Apartment"===$(this).val()?($("#estateType").val("Διαμέρισμα"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Διαμέρισμα"),$("#bedrooms").val(""),$("#bedrooms").prop("disabled",!1)):($("#estateType").val("Κατάστημα"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Κατάστημα"),$("#bedrooms").val(0),$("#bedrooms").prop("disabled",!0))}),$("#cancelInsert").on("click",function(e){e.preventDefault(),handleForm.clear(),drawnProperties.getSource().clear(),$(".modal-dialog").addClass("visuallyhidden"),map.on("click",clickInfo)}),$("#insert").on("click",function(e){var t,o;e.preventDefault(),t=handleForm.get(),console.log(t),null!==t&&(handleCoords.setLayer("drawnProperties"),o=handleCoords.coords(),t.x=o[0],t.y=o[1],t.adminId=id,$.ajax({url:"http://127.0.0.1:3000/db/insert",type:"POST",data:t}).done(function(e,t,o){toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},201===o.status?toastr.success("Property Recorded In Database"):toastr.error("Oops Something Went Wrong!!!")}).fail(function(e,t,o){toastr.error("Oops Something Went Wrong!!!")}).always(function(){e.preventDefault(),drawnProperties.getSource().clear(),propertySource.clear(),handleForm.clear(),$(".modal-dialog").addClass("visuallyhidden"),map.on("click",clickInfo)}))})})})}),$("#deleteProperty").click(function(e){e.preventDefault(),toastr.clear(),$(".property-info").addClass("visuallyhidden"),toastr.options={positionClass:"toast-top-center",preventDuplicates:!0,timeOut:20},map.un("click",clickInfo),draw.setActive(!1),features.clear(),propertySource.clear(),select.getFeatures().clear(),select.setActive(!0),select.once("select",function(e){var t;1===e.target.getFeatures().getLength()&&(toastr.options.newestOnTop=!0,toastr.options.preventDuplicates=!0,toastr.options.extendedTimeOut=0,toastr.options.timeOut=0,toastr.options.closeButton=!0,t=toastr.warning('<p>Are you sure?</p><div class="toastr-btns"><button id="yesDelete" class="mdl-button mdl-js-button ">Yes</button><button id="noDelete" class="mdl-button mdl-js-button">No</button></div>'),t.on("click","#yesDelete",function(){var e=select.getFeatures().item(0).get("gid");$.ajax({url:"http://127.0.0.1:3000/db/delete",type:"POST",dataType:"text",data:{gid:e}}).done(function(e,t,o){toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},toastr.success("Property Deleted From Database")}).fail(function(e,t,o){toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},toastr.success("Oops Something Went Wrong!!!")}).always(function(){propertySource.clear(),select.getFeatures().clear(),select.setActive(!1),map.on("click",clickInfo)}),t.remove()}),t.on("click","#noDelete",function(){t.remove(),select.getFeatures().clear(),select.setActive(!1)}))})}),$("#updateProperty").on("click",function(e){function t(e,t){$(".modal-dialog").removeClass("visuallyhidden"),dust.render("propertyUpdate",e,function(e,n){var a={};$(".modal-content").html(n),a.bedrooms=$("#bedrooms").val(),componentHandler.upgradeDom(),handleForm.set({name:"updateProperty",submitBtnId:"update"}),$("#estateType").change(function(){"Μονοκατοικία"===$(this).val()?($("#estateType_en").val("Detached House"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Detached House"),$("#bedrooms").val(a.bedrooms),$("#bedrooms").prop("disabled",!1)):"Διαμέρισμα"===$(this).val()?($("#estateType_en").val("Apartment"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Apartment"),$("#bedrooms").val(a.bedrooms),$("#bedrooms").prop("disabled",!1)):($("#estateType_en").val("Store"),$("#estateType_en").parent().find(".mdl-selectfield__box-value").html("Store"),$("#bedrooms").val(0),$("#bedrooms").prop("disabled",!0))}),$("#estateType_en").change(function(){"Detached House"===$(this).val()?($("#estateType").val("Μονοκατοικία"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Μονοκατοικία"),$("#bedrooms").val(a.bedrooms),$("#bedrooms").prop("disabled",!1)):"Apartment"===$(this).val()?($("#estateType").val("Διαμέρισμα"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Διαμέρισμα"),$("#bedrooms").val(a.bedrooms),$("#bedrooms").prop("disabled",!1)):($("#estateType").val("Κατάστημα"),$("#estateType").parent().find(".mdl-selectfield__box-value").html("Κατάστημα"),$("#bedrooms").val(0),$("#bedrooms").prop("disabled",!0))}),$("#update").on("click",function(e){var n;e.preventDefault(),n=handleForm.get(),_.isNil(n)||(n.x=t[0],n.y=t[1],n.gid=o,$.ajax({url:"http://127.0.0.1:3000/db/update",type:"POST",data:n}).done(function(e,t,o){toastr.options={positionClass:"toast-bottom-full-width",preventDuplicates:!0,timeOut:60},200===o.status?toastr.success("Property Updated In Database"):toastr.error("Oops Something Went Wrong!!!")}).fail(function(){toastr.error("Oops Something Went Wrong!!!")}).always(function(){propertySource.clear(),select.getFeatures().clear(),select.setActive(!1),translate.setActive(!1),map.on("click",clickInfo),$(".modal-dialog").addClass("visuallyhidden")}))}),$("#cancelUpdate").on("click",function(e){e.preventDefault(),handleForm.clear(),propertySource.clear(),select.getFeatures().clear(),select.setActive(!1),translate.setActive(!1),map.on("click",clickInfo),$(".modal-dialog").addClass("visuallyhidden"),map.on("click",clickInfo)})})}var o,n,a;e.preventDefault(),toastr.clear(),map.un("click",clickInfo),draw.setActive(!1),features.clear(),propertySource.clear(),select.getFeatures().clear(),select.setActive(!0),$(".property-info").addClass("visuallyhidden"),select.once("select",function(e){var r,s=e.selected,l=s.length;1===l&&(o=_.head(e.selected).get("gid"),r=_.head(e.selected),a=ol.proj.transform(r.getGeometry().getCoordinates(),"EPSG:3857","EPSG:4326"),$.ajax({url:"http://127.0.0.1:3000/db/fetch",type:"POST",dataType:"json",data:{gid:o}}).done(function(e){var o={};o.options={},n=_.head(e.features).properties,toastr.options.newestOnTop=!0,toastr.options.preventDuplicates=!0,toastr.options.extendedTimeOut=0,toastr.options.timeOut=0,toastr.options.closeButton=!1,toastr.options.positionClass="toast-top-center",o=toastr.warning('<p>Change Property Coordinates?</p><div class="toastr-btns"><button id="yesChangeXY" class="mdl-button mdl-js-button ">Yes</button><button id="noChangeXY" class="mdl-button mdl-js-button">No</button></div>'),o.on("click","#yesChangeXY",function(){translate.setActive(!0),translate.on("translateend",function(e){a=ol.proj.transform(e.coordinate,"EPSG:3857","EPSG:4326"),t(n,a)})}),o.on("click","#noChangeXY",function(){translate.setActive(!1),toastr.clear(),t(n,a)})}).fail(function(){toastr.error("Oops Something Went Wrong!!!")}))}),$("#adminMap").removeAttr("style")}),$(document).ready(function(){window.Parsley.on("field:error",function(){console.log("Validation failed for: ",this.$element)}),window.Parsley.addValidator("date",{requirementType:"string",validateString:function(e,t){return moment(e,"DD-MM-YYYY",!0).isValid()===!0?!0:!1},messages:{en:"Wrong Date",el:"Λάθος Ημερομηνία"}})});var handleCoords=function(e){"use strict";function t(e){for(var t=map.getLayers(),o=t.getLength(),n=0;o>n;n++)if(e===t.item(n).get("id"))return t.item(n);return null}function o(e){r=t(e)}function n(){var t;return t=r.getSource().getFeatures()[0].getGeometry().getCoordinates(),a=e.proj.transform(t,"EPSG:3857","EPSG:4326")}var a,r;return{coords:n,setLayer:o}}(ol),handleForm=function(e,t){"use strict";function o(e){d=e.name,p=e.submitBtnId,n()}function n(){var t=e(".getmdl-select");t.each(function(){a(this)})}function a(e){var t=e.querySelector("input"),o=e.querySelectorAll("li");e.querySelector("i"),[].forEach.call(o,function(e){e.onclick=function(){t.value=e.textContent}})}function r(){return u=e('form[name="'+d+'"').parsley(),!0}function s(){u.destroy()}function l(){return u.validate()}function i(){var t={};return r(),l()===!0?(e('form[name="'+d+'"').find(".mdl-textfield__input").each(function(o,n){t[e(this).attr("id")]=e(this).val()}),e('form[name="'+d+'"').find(".mdl-checkbox__input").each(function(o,n){t[e(this).attr("id")]=e(this).prop("checked")}),e('form[name="'+d+'"').find(".mdl-radio__button").each(function(o,n){t[e(this).attr("id")]=e(this).prop("checked")}),e('form[name="'+d+'"').find(".mdl-selectfield__select").each(function(o,n){t[e(this).attr("id")]=e(this).val()}),t):null}function c(){1==r()&&s(),e('form[name="'+d+'"').find(".mdl-textfield__input").each(function(t,o){e(this).val(""),e(this).parent().eq(0).removeClass("is-dirty"),e(this).parent().eq(0).removeClass("is-invalid")}),e('form[name="'+d+'"').find(".mdl-checkbox__input").each(function(t,o){e(this).prop("checked",!1)}),e('form[name="'+d+'"').find(".mdl-checkbox").each(function(t,o){e(this).removeClass("is-checked")})}var d,p,u;return{set:o,get:i,clear:c}}(jQuery,parsley);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIiwiaGFuZGxlQ29vcmRzLmpzIiwiaGFuZGxlRm9ybS5qcyJdLCJuYW1lcyI6WyJnZXRJY29uVHlwZSIsImVzdGF0ZVR5cGUiLCJpY29uVHlwZSIsIkFwYXJ0bWVudCIsIlN0b3JlIiwiRGV0YWNoZWQgSG91c2UiLCJnZXRJY29uUGF0aCIsImxpc3RpbmdUeXBlIiwiaWNvblBhdGgiLCJ0cnVlIiwiZmFsc2UiLCJub25lIiwiUHJvcGVydHlTdHlsZSIsImZlYXR1cmUiLCJzcmMiLCJnZXQiLCJvbCIsInN0eWxlIiwiU3R5bGUiLCJpbWFnZSIsIkljb24iLCJhbmNob3JPcmlnaW4iLCJhbmNob3IiLCJzY2FsZSIsImRyYXduUHJvcGVydGllc1N0eWxlIiwiY29sb3IiLCJzZWxlY3RlZFN0eWxlIiwiY2xpY2tJbmZvIiwiZXZlbnQiLCJvYmoiLCJwcmV2ZW50RGVmYXVsdCIsInNlbGVjdCIsInNldEFjdGl2ZSIsIm9uY2UiLCJlIiwic2VsZWN0ZWRGZWF0dXJlIiwic2VsZWN0ZWRGZWF0dXJlcyIsInNlbGVjdGVkIiwibGVuZ3RoIiwiXyIsImhlYWQiLCJnZXRLZXlzIiwiZm9yRWFjaCIsImtleSIsImR1c3QiLCJyZW5kZXIiLCJlcnIiLCJvdXQiLCIkIiwiaHRtbCIsInJlbW92ZUNsYXNzIiwiY29tcG9uZW50SGFuZGxlciIsInVwZ3JhZGVEb20iLCJvbiIsImdpZCIsInRoaXMiLCJkYXRhIiwiYWpheCIsInVybCIsInR5cGUiLCJkYXRhVHlwZSIsImRvbmUiLCJsaXN0aW5nX2lkIiwiaWQiLCJjc3MiLCJoYW5kbGVGb3JtIiwic2V0IiwibmFtZSIsInN1Ym1pdEJ0bklkIiwidmFsIiwicGFyZW50IiwiaGlkZSIsInByb3AiLCJlcSIsInNob3ciLCJwcm9wZXJ0eV9naWQiLCJ0ZXh0U3RhdHVzIiwianFYSFIiLCJzdGF0dXMiLCJ0b2FzdHIiLCJzdWNjZXNzIiwiZXJyb3IiLCJmYWlsIiwiZXJyb3JUaHJvd24iLCJhbHdheXMiLCJjbGVhciIsImFkZENsYXNzIiwicHJvcGVydHlTb3VyY2UiLCJnZXRGZWF0dXJlcyIsImxhbmciLCJtc2ciLCJ0ZXh0IiwieWVzIiwibm8iLCJyZW50IiwiYWRkSW1hZ2UiLCJteURyb3B6b25lIiwiRHJvcHpvbmUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidXBsb2FkTXVsdGlwbGUiLCJhY2NlcHRlZEZpbGVzIiwicGFyYWxsZWxVcGxvYWRzIiwiZmlsZSIsInhociIsImZvcm1EYXRhIiwiYXBwZW5kIiwiZWxlbWVudCIsImRpc3BsYXkiLCJvcHRpb25zIiwicG9zaXRpb25DbGFzcyIsInByZXZlbnREdXBsaWNhdGVzIiwidGltZU91dCIsIiRsb2FkaW5nIiwiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJjZW50ZXIiLCJleHRlbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJnZW9KU09ORm9ybWF0IiwiZm9ybWF0IiwiR2VvSlNPTiIsImRlZmF1bHREYXRhUHJvamVjdGlvbiIsInByb3BlcnR5IiwibWFwIiwiZmVhdHVyZXMiLCJkcmF3blByb3BlcnRpZXMiLCJkcmF3IiwidHJhbnNsYXRlIiwiYmluZyIsImxheWVyIiwiVGlsZSIsInZpc2libGUiLCJzb3VyY2UiLCJCaW5nTWFwcyIsImltYWdlcnlTZXQiLCJtYXhab29tIiwiY3Jvc3NPcmlnaW4iLCJwcmVsb2FkIiwiSW5maW5pdHkiLCJtYXBib3giLCJYWVoiLCJhdHRyaWJ1dGlvbnMiLCJBdHRyaWJ1dGlvbiIsIlZlY3RvciIsImxvYWRlciIsInJlc29sdXRpb24iLCJwcm9qZWN0aW9uIiwic2VsZiIsImJlZm9yZVNlbmQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0UmVxdWVzdEhlYWRlciIsInJlc3BvbnNlIiwicmVhZEZlYXR1cmVzIiwiZmVhdHVyZVByb2plY3Rpb24iLCJhZGRGZWF0dXJlcyIsImNvbnNvbGUiLCJsb2ciLCJzdHJhdGVneSIsImxvYWRpbmdzdHJhdGVneSIsImFsbCIsInNldFpJbmRleCIsIk1hcCIsInRhcmdldCIsImxheWVycyIsImxvYWRUaWxlc1doaWxlQW5pbWF0aW5nIiwibG9hZFRpbGVzV2hpbGVJbnRlcmFjdGluZyIsInJlbmRlcmVyIiwiY29udHJvbHMiLCJjb250cm9sIiwiZGVmYXVsdHMiLCJhdHRyaWJ1dGlvbk9wdGlvbnMiLCJjb2xsYXBzaWJsZSIsImNvbGxhcHNlZCIsImV4dGVuZCIsIlNjYWxlTGluZSIsInVuaXRzIiwiT3ZlcnZpZXdNYXAiLCJjbGFzc05hbWUiLCJab29tVG9FeHRlbnQiLCJ2aWV3IiwiVmlldyIsInpvb20iLCJtaW5ab29tIiwiQ29sbGVjdGlvbiIsImFkZExheWVyIiwiaW50ZXJhY3Rpb24iLCJEcmF3IiwiZ2V0U291cmNlIiwiYWRkSW50ZXJhY3Rpb24iLCJTZWxlY3QiLCJtdWx0aSIsIlRyYW5zbGF0ZSIsImNsaWNrIiwibG9jYXRpb24iLCJocmVmIiwidW4iLCJjaGFuZ2UiLCJmaW5kIiwiYyIsImhhbmRsZUNvb3JkcyIsInNldExheWVyIiwiY29vcmRzIiwieCIsInkiLCJhZG1pbklkIiwiJHRvYXN0IiwiZ2V0TGVuZ3RoIiwibmV3ZXN0T25Ub3AiLCJleHRlbmRlZFRpbWVPdXQiLCJjbG9zZUJ1dHRvbiIsIndhcm5pbmciLCJpdGVtIiwicmVtb3ZlIiwiZGF0YUZvcm0iLCJvbGRWYWx1ZXMiLCJiZWRyb29tcyIsImlzTmlsIiwicHJvaiIsInRyYW5zZm9ybSIsImdldEdlb21ldHJ5IiwiZ2V0Q29vcmRpbmF0ZXMiLCJwcm9wZXJ0aWVzIiwiY29vcmRpbmF0ZSIsInJlbW92ZUF0dHIiLCJyZWFkeSIsIndpbmRvdyIsIlBhcnNsZXkiLCIkZWxlbWVudCIsImFkZFZhbGlkYXRvciIsInJlcXVpcmVtZW50VHlwZSIsInZhbGlkYXRlU3RyaW5nIiwidmFsdWUiLCJyZXF1aXJlbWVudCIsIm1vbWVudCIsImlzVmFsaWQiLCJtZXNzYWdlcyIsImVuIiwiZWwiLCJmaW5kQnlJZCIsImdldExheWVycyIsImkiLCJsIiwiZ2V0Q29vcmRzIiwiY29vcmRFUFNHMzg1NyIsInBhcnNsZXkiLCJzZXRPcHRpb25zIiwiZm9ybU5hbWUiLCJlbmFibGVTZWxlY3QiLCJlYWNoIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJ0IiwicXVlcnlTZWxlY3RvciIsIm4iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FsbCIsIm9uY2xpY2siLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVZhbGlkYXRvciIsInAiLCJkZXN0cm95VmFsaWRhdG9yIiwiZGVzdHJveSIsInZhbGlkYXRlRm9ybSIsInZhbGlkYXRlIiwiZ2V0QXR0cmlidXRlcyIsImluZGV4IiwiYXR0ciIsInJlc2V0Rm9ybSIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBbUNBLFFBQUFBLGFBQUFDLEdBQ0EsR0FBQUMsSUFDQUMsVUFBQSxXQUNBLE1BQUEsYUFFQUMsTUFBQSxXQUNBLE1BQUEsU0FFQUMsaUJBQUEsV0FDQSxNQUFBLFlBR0EsT0FBQUgsR0FBQUQsS0FHQSxRQUFBSyxhQUFBQyxHQUNBLEdBQUFDLElBQ0FDLE9BQUEsV0FDQSxNQUFBLHVCQUVBQyxRQUFBLFdBQ0EsTUFBQSx1QkFFQUMsS0FBQSxXQUNBLE1BQUEsdUJBR0EsT0FBQUgsR0FBQUQsS0FFQSxRQUFBSyxlQUFBQyxHQUNBLEdBQUFDLEVBRUEsT0FEQUEsR0FBQVIsWUFBQSxRQUFBTixZQUFBYSxFQUFBRSxJQUFBLGtCQUFBLFVBQ0EsR0FBQUMsSUFBQUMsTUFBQUMsT0FDQUMsTUFBQSxHQUFBSCxJQUFBQyxNQUFBRyxNQUNBTixJQUFBQSxFQUNBTyxhQUFBLGNBQ0FDLFFBQ0EsR0FBQSxHQUVBQyxNQUFBLE1BdUZBLFFBQUFDLHNCQUFBQyxHQUNBLEdBQUFYLEVBRUEsT0FEQUEsR0FBQSwrQkFDQSxtQkFBQVcsR0FDQSxHQUFBVCxJQUFBQyxNQUFBQyxPQUNBQyxNQUFBLEdBQUFILElBQUFDLE1BQUFHLE1BQ0FOLElBQUFBLEVBQ0FPLGFBQUEsY0FDQUMsUUFDQSxHQUFBLEdBRUFDLE1BQUEsRUFDQUUsTUFBQUEsTUFJQSxHQUFBVCxJQUFBQyxNQUFBQyxPQUNBQyxNQUFBLEdBQUFILElB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QVQsS0FDQUUsSUFFQXJOLEVBQUEsY0FBQXdNLEVBQUEsS0FBQWpELEtBQUEseUJBQUFtRCxLQUVBLFNBQUFnQixFQUFBL0osR0FDQTNELEVBQUFPLE1BQUFjLElBQUEsSUFDQXJCLEVBQUFPLE1BQUFlLFNBQUFHLEdBQUEsR0FBQXZCLFlBQUEsWUFDQUYsRUFBQU8sTUFBQWUsU0FBQUcsR0FBQSxHQUFBdkIsWUFBQSxnQkFFQUYsRUFBQSxjQUFBd00sRUFBQSxLQUFBakQsS0FBQSx3QkFBQW1ELEtBRUEsU0FBQWdCLEVBQUEvSixHQUNBM0QsRUFBQU8sTUFBQWlCLEtBQUEsV0FBQSxLQUVBeEIsRUFBQSxjQUFBd00sRUFBQSxLQUFBakQsS0FBQSxpQkFBQW1ELEtBRUEsU0FBQWdCLEVBQUEvSixHQUNBM0QsRUFBQU8sTUFBQUwsWUFBQSxnQkE1RkEsR0FBQXNNLEdBQUFwTCxFQUFBZ00sQ0ErRkEsUUFDQWxNLElBQUFxTCxFQUNBeE8sSUFBQTBQLEVBQ0FwTCxNQUFBdUwsSUFPQUMsT0FBQXZCIiwiZmlsZSI6ImFkbWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciAkbG9hZGluZyA9ICQoJy5tZGwtc3Bpbm5lcicpO1xyXG4kKGRvY3VtZW50KVxyXG4gIC5hamF4U3RhcnQoZnVuY3Rpb24oKSB7XHJcbiAgICAkbG9hZGluZy5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgfSlcclxuICAuYWpheFN0b3AoZnVuY3Rpb24oKSB7XHJcbiAgICAkbG9hZGluZy5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgfSk7XHJcbnZhciBjZW50ZXIgPSBbMzY3NzM4NSwgNDEyMDk0OV0sXHJcbiAgICBleHRlbnQgPSBbMzU5MDA5NCwgNDEwMjgzMywgMzg1NTQ4MywgNDI2MTIxMV0sXHJcbiAgICBsYW5nID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcsXHJcbiAgICBnZW9KU09ORm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5HZW9KU09OKHtcclxuICAgICAgZGVmYXVsdERhdGFQcm9qZWN0aW9uOiAnRVBTRzo0MzI2JyxcclxuICAgIH0pLFxyXG4gICAgcHJvcGVydHlTb3VyY2UsIHByb3BlcnR5LCBtYXAsIGZlYXR1cmVzLCBkcmF3blByb3BlcnRpZXMsIGRyYXcsIHNlbGVjdCwgdHJhbnNsYXRlO1xyXG52YXIgYmluZyA9IG5ldyBvbC5sYXllci5UaWxlKHtcclxuICB2aXNpYmxlOiB0cnVlLFxyXG4gIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5CaW5nTWFwcyh7XHJcbiAgICBrZXk6ICdBazJHcThWVWZJQ3NQcHVmN0xSQU5YbVh0MnNIV21TTFBob2htVkxGdEZJRXdZanNfNU1DeUFoQUZ3UlNWcExqJyxcclxuICAgIGltYWdlcnlTZXQ6ICdBZXJpYWwnLFxyXG4gIH0pLFxyXG4gIG1heFpvb206IDE5LFxyXG4gIGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJyxcclxuICBwcmVsb2FkOiBJbmZpbml0eSxcclxuICBpZDogJ2JpbmcnLFxyXG59KTtcclxudmFyIG1hcGJveCA9IG5ldyBvbC5sYXllci5UaWxlKHtcclxuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuWFlaKHtcclxuICAgIGF0dHJpYnV0aW9uczogW25ldyBvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICAgIGh0bWw6ICc8YSBocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hYm91dC9tYXBzL1wiIHRhcmdldD1cIl9ibGFua1wiPiZjb3B5OyBNYXBib3ggJmNvcHk7IE9wZW5TdHJlZXRNYXA8L2E+JyxcclxuICAgIH0pXSxcclxuICAgIHVybDogJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vdjQvbWFwYm94LnN0cmVldHMve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj1way5leUoxSWpvaVptbHlkbUZwYmlJc0ltRWlPaUpsT1dZeVlUTTBOVGhpTldNMFlqSmpPREpqTkRFNE9EUXpOekEyTUdReU5pSjkuLU5WRE8yN0h6dC13X25Rb3NVUGZMQScsXHJcbiAgfSksXHJcbiAgaWQ6ICdtYXBib3gnLFxyXG59KTtcclxuZnVuY3Rpb24gZ2V0SWNvblR5cGUoZXN0YXRlVHlwZSkge1xyXG4gIHZhciBpY29uVHlwZSA9IHtcclxuICAgICdBcGFydG1lbnQnOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICdhcGFydG1lbnQnO1xyXG4gICAgfSxcclxuICAgICdTdG9yZSc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gJ3N0b3JlJztcclxuICAgIH0sXHJcbiAgICAnRGV0YWNoZWQgSG91c2UnOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICdkZXRhY2hlZCc7XHJcbiAgICB9LFxyXG4gIH07XHJcbiAgcmV0dXJuIChpY29uVHlwZVtlc3RhdGVUeXBlXSkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SWNvblBhdGgobGlzdGluZ1R5cGUpIHtcclxuICB2YXIgaWNvblBhdGggPSB7XHJcbiAgICB0cnVlOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICcuL2ltYWdlcy9waW5zL3NhbGUvJztcclxuICAgIH0sXHJcbiAgICBmYWxzZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiAnLi9pbWFnZXMvcGlucy9yZW50Lyc7XHJcbiAgICB9LFxyXG4gICAgJ25vbmUnOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICcuL2ltYWdlcy9waW5zL25vbmUvJztcclxuICAgIH0sXHJcbiAgfTtcclxuICByZXR1cm4gKGljb25QYXRoW2xpc3RpbmdUeXBlXSkoKTtcclxufVxyXG5mdW5jdGlvbiBQcm9wZXJ0eVN0eWxlKGZlYXR1cmUpIHtcclxuICB2YXIgc3JjO1xyXG4gIHNyYyA9IGdldEljb25QYXRoKCdub25lJykgKyBnZXRJY29uVHlwZShmZWF0dXJlLmdldCgnZXN0YXRldHlwZV9lbicpKSArICctNDgucG5nJztcclxuICByZXR1cm4gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xyXG4gICAgICBzcmM6IHNyYyxcclxuICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICBhbmNob3I6IFtcclxuICAgICAgICAwLjUsIDAsXHJcbiAgICAgIF0sXHJcbiAgICAgIHNjYWxlOiAxLFxyXG4gICAgfSkpLFxyXG4gIH0pO1xyXG59XHJcbnByb3BlcnR5U291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe1xyXG4gIGZvcm1hdDogZ2VvSlNPTkZvcm1hdCxcclxuICBsb2FkZXI6IGZ1bmN0aW9uKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xyXG4gICAgdmFyIHVybCA9ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAvZGIvYWRtaW4nO1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5jbGVhcigpO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgdXJsOiB1cmwsXHJcbiAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgJ2JlZm9yZVNlbmQnOiBmdW5jdGlvbih4aHIpIHtcclxuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJUb2tlbicpKSB7XHJcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyVG9rZW4nKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgaWQ6IGlkLFxyXG4gICAgICB9LFxyXG4gICAgfSkuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSwge1xyXG4gICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiAnRVBTRzozODU3JyxcclxuICAgICAgfSk7XHJcbiAgICAgIHNlbGYuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHN0cmF0ZWd5OiBvbC5sb2FkaW5nc3RyYXRlZ3kuYWxsLFxyXG59KTtcclxucHJvcGVydHkgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHtcclxuICBzb3VyY2U6IHByb3BlcnR5U291cmNlLFxyXG4gIGlkOiAncHJvcGVydHknLFxyXG4gIHZpc2libGU6IHRydWUsXHJcbiAgc3R5bGU6IFByb3BlcnR5U3R5bGUsXHJcbn0pO1xyXG5wcm9wZXJ0eS5zZXRaSW5kZXgoMik7XHJcbm1hcCA9IG5ldyBvbC5NYXAoe1xyXG4gIHRhcmdldDogJ2FkbWluTWFwJyxcclxuICBsYXllcnM6IFtcclxuICAgIG1hcGJveCwgcHJvcGVydHksXHJcbiAgXSxcclxuICBsb2FkVGlsZXNXaGlsZUFuaW1hdGluZzogdHJ1ZSxcclxuICBsb2FkVGlsZXNXaGlsZUludGVyYWN0aW5nOiB0cnVlLFxyXG4gIHJlbmRlcmVyOiAnY2FudmFzJyxcclxuICBjb250cm9sczogb2wuY29udHJvbC5kZWZhdWx0cyh7XHJcbiAgICBhdHRyaWJ1dGlvbk9wdGlvbnM6IHtcclxuICAgICAgY29sbGFwc2libGU6IGZhbHNlLFxyXG4gICAgICBjb2xsYXBzZWQ6IGZhbHNlLFxyXG4gICAgfSxcclxuICB9KS5leHRlbmQoW1xyXG4gICAgbmV3IG9sLmNvbnRyb2wuU2NhbGVMaW5lKHtcclxuICAgICAgdW5pdHM6ICdtZXRyaWMnLFxyXG4gICAgfSksXHJcbiAgICBuZXcgb2wuY29udHJvbC5PdmVydmlld01hcCh7XHJcbiAgICAgIGNsYXNzTmFtZTogJ29sLW92ZXJ2aWV3bWFwIG9sLWN1c3RvbS1vdmVydmlld21hcCcsXHJcbiAgICAgIGNvbGxhcHNpYmxlOiB0cnVlLFxyXG4gICAgICBjb2xsYXBzZWQ6IHRydWUsXHJcbiAgICAgIGxheWVyczogW2JpbmddLFxyXG4gICAgfSksXHJcbiAgICBuZXcgb2wuY29udHJvbC5ab29tVG9FeHRlbnQoe1xyXG4gICAgICBleHRlbnQ6IGV4dGVudCxcclxuICAgIH0pLFxyXG4gIF0pLFxyXG4gIHZpZXc6IG5ldyBvbC5WaWV3KHtcclxuICAgIGNlbnRlcjogY2VudGVyLFxyXG4gICAgLy8gZXh0ZW50OiBleHRlbnQsXHJcbiAgICBwcm9qZWN0aW9uOiAnRVBTRzozODU3JyxcclxuICAgIHpvb206IDE0LFxyXG4gICAgbWF4Wm9vbTogMTksXHJcbiAgICBtaW5ab29tOiAxMCxcclxuICB9KSxcclxufSk7XHJcbmlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgYmluZy5zZXQoJ25hbWUnLCAnzpTOv8+Bz4XPhs6/z4HOuc66zq4gzrXOuc66z4zOvc6xJyk7XHJcbiAgbWFwYm94LnNldCgnbmFtZScsICfOp86sz4HPhM63z4InKTtcclxuICBwcm9wZXJ0eS5zZXQoJ25hbWUnLCAnzpHOus6vzr3Ot8+EzrEnKTtcclxufSBlbHNlIHtcclxuICBiaW5nLnNldCgnbmFtZScsICdTYXR0ZWxpdGUgSW1hZ2UnKTtcclxuICBtYXBib3guc2V0KCduYW1lJywgJ01hcCcpO1xyXG4gIHByb3BlcnR5LnNldCgnbmFtZScsICdQcm9wZXJ0aWVzJyk7XHJcbn1cclxuLy89PT09PT0gaW50ZXJhY3Rpb25zID09PT09PVxyXG5mZWF0dXJlcyA9IG5ldyBvbC5Db2xsZWN0aW9uKCk7XHJcbmZ1bmN0aW9uIGRyYXduUHJvcGVydGllc1N0eWxlKGNvbG9yKSB7XHJcbiAgdmFyIHNyYztcclxuICBzcmMgPSAnLi9pbWFnZXMvcGlucy9nZW5lcmljLTQ4LnBuZyc7XHJcbiAgaWYgKHR5cGVvZiBjb2xvciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHJldHVybiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgICBzcmM6IHNyYyxcclxuICAgICAgICBhbmNob3JPcmlnaW46ICdib3R0b20tbGVmdCcsXHJcbiAgICAgICAgYW5jaG9yOiBbXHJcbiAgICAgICAgICAwLjUsIDAsXHJcbiAgICAgICAgXSxcclxuICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICBjb2xvcjogY29sb3IsXHJcbiAgICAgIH0pKSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5JY29uKCh7XHJcbiAgICAgICAgc3JjOiBzcmMsXHJcbiAgICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICAgIGFuY2hvcjogW1xyXG4gICAgICAgICAgMC41LCAwLFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgIH0pKSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn1cclxuZHJhd25Qcm9wZXJ0aWVzID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc291cmNlOiBuZXcgb2wuc291cmNlLlZlY3RvcigpLFxyXG4gIGlkOiAnZHJhd25Qcm9wZXJ0aWVzJyxcclxuICBzdHlsZTogZHJhd25Qcm9wZXJ0aWVzU3R5bGUoJyM0Y2FmNTAnKSxcclxufSk7XHJcbm1hcC5hZGRMYXllcihkcmF3blByb3BlcnRpZXMpO1xyXG4vL2RyYXdcclxuZHJhdyA9IG5ldyBvbC5pbnRlcmFjdGlvbi5EcmF3KHtcclxuICAvLyBmZWF0dXJlczogZmVhdHVyZXMsXHJcbiAgc291cmNlOiBkcmF3blByb3BlcnRpZXMuZ2V0U291cmNlKCksXHJcbiAgdHlwZTogJ1BvaW50JyxcclxuICBzdHlsZTogZHJhd25Qcm9wZXJ0aWVzU3R5bGUoJyM0Y2FmNTAnKSxcclxufSk7XHJcbm1hcC5hZGRJbnRlcmFjdGlvbihkcmF3KTtcclxuZHJhdy5zZXRBY3RpdmUoZmFsc2UpO1xyXG4vL3NlbGVjdFxyXG5mdW5jdGlvbiBzZWxlY3RlZFN0eWxlKGZlYXR1cmUpIHtcclxuICB2YXIgc3JjO1xyXG4gIHNyYyA9IGdldEljb25QYXRoKCdub25lJykgKyBnZXRJY29uVHlwZShmZWF0dXJlLmdldCgnZXN0YXRldHlwZV9lbicpKSArICctNjQucG5nJztcclxuICByZXR1cm4gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xyXG4gICAgICBzcmM6IHNyYyxcclxuICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICBhbmNob3I6IFswLjUsIDBdLFxyXG4gICAgICBzY2FsZTogMSxcclxuICAgICAgY29sb3I6ICcjZmZlYjNiJyxcclxuICAgIH0pKSxcclxuICB9KTtcclxufVxyXG5zZWxlY3QgPSBuZXcgb2wuaW50ZXJhY3Rpb24uU2VsZWN0KHtcclxuICBsYXllcnM6IFtwcm9wZXJ0eV0sXHJcbiAgZmVhdHVyZXM6IGZlYXR1cmVzLFxyXG4gIG11bHRpOiBmYWxzZSxcclxuICBzdHlsZTogc2VsZWN0ZWRTdHlsZSxcclxufSk7XHJcbm1hcC5hZGRJbnRlcmFjdGlvbihzZWxlY3QpO1xyXG5zZWxlY3Quc2V0QWN0aXZlKGZhbHNlKTtcclxudHJhbnNsYXRlID0gbmV3IG9sLmludGVyYWN0aW9uLlRyYW5zbGF0ZSh7XHJcbiAgZmVhdHVyZXM6IHNlbGVjdC5nZXRGZWF0dXJlcygpLFxyXG59KTtcclxubWFwLmFkZEludGVyYWN0aW9uKHRyYW5zbGF0ZSk7XHJcbnRyYW5zbGF0ZS5zZXRBY3RpdmUoZmFsc2UpO1xyXG4vLz09PT09PSBpbmZvID09PT09PVxyXG5tYXAub24oJ2NsaWNrJywgY2xpY2tJbmZvKTtcclxuXHJcbmZ1bmN0aW9uIGNsaWNrSW5mbyhldmVudCkge1xyXG4gIHZhciBvYmogPSB7fTtcclxuXHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICBzZWxlY3Quc2V0QWN0aXZlKHRydWUpO1xyXG4gIHNlbGVjdC5vbmNlKCdzZWxlY3QnLCBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgc2VsZWN0ZWRGZWF0dXJlcyA9IGUuc2VsZWN0ZWQ7XHJcbiAgICB2YXIgbGVuZ3RoID0gc2VsZWN0ZWRGZWF0dXJlcy5sZW5ndGg7XHJcbiAgICB2YXIgc2VsZWN0ZWRGZWF0dXJlO1xyXG4gICAgaWYgKGxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBvYmouZmVhdHVyZSA9IHt9O1xyXG4gICAgICBzZWxlY3RlZEZlYXR1cmUgPSBfLmhlYWQoZS5zZWxlY3RlZCk7XHJcbiAgICAgIC8vIGNsaWNrZWRGZWF0dXJlLmZlYXR1cmUuc2V0U2NhbGUoMS4yKTtcclxuICAgICAgc2VsZWN0ZWRGZWF0dXJlLmdldEtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgIG9iai5mZWF0dXJlW2tleV0gPSBzZWxlY3RlZEZlYXR1cmUuZ2V0KGtleSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBkdXN0LnJlbmRlcignYWRtaW5Qcm9wZXJ0eUluZm8nLCBvYmosIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAgICAgJCgnLnByb3BlcnR5LWluZm8nKS5odG1sKG91dCk7XHJcbiAgICAgICAgJCgnLnByb3BlcnR5LWluZm8nKS5yZW1vdmVDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgICAgICBjb21wb25lbnRIYW5kbGVyLnVwZ3JhZGVEb20oKTtcclxuICAgICAgICAkKCcjbGlzdGluZycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICB2YXIgZ2lkO1xyXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIGdpZCA9ICQodGhpcykuZGF0YSgnZ2lkJyk7XHJcbiAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAvZGIvbGlzdGluZycsXHJcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgZ2lkOiBnaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgdmFyIGxpc3RpbmdfaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgICAgICAgICQoJyNvcGVuTW9kYWwnKS5jc3MoJ3dpZHRoJywgJ2F1dG8nKTtcclxuICAgICAgICAgICAgICAkKCcubW9kYWwtZGlhbG9nJykucmVtb3ZlQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgZHVzdC5yZW5kZXIoJ2xpc3RpbmdJbnNlcnQnLCBkYXRhLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLm1vZGFsLWNvbnRlbnQnKS5odG1sKG91dCk7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRIYW5kbGVyLnVwZ3JhZGVEb20oKTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUZvcm0uc2V0KHtcclxuICAgICAgICAgICAgICAgICAgbmFtZTogJ2luc2VydC11cGRhdGUtbGlzdGluZycsXHJcbiAgICAgICAgICAgICAgICAgIHN1Ym1pdEJ0bklkOiAnb2snLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCgnaW5wdXRbbmFtZT1vcHRpb25zXTpjaGVja2VkJykudmFsKCkgPT09ICdTYWxlJykge1xyXG4gICAgICAgICAgICAgICAgICAkKCcjcGV0cycpLnBhcmVudCgpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgJCgnI3ByZWZlcmVkX2N1c3RvbWVyJykucGFyZW50KCkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1vcHRpb25zXScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJ1NhbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3BldHMnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNwZXRzJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcGV0cycpLnBhcmVudCgpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCdsYWJlbFtmb3I9cGV0c10nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNwcmVmZXJlZF9jdXN0b21lcicpLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3ByZWZlcmVkX2N1c3RvbWVyJykucGFyZW50KCkuZXEoMCkucmVtb3ZlQ2xhc3MoJ2lzLWRpcnR5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3ByZWZlcmVkX2N1c3RvbWVyJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcHJlZmVyZWRfY3VzdG9tZXInKS5wYXJlbnQoKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3BldHMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcGV0cycpLnBhcmVudCgpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcHJlZmVyZWRfY3VzdG9tZXInKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjcHJlZmVyZWRfY3VzdG9tZXInKS5wYXJlbnQoKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJCgnI3NlbnQtbGlzdGluZycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICBkYXRhID0gaGFuZGxlRm9ybS5nZXQoKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnByb3BlcnR5X2dpZCA9IGdpZDtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmxpc3RpbmdfaWQgPSBsaXN0aW5nX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAvZGIvbGlzdGluZy91cGRhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAndGV4dCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqcVhIUi5zdGF0dXMgPT09IDIwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdQcm9wZXJ0eSBVcGRhdGVkIEluIERhdGFiYXNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAuZmFpbChmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRm9ybS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3Blbk1vZGFsJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5U291cmNlLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdC5nZXRGZWF0dXJlcygpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdC5zZXRBY3RpdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJCgnI2NhbmNlbC1saXN0aW5nJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgaGFuZGxlRm9ybS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICBzZWxlY3QuZ2V0RmVhdHVyZXMoKS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICBzZWxlY3Quc2V0QWN0aXZlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgJCgnI29wZW5Nb2RhbCcpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICBpZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gICAgICAgICAgICAgICAgb2JqLm1zZyA9ICfOlM61zr0gzpLPgc6tzrjOt866zrUgzpHOs86zzrXOu86vzrEnLFxyXG4gICAgICAgICAgICAgICAgb2JqLnRleHQgPSAnzpTOt868zrnOv8+Fz4HOs86vzrEgzprOsc65zr3Ov8+Nz4HOs865zrHPgjsnLFxyXG4gICAgICAgICAgICAgICAgb2JqLnllcyA9ICfOnc6RzpknO1xyXG4gICAgICAgICAgICAgICAgb2JqLm5vID0gJ86fzqfOmSc7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9iai5tc2cgPSAnTm8gTGlzdGluZyBGb3VuZCcsXHJcbiAgICAgICAgICAgICAgICBvYmoudGV4dCA9ICdDcmVhdGUgTmV3IExpc3Rpbmc/JyxcclxuICAgICAgICAgICAgICAgIG9iai55ZXMgPSAnWUVTJztcclxuICAgICAgICAgICAgICAgIG9iai5ubyA9ICdOTyc7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGR1c3QucmVuZGVyKCdkaWFsb2cnLCBvYmosIGZ1bmN0aW9uKGVycm9yLCBvdXQpIHtcclxuICAgICAgICAgICAgICAgICQoJyNvcGVuTW9kYWwnKS5yZW1vdmVDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgICQoJyNvcGVuTW9kYWwnKS5jc3MoJ3dpZHRoJywgJ2F1dG8nKTtcclxuICAgICAgICAgICAgICAgICQoJy5tb2RhbC1jb250ZW50JykuaHRtbChvdXQpO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50SGFuZGxlci51cGdyYWRlRG9tKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjeWVzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgZHVzdC5yZW5kZXIoJ2xpc3RpbmdJbnNlcnQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVudDogJ3RydWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkZEltYWdlOiAndHJ1ZScsXHJcbiAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG15RHJvcHpvbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLm1vZGFsLWNvbnRlbnQnKS5odG1sKG91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SGFuZGxlci51cGdyYWRlRG9tKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbXlEcm9wem9uZSA9IG5ldyBEcm9wem9uZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcHpvbmUnKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYWNjZXB0ZWRGaWxlczogJy5qcGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcGFyYWxsZWxVcGxvYWRzOiA2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gYWRkUmVtb3ZlTGlua3MgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9maXJ2YWluL2F1dG8vdXBsb2FkJyxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBteURyb3B6b25lLm9uKCdzZW5kaW5nJywgZnVuY3Rpb24oZmlsZSwgeGhyLCBmb3JtRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdhcGlfa2V5JywgMzc1MTM4OTMyNjg5NTkxKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY2FsbGJhY2snLCAnaHR0cDovLzEyNy4wLjAuMTozMDAwL3B1YmxpYy9jbG91ZGluYXJ5X2NvcnMuaHRtbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1cGxvYWRfcHJlc2V0JywgJ3Rlc3R1cGxvYWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncHVibGljX2lkJywgZ2lkKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBteURyb3B6b25lLm9uKCdzdWNjZXNzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUZvcm0uc2V0KHtcclxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdpbnNlcnQtdXBkYXRlLWxpc3RpbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc3VibWl0QnRuSWQ6ICdvaycsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJCgnaW5wdXRbbmFtZT1maWxlXScpLmNsb3VkaW5hcnlfZmlsZXVwbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICQoJ2lucHV0W25hbWU9ZmlsZV0nKS51bnNpZ25lZF9jbG91ZGluYXJ5X3VwbG9hZCgndGVzdHVwbG9hZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgIGNsb3VkX25hbWU6ICdmaXJ2YWluJyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICdwdWJsaWNfaWQnOiBnaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1vcHRpb25zXScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICdTYWxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjcGV0cycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNwZXRzJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnbGFiZWxbZm9yPXBldHNdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3ByZWZlcmVkX2N1c3RvbWVyJykudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3ByZWZlcmVkX2N1c3RvbWVyJykucGFyZW50KCkuZXEoMCkucmVtb3ZlQ2xhc3MoJ2lzLWRpcnR5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNwcmVmZXJlZF9jdXN0b21lcicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjcGV0cycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjcHJlZmVyZWRfY3VzdG9tZXInKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjc2VudC1saXN0aW5nJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBoYW5kbGVGb3JtLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9wZXJ0eV9naWQgPSBnaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTozMDAwL2RiL2xpc3RpbmcvaW5zZXJ0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ3RleHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanFYSFIuc3RhdHVzID09PSAyMDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Byb3BlcnR5IFVwZGF0ZWQgSW4gRGF0YWJhc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignT29wcyBTb21ldGhpbmcgV2VudCBXcm9uZyEhIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ09vcHMgU29tZXRoaW5nIFdlbnQgV3JvbmchISEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGb3JtLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3Blbk1vZGFsJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3QuZ2V0RmVhdHVyZXMoKS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2NhbmNlbC1saXN0aW5nJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVGb3JtLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3QuZ2V0RmVhdHVyZXMoKS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkKCcjb3Blbk1vZGFsJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkKCcjbm8nKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAkKCcjb3Blbk1vZGFsJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdC5nZXRGZWF0dXJlcygpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdC5zZXRBY3RpdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNlbGVjdC5nZXRGZWF0dXJlcygpLmNsZWFyKCk7XHJcbiAgICAgIC8vIHNlbGVjdC5zZXRBY3RpdmUoZmFsc2UpO1xyXG4gICAgICAkKCcucHJvcGVydHktaW5mbycpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgICB0b2FzdHIub3B0aW9ucyA9IHtcclxuICAgICAgICAncG9zaXRpb25DbGFzcyc6ICd0b2FzdC1ib3R0b20tZnVsbC13aWR0aCcsXHJcbiAgICAgICAgJ3ByZXZlbnREdXBsaWNhdGVzJzogdHJ1ZSxcclxuICAgICAgICAndGltZU91dCc6IDYwLFxyXG4gICAgICB9O1xyXG4gICAgICB0b2FzdHIuZXJyb3IoJ0NhbnQgRmluZCBBbnkgUHJvcGVydHkgVGhlcmUuLi4nKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG4vLz09PT09PSBsb2dvdXQgPT09PT09XHJcbiQoJyNsb2dvdXQnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICBsb2NhdGlvbi5ocmVmID0gJy9tYXAvbG9nb3V0JztcclxufSk7XHJcbi8vPT09PT09IGluc2VydCA9PT09PT1cclxuJCgnI2luc2VydFByb3BlcnR5JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgJCgnLnByb3BlcnR5LWluZm8nKS5hZGRDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICB0b2FzdHIub3B0aW9ucyA9IHtcclxuICAgICdwb3NpdGlvbkNsYXNzJzogJ3RvYXN0LXRvcC1jZW50ZXInLFxyXG4gICAgJ3ByZXZlbnREdXBsaWNhdGVzJzogdHJ1ZSxcclxuICAgICd0aW1lT3V0JzogNjAsXHJcbiAgfTtcclxuICBtYXAudW4oJ2NsaWNrJywgY2xpY2tJbmZvKTtcclxuICBzZWxlY3QuZ2V0RmVhdHVyZXMoKS5jbGVhcigpO1xyXG4gIHNlbGVjdC5zZXRBY3RpdmUoZmFsc2UpO1xyXG4gIGRyYXcuc2V0QWN0aXZlKHRydWUpO1xyXG4gIGRyYXcub24oJ2RyYXdlbmQnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGRyYXcuc2V0QWN0aXZlKGZhbHNlKTtcclxuICAgICQoJy5tb2RhbC1kaWFsb2cnKS5yZW1vdmVDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgIGR1c3QucmVuZGVyKCdwcm9wZXJ0eUluc2VydCcsIG9iaiwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICAgJCgnLm1vZGFsLWNvbnRlbnQnKS5odG1sKG91dCk7XHJcbiAgICAgIGNvbXBvbmVudEhhbmRsZXIudXBncmFkZURvbSgpO1xyXG4gICAgICBoYW5kbGVGb3JtLnNldCh7XHJcbiAgICAgICAgbmFtZTogJ2luc2VydFByb3BlcnR5JyxcclxuICAgICAgICBzdWJtaXRCdG5JZDogJ2luc2VydCcsXHJcbiAgICAgIH0pO1xyXG4gICAgICAkKCcjZXN0YXRlVHlwZScpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJ86czr/Ovc6/zrrOsc+Ezr/Ouc66zq/OsScpIHtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykudmFsKCdEZXRhY2hlZCBIb3VzZScpO1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGVfZW4nKS5wYXJlbnQoKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKCdEZXRhY2hlZCBIb3VzZScpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykudmFsKCcnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJ86UzrnOsc68zq3Pgc65z4POvM6xJykge1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGVfZW4nKS52YWwoJ0FwYXJ0bWVudCcpO1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGVfZW4nKS5wYXJlbnQoKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKCdBcGFydG1lbnQnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnZhbCgnJyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGVfZW4nKS52YWwoJ1N0b3JlJyk7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZV9lbicpLnBhcmVudCgpLmZpbmQoJy5tZGwtc2VsZWN0ZmllbGRfX2JveC12YWx1ZScpLmh0bWwoJ1N0b3JlJyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS52YWwoMCk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnRGV0YWNoZWQgSG91c2UnKSB7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZScpLnZhbCgnzpzOv869zr/Ous6xz4TOv865zrrOr86xJyk7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZScpLnBhcmVudCgpLmZpbmQoJy5tZGwtc2VsZWN0ZmllbGRfX2JveC12YWx1ZScpLmh0bWwoJ86czr/Ovc6/zrrOsc+Ezr/Ouc66zq/OsScpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykudmFsKCcnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJ0FwYXJ0bWVudCcpIHtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlJykudmFsKCfOlM65zrHOvM6tz4HOuc+DzrzOsScpO1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGUnKS5wYXJlbnQoKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKCfOlM65zrHOvM6tz4HOuc+DzrzOsScpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykudmFsKCcnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZScpLnZhbCgnzprOsc+EzqzPg8+EzrfOvM6xJyk7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZScpLnBhcmVudCgpLmZpbmQoJy5tZGwtc2VsZWN0ZmllbGRfX2JveC12YWx1ZScpLmh0bWwoJ86azrHPhM6sz4PPhM63zrzOsScpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykudmFsKDApO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICAkKCcjY2FuY2VsSW5zZXJ0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGhhbmRsZUZvcm0uY2xlYXIoKTtcclxuICAgICAgICBkcmF3blByb3BlcnRpZXMuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgJCgnLm1vZGFsLWRpYWxvZycpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgICAgIG1hcC5vbignY2xpY2snLCBjbGlja0luZm8pO1xyXG4gICAgICB9KTtcclxuICAgICAgJCgnI2luc2VydCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGRhdGEsIGM7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBkYXRhID0gaGFuZGxlRm9ybS5nZXQoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgaGFuZGxlQ29vcmRzLnNldExheWVyKCdkcmF3blByb3BlcnRpZXMnKTtcclxuICAgICAgICAgIGMgPSBoYW5kbGVDb29yZHMuY29vcmRzKCk7XHJcbiAgICAgICAgICBkYXRhLnggPSBjWzBdO1xyXG4gICAgICAgICAgZGF0YS55ID0gY1sxXTtcclxuICAgICAgICAgIGRhdGEuYWRtaW5JZCA9IGlkO1xyXG4gICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTozMDAwL2RiL2luc2VydCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHtcclxuICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgJ3Bvc2l0aW9uQ2xhc3MnOiAndG9hc3QtYm90dG9tLWZ1bGwtd2lkdGgnLFxyXG4gICAgICAgICAgICAgICdwcmV2ZW50RHVwbGljYXRlcyc6IHRydWUsXHJcbiAgICAgICAgICAgICAgJ3RpbWVPdXQnOiA2MCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGpxWEhSLnN0YXR1cyA9PT0gMjAxKSB7XHJcbiAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Byb3BlcnR5IFJlY29yZGVkIEluIERhdGFiYXNlJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgICAgIHRvYXN0ci5lcnJvcignT29wcyBTb21ldGhpbmcgV2VudCBXcm9uZyEhIScpO1xyXG4gICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBkcmF3blByb3BlcnRpZXMuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuICAgICAgICAgICAgcHJvcGVydHlTb3VyY2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgaGFuZGxlRm9ybS5jbGVhcigpO1xyXG4gICAgICAgICAgICAkKCcubW9kYWwtZGlhbG9nJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgICAgICAgICAgIG1hcC5vbignY2xpY2snLCBjbGlja0luZm8pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuLy89PT09PT0gZGVsZXRlID09PT09PVxyXG4kKCcjZGVsZXRlUHJvcGVydHknKS5jbGljayhmdW5jdGlvbihldmVudCkge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgJCgnLnByb3BlcnR5LWluZm8nKS5hZGRDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICB0b2FzdHIub3B0aW9ucyA9IHtcclxuICAgICdwb3NpdGlvbkNsYXNzJzogJ3RvYXN0LXRvcC1jZW50ZXInLFxyXG4gICAgJ3ByZXZlbnREdXBsaWNhdGVzJzogdHJ1ZSxcclxuICAgICd0aW1lT3V0JzogMjAsXHJcbiAgfTtcclxuICBtYXAudW4oJ2NsaWNrJywgY2xpY2tJbmZvKTtcclxuICBkcmF3LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgZmVhdHVyZXMuY2xlYXIoKTtcclxuICBwcm9wZXJ0eVNvdXJjZS5jbGVhcigpO1xyXG4gIHNlbGVjdC5nZXRGZWF0dXJlcygpLmNsZWFyKCk7XHJcbiAgc2VsZWN0LnNldEFjdGl2ZSh0cnVlKTtcclxuICBzZWxlY3Qub25jZSgnc2VsZWN0JywgZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyICR0b2FzdDtcclxuICAgIGlmIChlLnRhcmdldC5nZXRGZWF0dXJlcygpLmdldExlbmd0aCgpID09PSAxKSB7XHJcbiAgICAgIHRvYXN0ci5vcHRpb25zLm5ld2VzdE9uVG9wID0gdHJ1ZTtcclxuICAgICAgdG9hc3RyLm9wdGlvbnMucHJldmVudER1cGxpY2F0ZXMgPSB0cnVlO1xyXG4gICAgICB0b2FzdHIub3B0aW9ucy5leHRlbmRlZFRpbWVPdXQgPSAwO1xyXG4gICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gMDtcclxuICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAkdG9hc3QgPSB0b2FzdHIud2FybmluZygnPHA+QXJlIHlvdSBzdXJlPzwvcD48ZGl2IGNsYXNzPVwidG9hc3RyLWJ0bnNcIj48YnV0dG9uIGlkPVwieWVzRGVsZXRlXCIgY2xhc3M9XCJtZGwtYnV0dG9uIG1kbC1qcy1idXR0b24gXCI+WWVzPC9idXR0b24+PGJ1dHRvbiBpZD1cIm5vRGVsZXRlXCIgY2xhc3M9XCJtZGwtYnV0dG9uIG1kbC1qcy1idXR0b25cIj5ObzwvYnV0dG9uPjwvZGl2PicpO1xyXG4gICAgICAkdG9hc3Qub24oJ2NsaWNrJywgJyN5ZXNEZWxldGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZ2lkID0gc2VsZWN0LmdldEZlYXR1cmVzKCkuaXRlbSgwKS5nZXQoJ2dpZCcpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICB1cmw6ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAvZGIvZGVsZXRlJyxcclxuICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgIGRhdGFUeXBlOiAndGV4dCcsXHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIGdpZDogZ2lkLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGpxWEhSLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICdwb3NpdGlvbkNsYXNzJzogJ3RvYXN0LWJvdHRvbS1mdWxsLXdpZHRoJyxcclxuICAgICAgICAgICAgICAncHJldmVudER1cGxpY2F0ZXMnOiB0cnVlLFxyXG4gICAgICAgICAgICAgICd0aW1lT3V0JzogNjAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdQcm9wZXJ0eSBEZWxldGVkIEZyb20gRGF0YWJhc2UnKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZmFpbChmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgJ3Bvc2l0aW9uQ2xhc3MnOiAndG9hc3QtYm90dG9tLWZ1bGwtd2lkdGgnLFxyXG4gICAgICAgICAgICAgICdwcmV2ZW50RHVwbGljYXRlcyc6IHRydWUsXHJcbiAgICAgICAgICAgICAgJ3RpbWVPdXQnOiA2MCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ09vcHMgU29tZXRoaW5nIFdlbnQgV3JvbmchISEnKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eVNvdXJjZS5jbGVhcigpO1xyXG4gICAgICAgICAgICBzZWxlY3QuZ2V0RmVhdHVyZXMoKS5jbGVhcigpO1xyXG4gICAgICAgICAgICBzZWxlY3Quc2V0QWN0aXZlKGZhbHNlKTtcclxuICAgICAgICAgICAgbWFwLm9uKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHRvYXN0LnJlbW92ZSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgJHRvYXN0Lm9uKCdjbGljaycsICcjbm9EZWxldGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAkdG9hc3QucmVtb3ZlKCk7XHJcbiAgICAgICAgc2VsZWN0LmdldEZlYXR1cmVzKCkuY2xlYXIoKTtcclxuICAgICAgICBzZWxlY3Quc2V0QWN0aXZlKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy89PT09PT0gdXBkYXRlID09PT09PVxyXG5cclxuJCgnI3VwZGF0ZVByb3BlcnR5Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICB2YXIgZ2lkLCBvYmosIGNvb3JkcztcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHRvYXN0ci5jbGVhcigpO1xyXG4gIG1hcC51bignY2xpY2snLCBjbGlja0luZm8pO1xyXG4gIGRyYXcuc2V0QWN0aXZlKGZhbHNlKTtcclxuICBmZWF0dXJlcy5jbGVhcigpO1xyXG4gIHByb3BlcnR5U291cmNlLmNsZWFyKCk7XHJcbiAgc2VsZWN0LmdldEZlYXR1cmVzKCkuY2xlYXIoKTtcclxuICBzZWxlY3Quc2V0QWN0aXZlKHRydWUpO1xyXG4gICQoJy5wcm9wZXJ0eS1pbmZvJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgc2VsZWN0Lm9uY2UoJ3NlbGVjdCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgIHZhciBzZWxlY3RlZEZlYXR1cmVzID0gZS5zZWxlY3RlZDtcclxuICAgIHZhciBsZW5ndGggPSBzZWxlY3RlZEZlYXR1cmVzLmxlbmd0aDtcclxuICAgIHZhciBzZWxlY3RlZEZlYXR1cmU7XHJcbiAgICBpZiAobGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGdpZCA9IF8uaGVhZChlLnNlbGVjdGVkKS5nZXQoJ2dpZCcpO1xyXG4gICAgICBzZWxlY3RlZEZlYXR1cmUgPSBfLmhlYWQoZS5zZWxlY3RlZCk7XHJcbiAgICAgIGNvb3JkcyA9IG9sLnByb2oudHJhbnNmb3JtKHNlbGVjdGVkRmVhdHVyZS5nZXRHZW9tZXRyeSgpLmdldENvb3JkaW5hdGVzKCksICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTozMDAwL2RiL2ZldGNoJyxcclxuICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBnaWQ6IGdpZCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KVxyXG4gICAgICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgIHZhciAkdG9hc3QgPSB7fTtcclxuICAgICAgICAgICR0b2FzdC5vcHRpb25zID0ge307XHJcbiAgICAgICAgICBvYmogPSBfLmhlYWQoZGF0YS5mZWF0dXJlcykucHJvcGVydGllcztcclxuXHJcbiAgICAgICAgICB0b2FzdHIub3B0aW9ucy5uZXdlc3RPblRvcCA9IHRydWU7XHJcbiAgICAgICAgICB0b2FzdHIub3B0aW9ucy5wcmV2ZW50RHVwbGljYXRlcyA9IHRydWU7XHJcbiAgICAgICAgICB0b2FzdHIub3B0aW9ucy5leHRlbmRlZFRpbWVPdXQgPSAwO1xyXG4gICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IDA7XHJcbiAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgdG9hc3RyLm9wdGlvbnMucG9zaXRpb25DbGFzcyA9ICd0b2FzdC10b3AtY2VudGVyJztcclxuICAgICAgICAgICR0b2FzdCA9IHRvYXN0ci53YXJuaW5nKCc8cD5DaGFuZ2UgUHJvcGVydHkgQ29vcmRpbmF0ZXM/PC9wPjxkaXYgY2xhc3M9XCJ0b2FzdHItYnRuc1wiPjxidXR0b24gaWQ9XCJ5ZXNDaGFuZ2VYWVwiIGNsYXNzPVwibWRsLWJ1dHRvbiBtZGwtanMtYnV0dG9uIFwiPlllczwvYnV0dG9uPjxidXR0b24gaWQ9XCJub0NoYW5nZVhZXCIgY2xhc3M9XCJtZGwtYnV0dG9uIG1kbC1qcy1idXR0b25cIj5ObzwvYnV0dG9uPjwvZGl2PicpO1xyXG4gICAgICAgICAgJHRvYXN0Lm9uKCdjbGljaycsICcjeWVzQ2hhbmdlWFknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdHJhbnNsYXRlLnNldEFjdGl2ZSh0cnVlKTtcclxuICAgICAgICAgICAgdHJhbnNsYXRlLm9uKCd0cmFuc2xhdGVlbmQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgY29vcmRzID0gb2wucHJvai50cmFuc2Zvcm0oZS5jb29yZGluYXRlLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgICAgICAgICAgIGRhdGFGb3JtKG9iaiwgY29vcmRzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgICR0b2FzdC5vbignY2xpY2snLCAnI25vQ2hhbmdlWFknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdHJhbnNsYXRlLnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRvYXN0ci5jbGVhcigpO1xyXG4gICAgICAgICAgICBkYXRhRm9ybShvYmosIGNvb3Jkcyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdG9hc3RyLmVycm9yKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgZnVuY3Rpb24gZGF0YUZvcm0ob2JqLCBjb29yZHMpIHtcclxuICAgICQoJy5tb2RhbC1kaWFsb2cnKS5yZW1vdmVDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgIGR1c3QucmVuZGVyKCdwcm9wZXJ0eVVwZGF0ZScsIG9iaiwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICAgdmFyIG9sZFZhbHVlcyA9IHt9O1xyXG4gICAgICAkKCcubW9kYWwtY29udGVudCcpLmh0bWwob3V0KTtcclxuICAgICAgb2xkVmFsdWVzLmJlZHJvb21zID0gJCgnI2JlZHJvb21zJykudmFsKCk7XHJcbiAgICAgIGNvbXBvbmVudEhhbmRsZXIudXBncmFkZURvbSgpO1xyXG4gICAgICBoYW5kbGVGb3JtLnNldCh7XHJcbiAgICAgICAgbmFtZTogJ3VwZGF0ZVByb3BlcnR5JyxcclxuICAgICAgICBzdWJtaXRCdG5JZDogJ3VwZGF0ZScsXHJcbiAgICAgIH0pO1xyXG4gICAgICAkKCcjZXN0YXRlVHlwZScpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJ86czr/Ovc6/zrrOsc+Ezr/Ouc66zq/OsScpIHtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykudmFsKCdEZXRhY2hlZCBIb3VzZScpO1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGVfZW4nKS5wYXJlbnQoKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKCdEZXRhY2hlZCBIb3VzZScpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykudmFsKG9sZFZhbHVlcy5iZWRyb29tcyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykudmFsKCkgPT09ICfOlM65zrHOvM6tz4HOuc+DzrzOsScpIHtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykudmFsKCdBcGFydG1lbnQnKTtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykucGFyZW50KCkuZmluZCgnLm1kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJykuaHRtbCgnQXBhcnRtZW50Jyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS52YWwob2xkVmFsdWVzLmJlZHJvb21zKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkKCcjZXN0YXRlVHlwZV9lbicpLnZhbCgnU3RvcmUnKTtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlX2VuJykucGFyZW50KCkuZmluZCgnLm1kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJykuaHRtbCgnU3RvcmUnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnZhbCgwKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgJCgnI2VzdGF0ZVR5cGVfZW4nKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICdEZXRhY2hlZCBIb3VzZScpIHtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlJykudmFsKCfOnM6/zr3Ov866zrHPhM6/zrnOus6vzrEnKTtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlJykucGFyZW50KCkuZmluZCgnLm1kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJykuaHRtbCgnzpzOv869zr/Ous6xz4TOv865zrrOr86xJyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS52YWwob2xkVmFsdWVzLmJlZHJvb21zKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJ0FwYXJ0bWVudCcpIHtcclxuICAgICAgICAgICQoJyNlc3RhdGVUeXBlJykudmFsKCfOlM65zrHOvM6tz4HOuc+DzrzOsScpO1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGUnKS5wYXJlbnQoKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKCfOlM65zrHOvM6tz4HOuc+DzrzOsScpO1xyXG4gICAgICAgICAgJCgnI2JlZHJvb21zJykudmFsKG9sZFZhbHVlcy5iZWRyb29tcyk7XHJcbiAgICAgICAgICAkKCcjYmVkcm9vbXMnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGUnKS52YWwoJ86azrHPhM6sz4PPhM63zrzOsScpO1xyXG4gICAgICAgICAgJCgnI2VzdGF0ZVR5cGUnKS5wYXJlbnQoKS5maW5kKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKCfOms6xz4TOrM+Dz4TOt868zrEnKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnZhbCgwKTtcclxuICAgICAgICAgICQoJyNiZWRyb29tcycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgJCgnI3VwZGF0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGRhdGE7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBkYXRhID0gaGFuZGxlRm9ybS5nZXQoKTtcclxuICAgICAgICBpZiAoIV8uaXNOaWwoZGF0YSkpIHtcclxuICAgICAgICAgIGRhdGEueCA9IGNvb3Jkc1swXTtcclxuICAgICAgICAgIGRhdGEueSA9IGNvb3Jkc1sxXTtcclxuICAgICAgICAgIGRhdGEuZ2lkID0gZ2lkO1xyXG4gICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTozMDAwL2RiL3VwZGF0ZScsXHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7XHJcbiAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAncG9zaXRpb25DbGFzcyc6ICd0b2FzdC1ib3R0b20tZnVsbC13aWR0aCcsXHJcbiAgICAgICAgICAgICAgICAncHJldmVudER1cGxpY2F0ZXMnOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgJ3RpbWVPdXQnOiA2MCxcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGlmIChqcVhIUi5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1Byb3BlcnR5IFVwZGF0ZWQgSW4gRGF0YWJhc2UnKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdPb3BzIFNvbWV0aGluZyBXZW50IFdyb25nISEhJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ09vcHMgU29tZXRoaW5nIFdlbnQgV3JvbmchISEnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBwcm9wZXJ0eVNvdXJjZS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgIHNlbGVjdC5nZXRGZWF0dXJlcygpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgc2VsZWN0LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgdHJhbnNsYXRlLnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgbWFwLm9uKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcbiAgICAgICAgICAgICAgJCgnLm1vZGFsLWRpYWxvZycpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICAkKCcjY2FuY2VsVXBkYXRlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGhhbmRsZUZvcm0uY2xlYXIoKTtcclxuICAgICAgICBwcm9wZXJ0eVNvdXJjZS5jbGVhcigpO1xyXG4gICAgICAgIHNlbGVjdC5nZXRGZWF0dXJlcygpLmNsZWFyKCk7XHJcbiAgICAgICAgc2VsZWN0LnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgdHJhbnNsYXRlLnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgICAgbWFwLm9uKCdjbGljaycsIGNsaWNrSW5mbyk7XHJcbiAgICAgICAgJCgnLm1vZGFsLWRpYWxvZycpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICAgICAgIG1hcC5vbignY2xpY2snLCBjbGlja0luZm8pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgJCgnI2FkbWluTWFwJykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxufSk7XHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gIHdpbmRvdy5QYXJzbGV5Lm9uKCdmaWVsZDplcnJvcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gVGhpcyBnbG9iYWwgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgZm9yIGFueSBmaWVsZCB0aGF0IGZhaWxzIHZhbGlkYXRpb24uXHJcbiAgICBjb25zb2xlLmxvZygnVmFsaWRhdGlvbiBmYWlsZWQgZm9yOiAnLCB0aGlzLiRlbGVtZW50KTtcclxuICB9KTtcclxuICB3aW5kb3cuUGFyc2xleVxyXG4gICAgLmFkZFZhbGlkYXRvcignZGF0ZScsIHtcclxuICAgICAgcmVxdWlyZW1lbnRUeXBlOiAnc3RyaW5nJyxcclxuICAgICAgdmFsaWRhdGVTdHJpbmc6IGZ1bmN0aW9uKHZhbHVlLCByZXF1aXJlbWVudCkge1xyXG4gICAgICAgIGlmIChtb21lbnQodmFsdWUsICdERC1NTS1ZWVlZJywgdHJ1ZSkuaXNWYWxpZCgpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgbWVzc2FnZXM6IHtcclxuICAgICAgICBlbjogJ1dyb25nIERhdGUnLFxyXG4gICAgICAgIGVsOiAnzpvOrM64zr/PgiDOl868zrXPgc6/zrzOt869zq/OsScsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxufSk7XHJcbiIsInZhciBoYW5kbGVDb29yZHMgPSAoZnVuY3Rpb24ob2wpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgdmFyIGNvb3JkcztcclxuICB2YXIgbDtcclxuXHJcbiAgZnVuY3Rpb24gZmluZEJ5SWQoaWQpIHtcclxuICAgIHZhciBsYXllcnMgPSBtYXAuZ2V0TGF5ZXJzKCk7XHJcbiAgICB2YXIgbGVuZ3RoID0gbGF5ZXJzLmdldExlbmd0aCgpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoaWQgPT09IGxheWVycy5pdGVtKGkpLmdldCgnaWQnKSkge1xyXG4gICAgICAgIHJldHVybiBsYXllcnMuaXRlbShpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBmaW5kQnlOYW1lKG5hbWUpIHtcclxuICAgIHZhciBpO1xyXG4gICAgdmFyIGxheWVycyA9IG1hcC5nZXRMYXllcnMoKTtcclxuICAgIHZhciBsZW5ndGggPSBsYXllcnMuZ2V0TGVuZ3RoKCk7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKG5hbWUgPT09IGxheWVycy5pdGVtKGkpLmdldCgnbmFtZUVuJykgfHwgbmFtZSA9PT0gbGF5ZXJzLml0ZW0oaSkuZ2V0KCduYW1lRWwnKSkge1xyXG4gICAgICAgIHJldHVybiBsYXllcnMuaXRlbShpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXRMYXllcihpZCkge1xyXG4gICAgbCA9IGZpbmRCeUlkKGlkKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldENvb3JkcygpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBjb29yZEVQU0czODU3O1xyXG4gICAgY29vcmRFUFNHMzg1NyA9IGwuZ2V0U291cmNlKCkuZ2V0RmVhdHVyZXMoKVswXS5nZXRHZW9tZXRyeSgpLmdldENvb3JkaW5hdGVzKCk7XHJcbiAgICBjb29yZHMgPSBvbC5wcm9qLnRyYW5zZm9ybShjb29yZEVQU0czODU3LCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgcmV0dXJuIGNvb3JkcztcclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIGNvb3JkczogZ2V0Q29vcmRzLFxyXG4gICAgc2V0TGF5ZXI6IHNldExheWVyXHJcbiAgfTtcclxufShvbCkpO1xyXG4iLCJ2YXIgaGFuZGxlRm9ybSA9IChmdW5jdGlvbigkLCBwYXJzbGV5KSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIHZhciBmb3JtTmFtZSwgc3VibWl0QnRuSWQsIHA7XHJcblxyXG4gIGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgZm9ybU5hbWUgPSBvcHRpb25zLm5hbWU7XHJcbiAgICBzdWJtaXRCdG5JZCA9IG9wdGlvbnMuc3VibWl0QnRuSWQ7XHJcbiAgICBlbmFibGVTZWxlY3QoKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gZW5hYmxlU2VsZWN0KCkge1xyXG4gICAgdmFyIGUgPSAkKCcuZ2V0bWRsLXNlbGVjdCcpO1xyXG4gICAgZS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICBhZGRFdmVudExpc3RlbmVycyh0aGlzKTtcclxuICAgIH0pXHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKGUpIHtcclxuICAgIHZhciB0ID0gZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLFxyXG4gICAgICAgIG4gPSBlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XHJcbiAgICBlLnF1ZXJ5U2VsZWN0b3IoJ2knKTtcclxuICAgIFtdLmZvckVhY2guY2FsbChuLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHQudmFsdWUgPSBlLnRleHRDb250ZW50XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGRpc2FibGVTdWJtaXRCdG4oKSB7XHJcbiAgICAkKCcjJyArIHN1Ym1pdEJ0bklkICsgJycpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVWYWxpZGF0b3IoKSB7XHJcbiAgICBwID0gJCgnZm9ybVtuYW1lPVwiJyArIGZvcm1OYW1lICsgJ1wiJykucGFyc2xleSgpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBkZXN0cm95VmFsaWRhdG9yKCkge1xyXG4gICAgcC5kZXN0cm95KCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oKSB7XHJcbiAgICByZXR1cm4gcC52YWxpZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25WYWxpZGF0ZUZvcm1TdWNjZXNzKCkge1xyXG4gICAgcC5vbignZm9ybTpzdWNjZXNzJyxcclxuXHJcbiAgICAgIGZ1bmN0aW9uKCkge30pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlcygpIHtcclxuICAgIHZhciBvYmogPSB7fTtcclxuICAgIGNyZWF0ZVZhbGlkYXRvcigpO1xyXG4gICAgaWYgKHZhbGlkYXRlRm9ybSgpID09PSB0cnVlKSB7XHJcbiAgICAgICQoJ2Zvcm1bbmFtZT1cIicgKyBmb3JtTmFtZSArICdcIicpLmZpbmQoJy5tZGwtdGV4dGZpZWxkX19pbnB1dCcpLmVhY2goXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICBvYmpbJCh0aGlzKS5hdHRyKCdpZCcpXSA9ICQodGhpcykudmFsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICQoJ2Zvcm1bbmFtZT1cIicgKyBmb3JtTmFtZSArICdcIicpLmZpbmQoJy5tZGwtY2hlY2tib3hfX2lucHV0JykuZWFjaChcclxuXHJcbiAgICAgICAgZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgICAgIG9ialskKHRoaXMpLmF0dHIoJ2lkJyldID0gJCh0aGlzKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICQoJ2Zvcm1bbmFtZT1cIicgKyBmb3JtTmFtZSArICdcIicpLmZpbmQoJy5tZGwtcmFkaW9fX2J1dHRvbicpLmVhY2goXHJcbiAgICAgICAgZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgICAgIG9ialskKHRoaXMpLmF0dHIoJ2lkJyldID0gJCh0aGlzKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICQoJ2Zvcm1bbmFtZT1cIicgKyBmb3JtTmFtZSArICdcIicpLmZpbmQoJy5tZGwtc2VsZWN0ZmllbGRfX3NlbGVjdCcpLmVhY2goXHJcbiAgICAgICAgZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgICAgIG9ialskKHRoaXMpLmF0dHIoJ2lkJyldID0gJCh0aGlzKS52YWwoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIGVsc2UgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZXNldEZvcm0oKSB7XHJcbiAgICBpZiAoY3JlYXRlVmFsaWRhdG9yKCkgPT0gdHJ1ZSkge1xyXG4gICAgICBkZXN0cm95VmFsaWRhdG9yKCk7XHJcbiAgICB9XHJcbiAgICAkKCdmb3JtW25hbWU9XCInICsgZm9ybU5hbWUgKyAnXCInKS5maW5kKCcubWRsLXRleHRmaWVsZF9faW5wdXQnKS5lYWNoKFxyXG5cclxuICAgICAgZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgICAkKHRoaXMpLnZhbCgnJyk7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5lcSgwKS5yZW1vdmVDbGFzcygnaXMtZGlydHknKTtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmVxKDApLnJlbW92ZUNsYXNzKCdpcy1pbnZhbGlkJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgJCgnZm9ybVtuYW1lPVwiJyArIGZvcm1OYW1lICsgJ1wiJykuZmluZCgnLm1kbC1jaGVja2JveF9faW5wdXQnKS5lYWNoKFxyXG5cclxuICAgICAgZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcclxuICAgICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgJCgnZm9ybVtuYW1lPVwiJyArIGZvcm1OYW1lICsgJ1wiJykuZmluZCgnLm1kbC1jaGVja2JveCcpLmVhY2goXHJcblxyXG4gICAgICBmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICBzZXQ6IHNldE9wdGlvbnMsXHJcbiAgICBnZXQ6IGdldEF0dHJpYnV0ZXMsXHJcbiAgICBjbGVhcjogcmVzZXRGb3JtXHJcbiAgLy8gY3JlYXRlVmFsaWRhdG9yOiBjcmVhdGVWYWxpZGF0b3IsXHJcbiAgLy8gZGVzdHJveVZhbGlkYXRvcjogZGVzdHJveVZhbGlkYXRvcixcclxuICAvLyB2YWxpZGF0ZUZvcm06IHZhbGlkYXRlRm9ybSxcclxuICAvLyBvblZhbGlkYXRlRm9ybVN1Y2Nlc3M6IG9uVmFsaWRhdGVGb3JtU3VjY2VzcyxcclxuICAvLyBkaXNhYmxlU3VibWl0QnRuOiBkaXNhYmxlU3VibWl0QnRuXHJcbiAgfTtcclxufShqUXVlcnksIHBhcnNsZXkpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
