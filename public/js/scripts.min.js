function filteredEsateStyle(e,t){return styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/map-icons/pins/48/pin4.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:.7})})]}function selectByFilters(){var e={};if(e.leaseType=$("input[name=options]:checked").val(),e.startPrice=$("#startPrice").val(),e.endPrice=$("#endPrice").val(),features=getFilteredEstates(e),features.length>0){filteredEstates.getSource().clear(),filteredEstates.getSource().addFeatures(features),filteredEstates.setVisible(!0),property.setVisible(!1);filteredEstates.getSource().getExtent()}else filteredEstates.setVisible(!1),property.setVisible(!0)}function getFilteredEstates(e){var t=[],o={Rent:function(e){return propertySource.getFeatures().forEach(function(o){var r=o.get("price"),l=o.get("type_en");if("Rent"===l&&r>=e.startPrice&&r<=e.endPrice){var a=o.clone();t.push(a)}}),t},Sale:function(e){return propertySource.getFeatures().forEach(function(o){var r=o.get("price"),l=o.get("type_en");if("Sale"===l&&r>=e.startPrice&&r<=e.endPrice){var a=o.clone();t.push(a)}}),t}};return o[e.leaseType]?o[e.leaseType](e):void 0}var center=[3677385,4120949],extent=[3590094,4102833,3855483,4261211],lang=document.documentElement.lang,styleCache={},geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326"}),bing=new ol.layer.Tile({visible:!0,source:new ol.source.BingMaps({key:"Ak2Gq8VUfICsPpuf7LRANXmXt2sHWmSLPhohmVLFtFIEwYjs_5MCyAhAFwRSVpLj",imagerySet:"Aerial"}),maxZoom:19,crossOrigin:"anonymous",preload:1/0,id:"bing"}),mapbox=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'<a href="https://www.mapbox.com/about/maps/" target="_blank">&copy; Mapbox &copy; OpenStreetMap</a>'})],url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA"}),id:"mapbox"}),propertyStyleFunction=function(e,t){var o=e.get("features").length,r=(propertySource.getFeatures().length,20),l=styleCache[o];return l||(l=o>1?[new ol.style.Style({image:new ol.style.Circle({radius:r,stroke:new ol.style.Stroke({color:[156,39,176,1],width:5}),fill:new ol.style.Fill({color:[68,138,255,.8]})}),text:new ol.style.Text({text:o.toString(),fill:new ol.style.Fill({color:"#FFFFFF"})}),zIndex:101})]:[new ol.style.Style({image:new ol.style.Icon({src:"../images/map-icons/pins/48/pin5.png",anchorOrigin:"bottom-left",anchor:[0,0],scale:.7})})],styleCache[o]=l),l},propertySource=new ol.source.Vector({format:geoJSONFormat,loader:function(e,t,o){var r=ol.proj.transformExtent(e,"EPSG:3857","EPSG:4326"),l="http://localhost:3000/db/property?bbox[x1]="+r[0]+"&bbox[y1]="+r[1]+"&bbox[x2]="+r[2]+"&bbox[y2]="+r[3],a=this;this.clear(),$.ajax({url:l,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});a.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.bbox}),propertyClusterSource=new ol.source.Cluster({distance:40,source:propertySource,attributions:[new ol.Attribution({html:'All maps © <a href="http://www.terracognita.gr/">Terra Cognita</a>'})]}),property=new ol.layer.Vector({source:propertyClusterSource,id:"estates",visible:!0,style:propertyStyleFunction});property.setZIndex(2);var PSAStyleFunction=function(e,t){var o,r=e.get("style");return o="el"===lang?e.get("name_el"):e.get("name_en"),styleCache[r]||(styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/maki/renders/"+r+"-24.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:1}),text:new ol.style.Text({text:o,stroke:new ol.style.Stroke({color:[156,39,176,.8],width:1}),offsetY:12})})]),styleCache},PSA=new ol.layer.Vector({style:PSAStyleFunction,maxResolution:3});PSA.setZIndex(1);var map=new ol.Map({target:"map",layers:[mapbox,property,PSA],loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",controls:ol.control.defaults({attributionOptions:{collapsible:!1,collapsed:!1}}).extend([new ol.control.ScaleLine({units:"metric"}),new ol.control.OverviewMap({className:"ol-overviewmap ol-custom-overviewmap",collapsible:!0,collapsed:!0,layers:[bing]}),new ol.control.ZoomToExtent({extent:extent})]),view:new ol.View({center:center,extent:extent,projection:"EPSG:3857",zoom:14,maxZoom:19,minZoom:10})});"el"===lang?(bing.set("name","Δορυφορική εικόνα"),mapbox.set("name","Χάρτης"),property.set("name","Ακίνητα")):(bing.set("name","Sattelite Image"),mapbox.set("name","Map"),property.set("name","Properties"));var filteredEstates=new ol.layer.Vector({source:new ol.source.Vector,id:"filteredEstates",visible:!1,style:filteredEsateStyle});map.addLayer(filteredEstates);

!function(){var e=new ol.Geolocation({projection:map.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),o=new ol.Feature;e.on("change:accuracyGeometry",function(){o.setGeometry(e.getAccuracyGeometry())});var t=new ol.Feature;t.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#3399CC"}),stroke:new ol.style.Stroke({color:"#fff",width:2})})})),e.on("change:position",function(){var o=e.getPosition();t.setGeometry(o?new ol.geom.Point(o):null)}),featuresOverlaySource=new ol.source.Vector({});new ol.layer.Vector({map:map,source:featuresOverlaySource});$(".geolocation").on("change",function(r){r.preventDefault(),$(this).prop("checked")===!0?(e.setTracking(!0),featuresOverlaySource.addFeatures([t,o])):(e.setTracking(!1),featuresOverlaySource.clear())})}();
!function(){function e(e){e.preventDefault();var t=e.coordinate;if(map.getView().getResolution()>4)map.getView().setResolution(2.388657133911758),map.getView().setCenter(t);else{var n={},o={},r=[];n.title=o,"el"===lang?(o.estateCode="Κωδικός Ιδιοκτησίας",o.type="Τύπος",o.area="Εμβαδό",o.address="Διευθυνση",o.bedrooms="Υπνοδωμάτια",o.price="Τιμή",o["new"]="Νεόδμητο",o.parking="Στάθμεση",o.furnished="Επιπλωμένο",o.pets="Κατοικίδια",o.view="Θέα",o.heating="Θέρμανση",o.cooling="Ψύξη",o.contactInfo="Στοιχεία Επικοινωνίας",o.name="Όνομα",o.lastname="Επίθετο",o.phone="Τηλέφωνο",o.email="Ηλεκτρονική Διεύθυνση"):(o.estateCode="Estate Code",o.type="Type",o.area="Size",o.address="Address",o.bedrooms="Bedrooms",o.price="Price",o["new"]="Newly Build",o.parking="Parking",o.furnished="Furnished",o.pets="Pets Allowed",o.view="View",o.heating="Heating",o.cooling="Cooling",o.contactInfo="Contact Info",o.name="Name",o.lastname="Last Name",o.phone="Telephone",o.email="Email"),clickedFeature=map.forEachFeatureAtPixel(e.pixel,function(e,t){return{feature:e,layer:t}},this,function(e){return"estates"===e.get("id")||"filteredEstates"===e.get("id")?!0:void 0},this),clickedFeature&&(clickedFeature.feature.get("features").forEach(function(e){a=e;var t={};t.gid=e.get("gid"),t.type=e.get("estatetype"),t.area=e.get("estatearea"),"el"===lang?t.address=e.get("street_el")+" "+e.get("h_num_el"):t.address=e.get("street_en")+" "+e.get("h_num_en"),t.bedrooms=e.get("bedrooms"),t.price=e.get("price"),t["new"]=e.get("new"),t.parking=e.get("parking"),t.furnished=e.get("furnished"),t.pets=e.get("pets"),t.view=e.get("view"),t.heating=e.get("heating"),t.cooling=e.get("cooling"),"el"===lang?(t.name=e.get("name_el"),t.lastname=e.get("lastname_el")):(t.name=e.get("name_en"),t.lastname=e.get("lastname_en")),t.phone=e.get("phone1"),t.email=e.get("email"),r.push({feature:t}),featureCoordinate=e.get("geometry").getCoordinates(),n.features=r;var o=new ol.source.Vector({attributions:[new ol.Attribution({html:'POI by <a href="http://www.terracognita.gr/">Terra Cognita</a>'})],format:geoJSONFormat,loader:function(e,a,n){var o="http://localhost:3000/db/uses/"+t.gid,r=this;$.ajax({url:o,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e.property_services_analysis,{featureProjection:"EPSG:3857"}),a=new ol.style.Style({fill:new ol.style.Fill({color:[156,39,176,.1]})});t[0].setStyle(a),r.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.all});PSA.setSource(o)}),dust.render("estateCards.dust",n,function(e,t){$(".estate-cards").html(t),$(".estate-cards").removeClass("visuallyhidden")}),$('a[href="#openModal"]').click(function(){dust.render("modalInfo.dust",n,function(e,t){$(".modal-content").html(t)})}),map.getView().setCenter(featureCoordinate))}}$(".info").on("change",function(t){t.preventDefault(),$(this).prop("checked")===!0?map.on("click",e):map.un("click",e)})}();
!function(){function e(e){e.preventDefault();var r=n.getSource().getFeatures().length,a=e.coordinate;if(0===r)t.setGeometry(new ol.geom.Point(a)),t.setId("first"),n.getSource().addFeature(t),c[0]=a[0],c[1]=a[1];else if(1===r){var i=t.clone();i.setGeometry(new ol.geom.Point(a)),i.setId("second"),n.getSource().addFeature(i),c[2]=a[0],c[3]=a[1],o(c)}else n.getSource().clear()}function o(e){var o=ol.proj.transform([e[0],e[1]],"EPSG:3857","EPSG:4326"),t=ol.proj.transform([e[2],e[3]],"EPSG:3857","EPSG:4326"),r=o[0],a=o[1],c=t[0],i=t[1];$.ajax({url:"https://api.mapbox.com/v4/directions/mapbox.driving/"+r+","+a+";"+c+","+i+".json?alternatives=false&access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA",type:"GET",dataType:"json"}).done(function(e){var o={};o.type="Feature",o.geometry=e.routes[0].geometry,n.getSource().addFeatures(geoJSONFormat.readFeatures(o,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})),map.getView().fit(n.getSource().getExtent(),map.getSize())}).fail(function(){console.log("error")}).always(function(){console.log("complete")})}var t=new ol.Feature,r=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,scale:1,src:"../images/map-icons/pins/24/pin1.png",snapToPixel:!1}),zIndex:100});t.setStyle(r);var a=new ol.style.Style({stroke:new ol.style.Stroke({color:"#408080",width:5,lineDash:[4,4]})}),n=new ol.layer.Vector({map:map,source:new ol.source.Vector,style:a,id:"route",nameEl:"Διαδρομή",NameEn:"Route"}),c=[];geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326",geometryName:"geometry"}),$(".marker").on("change",function(o){o.preventDefault(),$(this).prop("checked")===!0?map.on("singleclick",e):(map.un("singleclick",e),n.getSource().clear())})}();
!function(){$(".weather").change(function(){if($(this).prop("checked")===!0){map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())});var e=ol.proj.transform(map.getView().getCenter(),"EPSG:3857","EPSG:4326"),t=e[1],a=e[0];$.ajax({url:"http://api.openweathermap.org/data/2.5/find?lat="+t+"&lon="+a+"&cnt=5&cluster=no&units=metric&type=accurate&APPID=f9cd9fa2c427c3b115e87e4862619c5c",type:"GET",dataType:"json"}).done(function(e){function t(e,t){var a=document.createElement("div");return a.setAttribute("class","weather-popup default-primary-color mdl-shadow--6dp"),a.setAttribute("id",t),a.setAttribute("data-name","weather"),new ol.Overlay({element:a,position:e})}var a,r,n=e.list;$.each(n,function(e,n){r=ol.proj.transform([n.coord.lon,n.coord.lat],"EPSG:4326","EPSG:3857"),a=t(r,e),map.addOverlay(a),a.set("name","weather"),weatherData={name:n.name,temp:n.main.temp,pressure:n.main.pressure,humidity:n.main.humidity},dust.render("weatherPopup.dust",weatherData,function(t,a){$("#"+e).html(a)})})}).fail(function(){})}else $(this).prop("checked")===!1&&map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyIsImZpbHRlcnMuanMiLCJnZW9sb2NhdGlvbi5qcyIsImluZm8uanMiLCJyb3V0aW5nLmpzIiwid2VhdGhlci5qcyJdLCJuYW1lcyI6WyJmaWx0ZXJlZEVzYXRlU3R5bGUiLCJmZWF0dXJlIiwicmVzb2x1dGlvbiIsInN0eWxlQ2FjaGUiLCJvbCIsInN0eWxlIiwiU3R5bGUiLCJpbWFnZSIsIkljb24iLCJzcmMiLCJhbmNob3JPcmlnaW4iLCJhbmNob3IiLCJzY2FsZSIsInNlbGVjdEJ5RmlsdGVycyIsInBhcmFtcyIsImxlYXNlVHlwZSIsIiQiLCJ2YWwiLCJzdGFydFByaWNlIiwiZW5kUHJpY2UiLCJmZWF0dXJlcyIsImdldEZpbHRlcmVkRXN0YXRlcyIsImxlbmd0aCIsImZpbHRlcmVkRXN0YXRlcyIsImdldFNvdXJjZSIsImNsZWFyIiwiYWRkRmVhdHVyZXMiLCJzZXRWaXNpYmxlIiwicHJvcGVydHkiLCJnZXRFeHRlbnQiLCJ3aGljaE9uZSIsIlJlbnQiLCJwcm9wZXJ0eVNvdXJjZSIsImdldEZlYXR1cmVzIiwiZm9yRWFjaCIsImYiLCJmcHJpY2UiLCJnZXQiLCJmdHlwZSIsImNsb25lIiwicHVzaCIsIlNhbGUiLCJjZW50ZXIiLCJleHRlbnQiLCJsYW5nIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJnZW9KU09ORm9ybWF0IiwiZm9ybWF0IiwiR2VvSlNPTiIsImRlZmF1bHREYXRhUHJvamVjdGlvbiIsImJpbmciLCJsYXllciIsIlRpbGUiLCJ2aXNpYmxlIiwic291cmNlIiwiQmluZ01hcHMiLCJrZXkiLCJpbWFnZXJ5U2V0IiwibWF4Wm9vbSIsImNyb3NzT3JpZ2luIiwicHJlbG9hZCIsIkluZmluaXR5IiwiaWQiLCJtYXBib3giLCJYWVoiLCJhdHRyaWJ1dGlvbnMiLCJBdHRyaWJ1dGlvbiIsImh0bWwiLCJ1cmwiLCJwcm9wZXJ0eVN0eWxlRnVuY3Rpb24iLCJzaXplIiwicmFkaXVzIiwiQ2lyY2xlIiwic3Ryb2tlIiwiU3Ryb2tlIiwiY29sb3IiLCJ3aWR0aCIsImZpbGwiLCJGaWxsIiwidGV4dCIsIlRleHQiLCJ0b1N0cmluZyIsInpJbmRleCIsIlZlY3RvciIsImxvYWRlciIsInByb2plY3Rpb24iLCJlcHNnNDMyNkV4dGVudCIsInByb2oiLCJ0cmFuc2Zvcm1FeHRlbnQiLCJ0aGF0IiwidGhpcyIsImFqYXgiLCJ0eXBlIiwiZGF0YVR5cGUiLCJkb25lIiwicmVzcG9uc2UiLCJyZWFkRmVhdHVyZXMiLCJmZWF0dXJlUHJvamVjdGlvbiIsImZhaWwiLCJjb25zb2xlIiwibG9nIiwic3RyYXRlZ3kiLCJsb2FkaW5nc3RyYXRlZ3kiLCJiYm94IiwicHJvcGVydHlDbHVzdGVyU291cmNlIiwiQ2x1c3RlciIsImRpc3RhbmNlIiwic2V0WkluZGV4IiwiUFNBU3R5bGVGdW5jdGlvbiIsInN5bWJvbCIsIm9mZnNldFkiLCJQU0EiLCJtYXhSZXNvbHV0aW9uIiwibWFwIiwiTWFwIiwidGFyZ2V0IiwibGF5ZXJzIiwibG9hZFRpbGVzV2hpbGVBbmltYXRpbmciLCJsb2FkVGlsZXNXaGlsZUludGVyYWN0aW5nIiwicmVuZGVyZXIiLCJjb250cm9scyIsImNvbnRyb2wiLCJkZWZhdWx0cyIsImF0dHJpYnV0aW9uT3B0aW9ucyIsImNvbGxhcHNpYmxlIiwiY29sbGFwc2VkIiwiZXh0ZW5kIiwiU2NhbGVMaW5lIiwidW5pdHMiLCJPdmVydmlld01hcCIsImNsYXNzTmFtZSIsIlpvb21Ub0V4dGVudCIsInZpZXciLCJWaWV3Iiwiem9vbSIsIm1pblpvb20iLCJzZXQiLCJhZGRMYXllciIsImdlb2xvY2F0aW9uIiwiR2VvbG9jYXRpb24iLCJnZXRWaWV3IiwiZ2V0UHJvamVjdGlvbiIsInRyYWNraW5nT3B0aW9ucyIsIm1heGltdW1BZ2UiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwiYWNjdXJhY3lGZWF0dXJlIiwiRmVhdHVyZSIsIm9uIiwic2V0R2VvbWV0cnkiLCJnZXRBY2N1cmFjeUdlb21ldHJ5IiwicG9zaXRpb25GZWF0dXJlIiwic2V0U3R5bGUiLCJjb29yZGluYXRlcyIsImdldFBvc2l0aW9uIiwiZ2VvbSIsIlBvaW50IiwiZmVhdHVyZXNPdmVybGF5U291cmNlIiwiZSIsInByZXZlbnREZWZhdWx0IiwicHJvcCIsInNldFRyYWNraW5nIiwiaGFuZGxlSW5mbyIsImV2dCIsImNvb3JkaW5hdGUiLCJnZXRSZXNvbHV0aW9uIiwic2V0UmVzb2x1dGlvbiIsInNldENlbnRlciIsIm9iaiIsInRpdGxlIiwiZXN0YXRlQ29kZSIsImFyZWEiLCJhZGRyZXNzIiwiYmVkcm9vbXMiLCJwcmljZSIsInBhcmtpbmciLCJmdXJuaXNoZWQiLCJwZXRzIiwiaGVhdGluZyIsImNvb2xpbmciLCJjb250YWN0SW5mbyIsIm5hbWUiLCJsYXN0bmFtZSIsInBob25lIiwiZW1haWwiLCJjbGlja2VkRmVhdHVyZSIsImZvckVhY2hGZWF0dXJlQXRQaXhlbCIsInBpeGVsIiwiYSIsImdpZCIsImZlYXR1cmVDb29yZGluYXRlIiwiZ2V0Q29vcmRpbmF0ZXMiLCJQU0FTb3VyY2UiLCJwcm9wZXJ0eV9zZXJ2aWNlc19hbmFseXNpcyIsImFsbCIsInNldFNvdXJjZSIsImR1c3QiLCJyZW5kZXIiLCJlcnIiLCJvdXQiLCJyZW1vdmVDbGFzcyIsImNsaWNrIiwidW4iLCJoYW5kbGVNYXJrZXIiLCJldmVudCIsImZlYXR1cmVDb3VudCIsImZlYXR1cmVzT3ZlcmxheSIsIm1hcmtlciIsInNldElkIiwiYWRkRmVhdHVyZSIsInJvdXRlQ29vcmRzIiwiY2FsbFJvdXRlIiwiZmlyc3QiLCJ0cmFuc2Zvcm0iLCJzZWNvbmQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImRhdGEiLCJyb3V0ZSIsImdlb21ldHJ5Iiwicm91dGVzIiwiZGF0YVByb2plY3Rpb24iLCJmaXQiLCJnZXRTaXplIiwiYWx3YXlzIiwiaWNvblN0eWxlIiwiYW5jaG9yWFVuaXRzIiwiYW5jaG9yWVVuaXRzIiwib3BhY2l0eSIsInNuYXBUb1BpeGVsIiwiZmVhdHVyZXNPdmVybGF5U3R5bGUiLCJsaW5lRGFzaCIsIm5hbWVFbCIsIk5hbWVFbiIsImdlb21ldHJ5TmFtZSIsImNoYW5nZSIsImdldE92ZXJsYXlzIiwib3ZsIiwiZ2V0RWxlbWVudCIsInBhcmVudCIsInJlbW92ZSIsImdldENlbnRlciIsImxhdCIsImxvbiIsImNyZWF0ZVdlYXRoZXJPdmVybGF5IiwicG9zaXRpb24iLCJpbmRleCIsImVsZW0iLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiT3ZlcmxheSIsImVsZW1lbnQiLCJvdmVybGF5Iiwib2JqcyIsImxpc3QiLCJlYWNoIiwiY29vcmQiLCJhZGRPdmVybGF5Iiwid2VhdGhlckRhdGEiLCJ0ZW1wIiwibWFpbiIsInByZXNzdXJlIiwiaHVtaWRpdHkiXSwibWFwcGluZ3MiOiJBQW9MQyxRQUFTQSxvQkFBbUJDLEVBQVNDLEdBU25DLE1BUkFDLGFBQWMsR0FBSUMsSUFBR0MsTUFBTUMsT0FDekJDLE1BQU8sR0FBSUgsSUFBR0MsTUFBTUcsTUFDbEJDLElBQUssdUNBQ0xDLGFBQWMsY0FDZEMsUUFBUyxHQUFLLElBQ2RDLE1BQU8sUUFhYixRQUFTQyxtQkFDUCxHQUFJQyxLQUtKLElBSkFBLEVBQU9DLFVBQVlDLEVBQUUsK0JBQStCQyxNQUNwREgsRUFBT0ksV0FBYUYsRUFBRSxlQUFlQyxNQUNyQ0gsRUFBT0ssU0FBV0gsRUFBRSxhQUFhQyxNQUNqQ0csU0FBV0MsbUJBQW1CUCxHQUMxQk0sU0FBU0UsT0FBUyxFQUFHLENBQ3ZCQyxnQkFBZ0JDLFlBQVlDLFFBQzVCRixnQkFBZ0JDLFlBQVlFLFlBQVlOLFVBQ3hDRyxnQkFBZ0JJLFlBQVcsR0FDM0JDLFNBQVNELFlBQVcsRUFDUEosaUJBQWdCQyxZQUFZSyxnQkFHMUNOLGlCQUFnQkksWUFBVyxHQUMxQkMsU0FBU0QsWUFBVyxHQUl4QixRQUFTTixvQkFBbUJQLEdBQzFCLEdBQUlNLE1BQ0FVLEdBQ0ZDLEtBQVEsU0FBU2pCLEdBU2YsTUFSQWtCLGdCQUFlQyxjQUFjQyxRQUFRLFNBQVNDLEdBQzVDLEdBQUlDLEdBQVNELEVBQUVFLElBQUksU0FDZkMsRUFBUUgsRUFBRUUsSUFBSSxVQUNsQixJQUFjLFNBQVZDLEdBQW9CRixHQUFVdEIsRUFBT0ksWUFBY2tCLEdBQVV0QixFQUFPSyxTQUFVLENBQ2hGLEdBQUlsQixHQUFVa0MsRUFBRUksT0FDaEJuQixHQUFTb0IsS0FBS3ZDLE1BR1htQixHQUVUcUIsS0FBUSxTQUFTM0IsR0FTZixNQVJBa0IsZ0JBQWVDLGNBQWNDLFFBQVEsU0FBU0MsR0FDNUMsR0FBSUMsR0FBU0QsRUFBRUUsSUFBSSxTQUNmQyxFQUFRSCxFQUFFRSxJQUFJLFVBQ2xCLElBQWMsU0FBVkMsR0FBb0JGLEdBQVV0QixFQUFPSSxZQUFja0IsR0FBVXRCLEVBQU9LLFNBQVUsQ0FDaEYsR0FBSWxCLEdBQVVrQyxFQUFFSSxPQUNoQm5CLEdBQVNvQixLQUFLdkMsTUFHWG1CLEdBR1gsT0FBSVUsR0FBU2hCLEVBQU9DLFdBQW1CZSxFQUFTaEIsRUFBT0MsV0FBV0QsR0FBbEUsT0FwUEYsR0FBSTRCLFNBQVUsUUFBUyxTQUNyQkMsUUFBVSxRQUFTLFFBQVMsUUFBUyxTQUNyQ0MsS0FBT0MsU0FBU0MsZ0JBQWdCRixLQUNoQ3pDLGNBQ0E0QyxjQUFnQixHQUFJM0MsSUFBRzRDLE9BQU9DLFNBQzVCQyxzQkFBdUIsY0FFdkJDLEtBQU8sR0FBSS9DLElBQUdnRCxNQUFNQyxNQUN0QkMsU0FBUyxFQUNUQyxPQUFRLEdBQUluRCxJQUFHbUQsT0FBT0MsVUFDcEJDLElBQUssbUVBQ0xDLFdBQVksV0FFZEMsUUFBUyxHQUNUQyxZQUFhLFlBQ2JDLFFBQVNDLEVBQUFBLEVBQ1RDLEdBQUksU0FFRkMsT0FBUyxHQUFJNUQsSUFBR2dELE1BQU1DLE1BQ3hCRSxPQUFRLEdBQUluRCxJQUFHbUQsT0FBT1UsS0FDcEJDLGNBQWUsR0FBSTlELElBQUcrRCxhQUNwQkMsS0FBTSx5R0FFUkMsSUFBSyw2S0FFUE4sR0FBSSxXQUVGTyxzQkFBd0IsU0FBU3JFLEVBQVNDLEdBQzVDLEdBQUlxRSxHQUFPdEUsRUFBUW9DLElBQUksWUFBWWYsT0FFL0JrRCxHQURrQnhDLGVBQWVDLGNBQWNYLE9BQ3RDLElBQ1RqQixFQUFRRixXQUFXb0UsRUFrQ3ZCLE9BakNLbEUsS0FFREEsRUFERWtFLEVBQU8sR0FDQSxHQUFJbkUsSUFBR0MsTUFBTUMsT0FDcEJDLE1BQU8sR0FBSUgsSUFBR0MsTUFBTW9FLFFBQ2xCRCxPQUFRQSxFQUNSRSxPQUFRLEdBQUl0RSxJQUFHQyxNQUFNc0UsUUFDbkJDLE9BQVEsSUFBSyxHQUFJLElBQUssR0FDdEJDLE1BQU8sSUFFVEMsS0FBTSxHQUFJMUUsSUFBR0MsTUFBTTBFLE1BQ2pCSCxPQUFRLEdBQUksSUFBSyxJQUFLLFFBRzFCSSxLQUFNLEdBQUk1RSxJQUFHQyxNQUFNNEUsTUFDakJELEtBQU1ULEVBQUtXLFdBQ1hKLEtBQU0sR0FBSTFFLElBQUdDLE1BQU0wRSxNQUNqQkgsTUFBTyxjQUdYTyxPQUFRLFFBR0QsR0FBSS9FLElBQUdDLE1BQU1DLE9BQ3BCQyxNQUFPLEdBQUlILElBQUdDLE1BQU1HLE1BQ2xCQyxJQUFLLHVDQUNMQyxhQUFjLGNBQ2RDLFFBQVMsRUFBRyxHQUNaQyxNQUFPLFFBSWJULFdBQVdvRSxHQUFRbEUsR0FFZEEsR0FFTDJCLGVBQWlCLEdBQUk1QixJQUFHbUQsT0FBTzZCLFFBQ2pDcEMsT0FBUUQsY0FDUnNDLE9BQVEsU0FBUzFDLEVBQVF6QyxFQUFZb0YsR0FDbkMsR0FBSUMsR0FBaUJuRixHQUFHb0YsS0FBS0MsZ0JBQWdCOUMsRUFBUSxZQUFhLGFBQzlEMEIsRUFBTSw4Q0FBZ0RrQixFQUFlLEdBQUssYUFBZUEsRUFBZSxHQUFLLGFBQWVBLEVBQWUsR0FBSyxhQUFlQSxFQUFlLEdBQzlLRyxFQUFPQyxJQUNYQSxNQUFLbEUsUUFDTFQsRUFBRTRFLE1BQ0F2QixJQUFLQSxFQUNMd0IsS0FBTSxNQUNOQyxTQUFVLFNBQ1RDLEtBQUssU0FBU0MsR0FDZixHQUFJNUUsR0FBVzJCLGNBQWNrRCxhQUFhRCxHQUN4Q0Usa0JBQW1CLGFBR3JCUixHQUFLaEUsWUFBWU4sS0FDaEIrRSxLQUFLLFdBQ05DLFFBQVFDLElBQUksWUFHaEJDLFNBQVVsRyxHQUFHbUcsZ0JBQWdCQyxPQUUzQkMsc0JBQXdCLEdBQUlyRyxJQUFHbUQsT0FBT21ELFNBQ3hDQyxTQUFVLEdBQ1ZwRCxPQUFRdkIsZUFDUmtDLGNBQWUsR0FBSTlELElBQUcrRCxhQUNwQkMsS0FBTSwwRUFHTnhDLFNBQVcsR0FBSXhCLElBQUdnRCxNQUFNZ0MsUUFDMUI3QixPQUFRa0Qsc0JBQ1IxQyxHQUFJLFVBQ0pULFNBQVMsRUFDVGpELE1BQU9pRSx1QkFFVDFDLFVBQVNnRixVQUFVLEVBQ25CLElBQUlDLGtCQUFtQixTQUFTNUcsRUFBU0MsR0FDdkMsR0FDSThFLEdBREE4QixFQUFTN0csRUFBUW9DLElBQUksUUF5QnpCLE9BdEJFMkMsR0FEVyxPQUFUcEMsS0FDSzNDLEVBQVFvQyxJQUFJLFdBRVpwQyxFQUFRb0MsSUFBSSxXQUVoQmxDLFdBQVcyRyxLQUNkM0csWUFBYyxHQUFJQyxJQUFHQyxNQUFNQyxPQUN6QkMsTUFBTyxHQUFJSCxJQUFHQyxNQUFNRyxNQUNsQkMsSUFBSywwQkFBNEJxRyxFQUFTLFVBQzFDcEcsYUFBYyxjQUNkQyxRQUFTLEdBQUssSUFDZEMsTUFBTyxJQUVUb0UsS0FBTSxHQUFJNUUsSUFBR0MsTUFBTTRFLE1BQ2pCRCxLQUFNQSxFQUNOTixPQUFRLEdBQUl0RSxJQUFHQyxNQUFNc0UsUUFDbkJDLE9BQVEsSUFBSyxHQUFJLElBQUssSUFDdEJDLE1BQU8sSUFFVGtDLFFBQVMsU0FJUjVHLFlBRUw2RyxJQUFNLEdBQUk1RyxJQUFHZ0QsTUFBTWdDLFFBQ3JCL0UsTUFBT3dHLGlCQUNQSSxjQUFlLEdBRWpCRCxLQUFJSixVQUFVLEVBQ2QsSUFBSU0sS0FBTSxHQUFJOUcsSUFBRytHLEtBQ2ZDLE9BQVEsTUFDUkMsUUFBU3JELE9BQVFwQyxTQUFVb0YsS0FDM0JNLHlCQUF5QixFQUN6QkMsMkJBQTJCLEVBQzNCQyxTQUFVLFNBQ1ZDLFNBQVVySCxHQUFHc0gsUUFBUUMsVUFDbkJDLG9CQUNFQyxhQUFhLEVBQ2JDLFdBQVcsS0FFWkMsUUFDRCxHQUFJM0gsSUFBR3NILFFBQVFNLFdBQ2JDLE1BQU8sV0FDTCxHQUFJN0gsSUFBR3NILFFBQVFRLGFBQ2pCQyxVQUFXLHVDQUNYTixhQUFhLEVBQ2JDLFdBQVcsRUFDWFQsUUFBU2xFLFFBRVgsR0FBSS9DLElBQUdzSCxRQUFRVSxjQUNiekYsT0FBUUEsV0FHWjBGLEtBQU0sR0FBSWpJLElBQUdrSSxNQUNYNUYsT0FBUUEsT0FDUkMsT0FBUUEsT0FDUjJDLFdBQVksWUFDWmlELEtBQU0sR0FDTjVFLFFBQVMsR0FDVDZFLFFBQVMsTUFHQSxRQUFUNUYsTUFDRk8sS0FBS3NGLElBQUksT0FBUSxxQkFDakJ6RSxPQUFPeUUsSUFBSSxPQUFRLFVBQ25CN0csU0FBUzZHLElBQUksT0FBUSxhQUVyQnRGLEtBQUtzRixJQUFJLE9BQVEsbUJBQ2pCekUsT0FBT3lFLElBQUksT0FBUSxPQUNuQjdHLFNBQVM2RyxJQUFJLE9BQVEsY0FjdkIsSUFBSWxILGlCQUFrQixHQUFJbkIsSUFBR2dELE1BQU1nQyxRQUNqQzdCLE9BQVEsR0FBSW5ELElBQUdtRCxPQUFPNkIsT0FDdEJyQixHQUFJLGtCQUNKVCxTQUFTLEVBQ1RqRCxNQUFPTCxvQkFFVGtILEtBQUl3QixTQUFTbkg7QUNyTWQ7Q0NBQyxXQUNDLEdBQUlvSCxHQUFjLEdBQUl2SSxJQUFHd0ksYUFFdkJ0RCxXQUFZNEIsSUFBSTJCLFVBQVVDLGdCQUMxQkMsaUJBQ0VDLFdBQVksSUFDWkMsb0JBQW9CLEVBQ3BCQyxRQUFTLE9BR1RDLEVBQWtCLEdBQUkvSSxJQUFHZ0osT0FDN0JULEdBQVlVLEdBQUcsMEJBQTJCLFdBQ3hDRixFQUFnQkcsWUFBWVgsRUFBWVksd0JBRTFDLElBQUlDLEdBQWtCLEdBQUlwSixJQUFHZ0osT0FDN0JJLEdBQWdCQyxTQUFTLEdBQUlySixJQUFHQyxNQUFNQyxPQUNwQ0MsTUFBTyxHQUFJSCxJQUFHQyxNQUFNb0UsUUFDbEJELE9BQVEsRUFDUk0sS0FBTSxHQUFJMUUsSUFBR0MsTUFBTTBFLE1BQ2pCSCxNQUFPLFlBRVRGLE9BQVEsR0FBSXRFLElBQUdDLE1BQU1zRSxRQUNuQkMsTUFBTyxPQUNQQyxNQUFPLFNBS2I4RCxFQUFZVSxHQUFHLGtCQUFtQixXQUNoQyxHQUFJSyxHQUFjZixFQUFZZ0IsYUFDOUJILEdBQWdCRixZQUFZSSxFQUFjLEdBQUl0SixJQUFHd0osS0FBS0MsTUFBTUgsR0FBZSxRQUU3RUksc0JBQXdCLEdBQUkxSixJQUFHbUQsT0FBTzZCLFVBQ2hCLElBQUloRixJQUFHZ0QsTUFBTWdDLFFBQ2pDOEIsSUFBS0EsSUFDTDNELE9BQVF1Ryx1QkFFVjlJLEdBQUUsZ0JBQWdCcUksR0FBRyxTQUFVLFNBQVNVLEdBQ3RDQSxFQUFFQyxpQkFDRWhKLEVBQUUyRSxNQUFNc0UsS0FBSyxjQUFlLEdBQzlCdEIsRUFBWXVCLGFBQVksR0FDeEJKLHNCQUFzQnBJLGFBQWE4SCxFQUFnQkwsTUFFbkRSLEVBQVl1QixhQUFZLEdBQ3hCSixzQkFBc0JySTtDQzVDM0IsV0FnQkMsUUFBUzBJLEdBQVdDLEdBQ2xCQSxFQUFJSixnQkFDSixJQUFJSyxHQUFhRCxFQUFJQyxVQUNyQixJQUFJbkQsSUFBSTJCLFVBQVV5QixnQkFBa0IsRUFDbENwRCxJQUFJMkIsVUFBVTBCLGNBQWMsbUJBQzVCckQsSUFBSTJCLFVBQVUyQixVQUFVSCxPQUNuQixDQUNMLEdBQUlJLE1BQ0FDLEtBRUF0SixJQUNKcUosR0FBSUMsTUFBUUEsRUFDQyxPQUFUOUgsTUFDRjhILEVBQU1DLFdBQWEsc0JBQ25CRCxFQUFNN0UsS0FBTyxRQUNiNkUsRUFBTUUsS0FBTyxTQUNiRixFQUFNRyxRQUFVLFlBQ2hCSCxFQUFNSSxTQUFXLGNBQ2pCSixFQUFNSyxNQUFRLE9BQ2RMLEVBQUFBLE9BQVksV0FDWkEsRUFBTU0sUUFBVSxXQUNoQk4sRUFBTU8sVUFBWSxhQUNsQlAsRUFBTVEsS0FBTyxhQUNiUixFQUFNckMsS0FBTyxNQUNicUMsRUFBTVMsUUFBVSxXQUNoQlQsRUFBTVUsUUFBVSxPQUNoQlYsRUFBTVcsWUFBYyx3QkFDcEJYLEVBQU1ZLEtBQU8sUUFDYlosRUFBTWEsU0FBVyxVQUNqQmIsRUFBTWMsTUFBUSxXQUNkZCxFQUFNZSxNQUFRLDBCQUVkZixFQUFNQyxXQUFhLGNBQ25CRCxFQUFNN0UsS0FBTyxPQUNiNkUsRUFBTUUsS0FBTyxPQUNiRixFQUFNRyxRQUFVLFVBQ2hCSCxFQUFNSSxTQUFXLFdBQ2pCSixFQUFNSyxNQUFRLFFBQ2RMLEVBQUFBLE9BQVksY0FDWkEsRUFBTU0sUUFBVSxVQUNoQk4sRUFBTU8sVUFBWSxZQUNsQlAsRUFBTVEsS0FBTyxlQUNiUixFQUFNckMsS0FBTyxPQUNicUMsRUFBTVMsUUFBVSxVQUNoQlQsRUFBTVUsUUFBVSxVQUNoQlYsRUFBTVcsWUFBYyxlQUNwQlgsRUFBTVksS0FBTyxPQUNiWixFQUFNYSxTQUFXLFlBQ2pCYixFQUFNYyxNQUFRLFlBQ2RkLEVBQU1lLE1BQVEsU0FFaEJDLGVBQWlCeEUsSUFBSXlFLHNCQUFzQnZCLEVBQUl3QixNQUFPLFNBQVMzTCxFQUFTbUQsR0FDdEUsT0FDRW5ELFFBQVNBLEVBQ1RtRCxNQUFPQSxJQUVSdUMsS0FBTSxTQUFTdkMsR0FDaEIsTUFBd0IsWUFBcEJBLEVBQU1mLElBQUksT0FBMkMsb0JBQXBCZSxFQUFNZixJQUFJLE9BQ3RDLEVBRFQsUUFHQ3NELE1BQ0MrRixpQkFDRkEsZUFBZXpMLFFBQVFvQyxJQUFJLFlBQVlILFFBQVEsU0FBU0MsR0FDdEQwSixFQUFJMUosQ0FDSixJQUFJbEMsS0FDSkEsR0FBUTZMLElBQU0zSixFQUFFRSxJQUFJLE9BQ3BCcEMsRUFBUTRGLEtBQU8xRCxFQUFFRSxJQUFJLGNBQ3JCcEMsRUFBUTJLLEtBQU96SSxFQUFFRSxJQUFJLGNBQ1IsT0FBVE8sS0FDRjNDLEVBQVE0SyxRQUFVMUksRUFBRUUsSUFBSSxhQUFlLElBQU1GLEVBQUVFLElBQUksWUFFbkRwQyxFQUFRNEssUUFBVTFJLEVBQUVFLElBQUksYUFBZSxJQUFNRixFQUFFRSxJQUFJLFlBRXJEcEMsRUFBUTZLLFNBQVczSSxFQUFFRSxJQUFJLFlBQ3pCcEMsRUFBUThLLE1BQVE1SSxFQUFFRSxJQUFJLFNBQ3RCcEMsRUFBQUEsT0FBY2tDLEVBQUVFLElBQUksT0FDcEJwQyxFQUFRK0ssUUFBVTdJLEVBQUVFLElBQUksV0FDeEJwQyxFQUFRZ0wsVUFBWTlJLEVBQUVFLElBQUksYUFDMUJwQyxFQUFRaUwsS0FBTy9JLEVBQUVFLElBQUksUUFDckJwQyxFQUFRb0ksS0FBT2xHLEVBQUVFLElBQUksUUFDckJwQyxFQUFRa0wsUUFBVWhKLEVBQUVFLElBQUksV0FDeEJwQyxFQUFRbUwsUUFBVWpKLEVBQUVFLElBQUksV0FDWCxPQUFUTyxNQUNGM0MsRUFBUXFMLEtBQU9uSixFQUFFRSxJQUFJLFdBQ3JCcEMsRUFBUXNMLFNBQVdwSixFQUFFRSxJQUFJLGlCQUV6QnBDLEVBQVFxTCxLQUFPbkosRUFBRUUsSUFBSSxXQUNyQnBDLEVBQVFzTCxTQUFXcEosRUFBRUUsSUFBSSxnQkFFM0JwQyxFQUFRdUwsTUFBUXJKLEVBQUVFLElBQUksVUFDdEJwQyxFQUFRd0wsTUFBUXRKLEVBQUVFLElBQUksU0FDdEJqQixFQUFTb0IsTUFDUHZDLFFBQVNBLElBRVg4TCxrQkFBb0I1SixFQUFFRSxJQUFJLFlBQVkySixpQkFDdEN2QixFQUFJckosU0FBV0EsQ0FDZixJQUFJNkssR0FBWSxHQUFJN0wsSUFBR21ELE9BQU82QixRQUM1QmxCLGNBQWUsR0FBSTlELElBQUcrRCxhQUNwQkMsS0FBTSxvRUFFUnBCLE9BQVFELGNBQ1JzQyxPQUFRLFNBQVMxQyxFQUFRekMsRUFBWW9GLEdBQ25DLEdBQUlqQixHQUFNLGlDQUFtQ3BFLEVBQVE2TCxJQUNqRHBHLEVBQU9DLElBQ1gzRSxHQUFFNEUsTUFDQXZCLElBQUtBLEVBQ0x3QixLQUFNLE1BQ05DLFNBQVUsU0FDVEMsS0FBSyxTQUFTQyxHQUNmLEdBQUk1RSxHQUFXMkIsY0FBY2tELGFBQWFELEVBQVNrRyw0QkFDakRoRyxrQkFBbUIsY0FFakIwRSxFQUFPLEdBQUl4SyxJQUFHQyxNQUFNQyxPQUN0QndFLEtBQU0sR0FBSTFFLElBQUdDLE1BQU0wRSxNQUNqQkgsT0FBUSxJQUFLLEdBQUksSUFBSyxPQUcxQnhELEdBQVMsR0FBR3FJLFNBQVNtQixHQUNyQmxGLEVBQUtoRSxZQUFZTixLQUNoQitFLEtBQUssV0FDTkMsUUFBUUMsSUFBSSxZQUdoQkMsU0FBVWxHLEdBQUdtRyxnQkFBZ0I0RixLQUUvQm5GLEtBQUlvRixVQUFVSCxLQUtoQkksS0FBS0MsT0FBTyxtQkFBb0I3QixFQUFLLFNBQVM4QixFQUFLQyxHQUNqRHhMLEVBQUUsaUJBQWlCb0QsS0FBS29JLEdBQ3hCeEwsRUFBRSxpQkFBaUJ5TCxZQUFZLG9CQUVqQ3pMLEVBQUUsd0JBQXdCMEwsTUFBTSxXQUM5QkwsS0FBS0MsT0FBTyxpQkFBa0I3QixFQUFLLFNBQVM4QixFQUFLQyxHQUMvQ3hMLEVBQUUsa0JBQWtCb0QsS0FBS29JLE9BRzdCdEYsSUFBSTJCLFVBQVUyQixVQUFVdUIscUJBSzlCL0ssRUFBRSxTQUFTcUksR0FBRyxTQUFVLFNBQVNVLEdBQy9CQSxFQUFFQyxpQkFDRWhKLEVBQUUyRSxNQUFNc0UsS0FBSyxjQUFlLEVBQzlCL0MsSUFBSW1DLEdBQUcsUUFBU2MsR0FFaEJqRCxJQUFJeUYsR0FBRyxRQUFTeEM7Q0NyS3JCLFdBZ0NDLFFBQVN5QyxHQUFhQyxHQUNwQkEsRUFBTTdDLGdCQUNOLElBQUk4QyxHQUFlQyxFQUFnQnZMLFlBQVlTLGNBQWNYLE9BQ3pEb0ksRUFBY21ELEVBQU14QyxVQUN4QixJQUFxQixJQUFqQnlDLEVBQ0ZFLEVBQU8xRCxZQUFZLEdBQUlsSixJQUFHd0osS0FBS0MsTUFBTUgsSUFDckNzRCxFQUFPQyxNQUFNLFNBQ2JGLEVBQWdCdkwsWUFBWTBMLFdBQVdGLEdBQ3ZDRyxFQUFZLEdBQUt6RCxFQUFZLEdBQzdCeUQsRUFBWSxHQUFLekQsRUFBWSxPQUN4QixJQUFxQixJQUFqQm9ELEVBQW9CLENBQzdCLEdBQUl2SyxHQUFReUssRUFBT3pLLE9BQ25CQSxHQUFNK0csWUFBWSxHQUFJbEosSUFBR3dKLEtBQUtDLE1BQU1ILElBQ3BDbkgsRUFBTTBLLE1BQU0sVUFDWkYsRUFBZ0J2TCxZQUFZMEwsV0FBVzNLLEdBQ3ZDNEssRUFBWSxHQUFLekQsRUFBWSxHQUM3QnlELEVBQVksR0FBS3pELEVBQVksR0FDN0IwRCxFQUFVRCxPQUVWSixHQUFnQnZMLFlBQVlDLFFBU2hDLFFBQVMyTCxHQUFVRCxHQUNqQixHQUFJRSxHQUFRak4sR0FBR29GLEtBQUs4SCxXQUFXSCxFQUFZLEdBQUlBLEVBQVksSUFBSyxZQUFhLGFBQ3pFSSxFQUFTbk4sR0FBR29GLEtBQUs4SCxXQUFXSCxFQUFZLEdBQUlBLEVBQVksSUFBSyxZQUFhLGFBQzFFSyxFQUFLSCxFQUFNLEdBQ1hJLEVBQUtKLEVBQU0sR0FDWEssRUFBS0gsRUFBTyxHQUNaSSxFQUFLSixFQUFPLEVBQ2hCdk0sR0FBRTRFLE1BQ0F2QixJQUFLLHVEQUF5RG1KLEVBQUssSUFBTUMsRUFBSyxJQUFNQyxFQUFLLElBQU1DLEVBQUssMklBQ3BHOUgsS0FBTSxNQUNOQyxTQUFVLFNBQ1RDLEtBQUssU0FBUzZILEdBQ2YsR0FBSUMsS0FDSkEsR0FBTWhJLEtBQU0sVUFDWmdJLEVBQU1DLFNBQVdGLEVBQUtHLE9BQU8sR0FBR0QsU0FDaENmLEVBQWdCdkwsWUFBWUUsWUFBWXFCLGNBQWNrRCxhQUFhNEgsR0FDakVHLGVBQWdCLFlBQ2hCOUgsa0JBQW1CLGVBRXJCZ0IsSUFBSTJCLFVBQVVvRixJQUFJbEIsRUFBZ0J2TCxZQUFZSyxZQUFhcUYsSUFBSWdILGFBQzlEL0gsS0FBSyxXQUNOQyxRQUFRQyxJQUFJLFdBQ1g4SCxPQUFPLFdBQ1IvSCxRQUFRQyxJQUFJLGNBbEZoQixHQUFJMkcsR0FBUyxHQUFJNU0sSUFBR2dKLFFBQ2hCZ0YsRUFBWSxHQUFJaE8sSUFBR0MsTUFBTUMsT0FDM0JDLE1BQU8sR0FBSUgsSUFBR0MsTUFBTUcsTUFDbEJHLFFBQVMsR0FBSyxHQUNkME4sYUFBYyxXQUNkQyxhQUFjLFdBQ2RDLFFBQVMsRUFDVDNOLE1BQU8sRUFDUEgsSUFBSyx1Q0FDTCtOLGFBQWEsSUFFZnJKLE9BQVEsS0FFVjZILEdBQU92RCxTQUFTMkUsRUFDaEIsSUFBSUssR0FBdUIsR0FBSXJPLElBQUdDLE1BQU1DLE9BQ3RDb0UsT0FBUSxHQUFJdEUsSUFBR0MsTUFBTXNFLFFBQ25CQyxNQUFPLFVBQ1BDLE1BQU8sRUFDUDZKLFVBQVcsRUFBRyxPQUdkM0IsRUFBa0IsR0FBSTNNLElBQUdnRCxNQUFNZ0MsUUFDakM4QixJQUFLQSxJQUNMM0QsT0FBUSxHQUFJbkQsSUFBR21ELE9BQU82QixPQUN0Qi9FLE1BQU9vTyxFQUNQMUssR0FBSSxRQUNKNEssT0FBUSxXQUNSQyxPQUFRLFVBRU56QixJQXlCSnBLLGVBQWdCLEdBQUkzQyxJQUFHNEMsT0FBT0MsU0FDNUJDLHNCQUF1QixZQUN2QjJMLGFBQWMsYUE2QmhCN04sRUFBRSxXQUFXcUksR0FBRyxTQUFVLFNBQVN3RCxHQUNqQ0EsRUFBTTdDLGlCQUVGaEosRUFBRTJFLE1BQU1zRSxLQUFLLGNBQWUsRUFDOUIvQyxJQUFJbUMsR0FBRyxjQUFldUQsSUFFdEIxRixJQUFJeUYsR0FBRyxjQUFlQyxHQUN0QkcsRUFBZ0J2TCxZQUFZQztDQzdGakMsV0FDQ1QsRUFBRSxZQUFZOE4sT0FBTyxXQUNuQixHQUFJOU4sRUFBRTJFLE1BQU1zRSxLQUFLLGNBQWUsRUFBTSxDQUNsQy9DLElBQUk2SCxjQUFjN00sUUFBUSxTQUFTOE0sR0FDWCxZQUFwQkEsRUFBSTNNLElBQUksVUFDVHJCLEVBQUVnTyxFQUFJQyxjQUFjQyxTQUFVQyxTQUMvQm5PLEVBQUVnTyxFQUFJQyxjQUFjRSxXQUd4QixJQUFJek0sR0FBU3RDLEdBQUdvRixLQUFLOEgsVUFBVXBHLElBQUkyQixVQUFVdUcsWUFBYSxZQUFhLGFBQ25FQyxFQUFNM00sRUFBTyxHQUNiNE0sRUFBTTVNLEVBQU8sRUFDakIxQixHQUFFNEUsTUFDQXZCLElBQUssbURBQXFEZ0wsRUFBTSxRQUFVQyxFQUFNLHNGQUNoRnpKLEtBQU0sTUFDTkMsU0FBVSxTQUNUQyxLQUFLLFNBQVM2SCxHQUNmLFFBQVMyQixHQUFxQkMsRUFBVUMsR0FDdEMsR0FBSUMsR0FBTzdNLFNBQVM4TSxjQUFjLE1BSWxDLE9BSEFELEdBQUtFLGFBQWEsUUFBUyx1REFDM0JGLEVBQUtFLGFBQWEsS0FBTUgsR0FDeEJDLEVBQUtFLGFBQWEsWUFBYSxXQUN4QixHQUFJeFAsSUFBR3lQLFNBQ1pDLFFBQVNKLEVBQ1RGLFNBQVVBLElBR2QsR0FDSU8sR0FBU3JHLEVBRFRzRyxFQUFPcEMsRUFBS3FDLElBRWhCalAsR0FBRWtQLEtBQUtGLEVBQU0sU0FBU1AsRUFBT3hPLEdBQzNCeUksRUFBY3RKLEdBQUdvRixLQUFLOEgsV0FBV3JNLEVBQUlrUCxNQUFNYixJQUFLck8sRUFBSWtQLE1BQU1kLEtBQU0sWUFBYSxhQUM3RVUsRUFBVVIsRUFBcUI3RixFQUFhK0YsR0FDNUN2SSxJQUFJa0osV0FBV0wsR0FDZkEsRUFBUXRILElBQUksT0FBUSxXQUNwQjRILGFBQ0UvRSxLQUFRckssRUFBSXFLLEtBQ1pnRixLQUFRclAsRUFBSXNQLEtBQUtELEtBQ2pCRSxTQUFZdlAsRUFBSXNQLEtBQUtDLFNBQ3JCQyxTQUFZeFAsRUFBSXNQLEtBQUtFLFVBRXZCcEUsS0FBS0MsT0FBTyxvQkFBcUIrRCxZQUFhLFNBQVM5RCxFQUFLQyxHQUMxRHhMLEVBQUUsSUFBTXlPLEdBQU9yTCxLQUFLb0ksU0FHdkJyRyxLQUFLLGtCQUdDbkYsR0FBRTJFLE1BQU1zRSxLQUFLLGNBQWUsR0FDckMvQyxJQUFJNkgsY0FBYzdNLFFBQVEsU0FBUzhNLEdBQ1QsWUFBcEJBLEVBQUkzTSxJQUFJLFVBQ1RyQixFQUFFZ08sRUFBSUMsY0FBY0MsU0FBVUMsU0FDL0JuTyxFQUFFZ08sRUFBSUMsY0FBY0UiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgdmFyIGNlbnRlciA9IFszNjc3Mzg1LCA0MTIwOTQ5XSxcclxuICAgZXh0ZW50ID0gWzM1OTAwOTQsIDQxMDI4MzMsIDM4NTU0ODMsIDQyNjEyMTFdLFxyXG4gICBsYW5nID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcsXHJcbiAgIHN0eWxlQ2FjaGUgPSB7fSxcclxuICAgZ2VvSlNPTkZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuR2VvSlNPTih7XHJcbiAgICAgZGVmYXVsdERhdGFQcm9qZWN0aW9uOiAnRVBTRzo0MzI2J1xyXG4gICB9KTtcclxuIHZhciBiaW5nID0gbmV3IG9sLmxheWVyLlRpbGUoe1xyXG4gICB2aXNpYmxlOiB0cnVlLFxyXG4gICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuQmluZ01hcHMoe1xyXG4gICAgIGtleTogJ0FrMkdxOFZVZklDc1BwdWY3TFJBTlhtWHQyc0hXbVNMUGhvaG1WTEZ0RklFd1lqc181TUN5QWhBRndSU1ZwTGonLFxyXG4gICAgIGltYWdlcnlTZXQ6ICdBZXJpYWwnXHJcbiAgIH0pLFxyXG4gICBtYXhab29tOiAxOSxcclxuICAgY3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnLFxyXG4gICBwcmVsb2FkOiBJbmZpbml0eSxcclxuICAgaWQ6ICdiaW5nJ1xyXG4gfSk7XHJcbiB2YXIgbWFwYm94ID0gbmV3IG9sLmxheWVyLlRpbGUoe1xyXG4gICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuWFlaKHtcclxuICAgICBhdHRyaWJ1dGlvbnM6IFtuZXcgb2wuQXR0cmlidXRpb24oe1xyXG4gICAgICAgaHRtbDogJzxhIGhyZWY9XFxcImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYWJvdXQvbWFwcy9cXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj4mY29weTsgTWFwYm94ICZjb3B5OyBPcGVuU3RyZWV0TWFwPC9hPidcclxuICAgICB9KV0sXHJcbiAgICAgdXJsOiAnaHR0cHM6Ly9hcGkubWFwYm94LmNvbS92NC9tYXBib3guc3RyZWV0cy97en0ve3h9L3t5fS5wbmc/YWNjZXNzX3Rva2VuPXBrLmV5SjFJam9pWm1seWRtRnBiaUlzSW1FaU9pSmxPV1l5WVRNME5UaGlOV00wWWpKak9ESmpOREU0T0RRek56QTJNR1F5TmlKOS4tTlZETzI3SHp0LXdfblFvc1VQZkxBJ1xyXG4gICB9KSxcclxuICAgaWQ6ICdtYXBib3gnXHJcbiB9KTtcclxuIHZhciBwcm9wZXJ0eVN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgIHZhciBzaXplID0gZmVhdHVyZS5nZXQoJ2ZlYXR1cmVzJykubGVuZ3RoO1xyXG4gICB2YXIgbWF4RmVhdHVyZUNvdW50ID0gcHJvcGVydHlTb3VyY2UuZ2V0RmVhdHVyZXMoKS5sZW5ndGg7XHJcbiAgIHZhciByYWRpdXMgPSAyMDtcclxuICAgdmFyIHN0eWxlID0gc3R5bGVDYWNoZVtzaXplXTtcclxuICAgaWYgKCFzdHlsZSkge1xyXG4gICAgIGlmIChzaXplID4gMSkge1xyXG4gICAgICAgc3R5bGUgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgICAgICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICAgICAgIHJhZGl1czogcmFkaXVzLFxyXG4gICAgICAgICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMV0sXHJcbiAgICAgICAgICAgICB3aWR0aDogNVxyXG4gICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICAgICAgIGNvbG9yOiBbNjgsIDEzOCwgMjU1LCAwLjhdXHJcbiAgICAgICAgICAgfSlcclxuICAgICAgICAgfSksXHJcbiAgICAgICAgIHRleHQ6IG5ldyBvbC5zdHlsZS5UZXh0KHtcclxuICAgICAgICAgICB0ZXh0OiBzaXplLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgICAgY29sb3I6ICcjRkZGRkZGJ1xyXG4gICAgICAgICAgIH0pXHJcbiAgICAgICAgIH0pLFxyXG4gICAgICAgICB6SW5kZXg6IDEwMVxyXG4gICAgICAgfSldO1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBzdHlsZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgICAgICBzcmM6ICcuLi9pbWFnZXMvbWFwLWljb25zL3BpbnMvNDgvcGluNS5wbmcnLFxyXG4gICAgICAgICAgIGFuY2hvck9yaWdpbjogJ2JvdHRvbS1sZWZ0JyxcclxuICAgICAgICAgICBhbmNob3I6IFswLCAwXSxcclxuICAgICAgICAgICBzY2FsZTogMC43LFxyXG4gICAgICAgICB9KSlcclxuICAgICAgIH0pXTtcclxuICAgICB9XHJcbiAgICAgc3R5bGVDYWNoZVtzaXplXSA9IHN0eWxlO1xyXG4gICB9XHJcbiAgIHJldHVybiBzdHlsZTtcclxuIH07XHJcbiB2YXIgcHJvcGVydHlTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgIGZvcm1hdDogZ2VvSlNPTkZvcm1hdCxcclxuICAgbG9hZGVyOiBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcclxuICAgICB2YXIgZXBzZzQzMjZFeHRlbnQgPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChleHRlbnQsICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgICAgdmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvcHJvcGVydHk/YmJveFt4MV09JyArIGVwc2c0MzI2RXh0ZW50WzBdICsgJyZiYm94W3kxXT0nICsgZXBzZzQzMjZFeHRlbnRbMV0gKyAnJmJib3hbeDJdPScgKyBlcHNnNDMyNkV4dGVudFsyXSArICcmYmJveFt5Ml09JyArIGVwc2c0MzI2RXh0ZW50WzNdO1xyXG4gICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgJC5hamF4KHtcclxuICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgIHZhciBmZWF0dXJlcyA9IGdlb0pTT05Gb3JtYXQucmVhZEZlYXR1cmVzKHJlc3BvbnNlLCB7XHJcbiAgICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiAnRVBTRzozODU3J1xyXG4gICAgICAgfSk7XHJcbiAgICAgICAvLyB0aGF0LmNsZWFyKCk7XHJcbiAgICAgICB0aGF0LmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcclxuICAgICB9KTtcclxuICAgfSxcclxuICAgc3RyYXRlZ3k6IG9sLmxvYWRpbmdzdHJhdGVneS5iYm94XHJcbiB9KTtcclxuIHZhciBwcm9wZXJ0eUNsdXN0ZXJTb3VyY2UgPSBuZXcgb2wuc291cmNlLkNsdXN0ZXIoe1xyXG4gICBkaXN0YW5jZTogNDAsXHJcbiAgIHNvdXJjZTogcHJvcGVydHlTb3VyY2UsXHJcbiAgIGF0dHJpYnV0aW9uczogW25ldyBvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICAgaHRtbDogJ0FsbCBtYXBzIMKpICcgKyAnPGEgaHJlZj1cImh0dHA6Ly93d3cudGVycmFjb2duaXRhLmdyL1wiPlRlcnJhIENvZ25pdGE8L2E+J1xyXG4gICB9KV1cclxuIH0pO1xyXG4gdmFyIHByb3BlcnR5ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgIHNvdXJjZTogcHJvcGVydHlDbHVzdGVyU291cmNlLFxyXG4gICBpZDogJ2VzdGF0ZXMnLFxyXG4gICB2aXNpYmxlOiB0cnVlLFxyXG4gICBzdHlsZTogcHJvcGVydHlTdHlsZUZ1bmN0aW9uXHJcbiB9KTtcclxuIHByb3BlcnR5LnNldFpJbmRleCgyKTtcclxuIHZhciBQU0FTdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gICB2YXIgc3ltYm9sID0gZmVhdHVyZS5nZXQoJ3N0eWxlJyk7XHJcbiAgIHZhciB0ZXh0O1xyXG4gICBpZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gICAgIHRleHQgPSBmZWF0dXJlLmdldCgnbmFtZV9lbCcpO1xyXG4gICB9IGVsc2Uge1xyXG4gICAgIHRleHQgPSBmZWF0dXJlLmdldCgnbmFtZV9lbicpO1xyXG4gICB9XHJcbiAgIGlmICghc3R5bGVDYWNoZVtzeW1ib2xdKSB7XHJcbiAgICAgc3R5bGVDYWNoZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5JY29uKCh7XHJcbiAgICAgICAgIHNyYzogJy4uL2ltYWdlcy9tYWtpL3JlbmRlcnMvJyArIHN5bWJvbCArICctMjQucG5nJyxcclxuICAgICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICAgICBhbmNob3I6IFswLjUsIDAuNV0sXHJcbiAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgfSkpLFxyXG4gICAgICAgdGV4dDogbmV3IG9sLnN0eWxlLlRleHQoe1xyXG4gICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgICAgICAgIGNvbG9yOiBbMTU2LCAzOSwgMTc2LCAwLjhdLFxyXG4gICAgICAgICAgIHdpZHRoOiAxXHJcbiAgICAgICAgIH0pLFxyXG4gICAgICAgICBvZmZzZXRZOiAxMlxyXG4gICAgICAgfSlcclxuICAgICB9KV07XHJcbiAgIH1cclxuICAgcmV0dXJuIHN0eWxlQ2FjaGU7XHJcbiB9O1xyXG4gdmFyIFBTQSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gICBzdHlsZTogUFNBU3R5bGVGdW5jdGlvbixcclxuICAgbWF4UmVzb2x1dGlvbjogM1xyXG4gfSk7XHJcbiBQU0Euc2V0WkluZGV4KDEpO1xyXG4gdmFyIG1hcCA9IG5ldyBvbC5NYXAoe1xyXG4gICB0YXJnZXQ6ICdtYXAnLFxyXG4gICBsYXllcnM6IFttYXBib3gsIHByb3BlcnR5LCBQU0FdLFxyXG4gICBsb2FkVGlsZXNXaGlsZUFuaW1hdGluZzogdHJ1ZSxcclxuICAgbG9hZFRpbGVzV2hpbGVJbnRlcmFjdGluZzogdHJ1ZSxcclxuICAgcmVuZGVyZXI6ICdjYW52YXMnLFxyXG4gICBjb250cm9sczogb2wuY29udHJvbC5kZWZhdWx0cyh7XHJcbiAgICAgYXR0cmlidXRpb25PcHRpb25zOiB7XHJcbiAgICAgICBjb2xsYXBzaWJsZTogZmFsc2UsXHJcbiAgICAgICBjb2xsYXBzZWQ6IGZhbHNlXHJcbiAgICAgfVxyXG4gICB9KS5leHRlbmQoW1xyXG4gICAgIG5ldyBvbC5jb250cm9sLlNjYWxlTGluZSh7XHJcbiAgICAgICB1bml0czogJ21ldHJpYydcclxuICAgICB9KSwgbmV3IG9sLmNvbnRyb2wuT3ZlcnZpZXdNYXAoe1xyXG4gICAgICAgY2xhc3NOYW1lOiAnb2wtb3ZlcnZpZXdtYXAgb2wtY3VzdG9tLW92ZXJ2aWV3bWFwJyxcclxuICAgICAgIGNvbGxhcHNpYmxlOiB0cnVlLFxyXG4gICAgICAgY29sbGFwc2VkOiB0cnVlLFxyXG4gICAgICAgbGF5ZXJzOiBbYmluZ11cclxuICAgICB9KSxcclxuICAgICBuZXcgb2wuY29udHJvbC5ab29tVG9FeHRlbnQoe1xyXG4gICAgICAgZXh0ZW50OiBleHRlbnRcclxuICAgICB9KVxyXG4gICBdKSxcclxuICAgdmlldzogbmV3IG9sLlZpZXcoe1xyXG4gICAgIGNlbnRlcjogY2VudGVyLFxyXG4gICAgIGV4dGVudDogZXh0ZW50LFxyXG4gICAgIHByb2plY3Rpb246ICdFUFNHOjM4NTcnLFxyXG4gICAgIHpvb206IDE0LFxyXG4gICAgIG1heFpvb206IDE5LFxyXG4gICAgIG1pblpvb206IDEwXHJcbiAgIH0pLFxyXG4gfSk7XHJcbiBpZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gICBiaW5nLnNldCgnbmFtZScsICfOlM6/z4HPhc+Gzr/Pgc65zrrOriDOtc65zrrPjM69zrEnKTtcclxuICAgbWFwYm94LnNldCgnbmFtZScsICfOp86sz4HPhM63z4InKTtcclxuICAgcHJvcGVydHkuc2V0KCduYW1lJywgJ86RzrrOr869zrfPhM6xJyk7XHJcbiB9IGVsc2Uge1xyXG4gICBiaW5nLnNldCgnbmFtZScsICdTYXR0ZWxpdGUgSW1hZ2UnKTtcclxuICAgbWFwYm94LnNldCgnbmFtZScsICdNYXAnKTtcclxuICAgcHJvcGVydHkuc2V0KCduYW1lJywgJ1Byb3BlcnRpZXMnKTtcclxuIH1cclxuXHJcbiBmdW5jdGlvbiBmaWx0ZXJlZEVzYXRlU3R5bGUoZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gICBzdHlsZUNhY2hlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5JY29uKCh7XHJcbiAgICAgICBzcmM6ICcuLi9pbWFnZXMvbWFwLWljb25zL3BpbnMvNDgvcGluNC5wbmcnLFxyXG4gICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICAgYW5jaG9yOiBbMC41LCAwLjVdLFxyXG4gICAgICAgc2NhbGU6IDAuNyxcclxuICAgICB9KSlcclxuICAgfSldO1xyXG4gICByZXR1cm4gc3R5bGVDYWNoZTtcclxuIH1cclxuIHZhciBmaWx0ZXJlZEVzdGF0ZXMgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHtcclxuICAgc291cmNlOiBuZXcgb2wuc291cmNlLlZlY3RvcigpLFxyXG4gICBpZDogJ2ZpbHRlcmVkRXN0YXRlcycsXHJcbiAgIHZpc2libGU6IGZhbHNlLFxyXG4gICBzdHlsZTogZmlsdGVyZWRFc2F0ZVN0eWxlXHJcbiB9KTtcclxuIG1hcC5hZGRMYXllcihmaWx0ZXJlZEVzdGF0ZXMpO1xyXG5cclxuIGZ1bmN0aW9uIHNlbGVjdEJ5RmlsdGVycygpIHtcclxuICAgdmFyIHBhcmFtcyA9IHt9O1xyXG4gICBwYXJhbXMubGVhc2VUeXBlID0gJChcImlucHV0W25hbWU9b3B0aW9uc106Y2hlY2tlZFwiKS52YWwoKTtcclxuICAgcGFyYW1zLnN0YXJ0UHJpY2UgPSAkKCcjc3RhcnRQcmljZScpLnZhbCgpO1xyXG4gICBwYXJhbXMuZW5kUHJpY2UgPSAkKCcjZW5kUHJpY2UnKS52YWwoKTtcclxuICAgZmVhdHVyZXMgPSBnZXRGaWx0ZXJlZEVzdGF0ZXMocGFyYW1zKTtcclxuICAgaWYgKGZlYXR1cmVzLmxlbmd0aCA+IDApIHtcclxuICAgICBmaWx0ZXJlZEVzdGF0ZXMuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuICAgICBmaWx0ZXJlZEVzdGF0ZXMuZ2V0U291cmNlKCkuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xyXG4gICAgIGZpbHRlcmVkRXN0YXRlcy5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgIHByb3BlcnR5LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgIHZhciBleHRlbnQgPSBmaWx0ZXJlZEVzdGF0ZXMuZ2V0U291cmNlKCkuZ2V0RXh0ZW50KCk7XHJcbiAgICAgdmFyIGNlbnRlciA9IFtdO1xyXG4gICB9ZWxzZXtcclxuICAgIGZpbHRlcmVkRXN0YXRlcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICBwcm9wZXJ0eS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICB9XHJcbiB9XHJcblxyXG4gZnVuY3Rpb24gZ2V0RmlsdGVyZWRFc3RhdGVzKHBhcmFtcykge1xyXG4gICB2YXIgZmVhdHVyZXMgPSBbXTtcclxuICAgdmFyIHdoaWNoT25lID0ge1xyXG4gICAgICdSZW50JzogZnVuY3Rpb24ocGFyYW1zKSB7XHJcbiAgICAgICBwcm9wZXJ0eVNvdXJjZS5nZXRGZWF0dXJlcygpLmZvckVhY2goZnVuY3Rpb24oZikge1xyXG4gICAgICAgICB2YXIgZnByaWNlID0gZi5nZXQoJ3ByaWNlJyk7XHJcbiAgICAgICAgIHZhciBmdHlwZSA9IGYuZ2V0KCd0eXBlX2VuJyk7XHJcbiAgICAgICAgIGlmIChmdHlwZSA9PT0gJ1JlbnQnICYmIGZwcmljZSA+PSBwYXJhbXMuc3RhcnRQcmljZSAmJiBmcHJpY2UgPD0gcGFyYW1zLmVuZFByaWNlKSB7XHJcbiAgICAgICAgICAgdmFyIGZlYXR1cmUgPSBmLmNsb25lKCk7XHJcbiAgICAgICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcclxuICAgICAgICAgfVxyXG4gICAgICAgfSk7XHJcbiAgICAgICByZXR1cm4gZmVhdHVyZXM7XHJcbiAgICAgfSxcclxuICAgICAnU2FsZSc6IGZ1bmN0aW9uKHBhcmFtcykge1xyXG4gICAgICAgcHJvcGVydHlTb3VyY2UuZ2V0RmVhdHVyZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcclxuICAgICAgICAgdmFyIGZwcmljZSA9IGYuZ2V0KCdwcmljZScpO1xyXG4gICAgICAgICB2YXIgZnR5cGUgPSBmLmdldCgndHlwZV9lbicpO1xyXG4gICAgICAgICBpZiAoZnR5cGUgPT09ICdTYWxlJyAmJiBmcHJpY2UgPj0gcGFyYW1zLnN0YXJ0UHJpY2UgJiYgZnByaWNlIDw9IHBhcmFtcy5lbmRQcmljZSkge1xyXG4gICAgICAgICAgIHZhciBmZWF0dXJlID0gZi5jbG9uZSgpO1xyXG4gICAgICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XHJcbiAgICAgICAgIH1cclxuICAgICAgIH0pO1xyXG4gICAgICAgcmV0dXJuIGZlYXR1cmVzO1xyXG4gICAgIH1cclxuICAgfTtcclxuICAgaWYgKHdoaWNoT25lW3BhcmFtcy5sZWFzZVR5cGVdKSByZXR1cm4gd2hpY2hPbmVbcGFyYW1zLmxlYXNlVHlwZV0ocGFyYW1zKTtcclxuIH1cclxuIiwiIiwiKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBnZW9sb2NhdGlvbiA9IG5ldyBvbC5HZW9sb2NhdGlvbih7XHJcbiAgICAvLyB0YWtlIHRoZSBwcm9qZWN0aW9uIHRvIHVzZSBmcm9tIHRoZSBtYXAncyB2aWV3XHJcbiAgICBwcm9qZWN0aW9uOiBtYXAuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKSxcclxuICAgIHRyYWNraW5nT3B0aW9uczoge1xyXG4gICAgICBtYXhpbXVtQWdlOiAxMDAwMCxcclxuICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICB0aW1lb3V0OiA2MDAwMDBcclxuICAgIH1cclxuICB9KTtcclxuICB2YXIgYWNjdXJhY3lGZWF0dXJlID0gbmV3IG9sLkZlYXR1cmUoKTtcclxuICBnZW9sb2NhdGlvbi5vbignY2hhbmdlOmFjY3VyYWN5R2VvbWV0cnknLCBmdW5jdGlvbigpIHtcclxuICAgIGFjY3VyYWN5RmVhdHVyZS5zZXRHZW9tZXRyeShnZW9sb2NhdGlvbi5nZXRBY2N1cmFjeUdlb21ldHJ5KCkpO1xyXG4gIH0pO1xyXG4gIHZhciBwb3NpdGlvbkZlYXR1cmUgPSBuZXcgb2wuRmVhdHVyZSgpO1xyXG4gIHBvc2l0aW9uRmVhdHVyZS5zZXRTdHlsZShuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICByYWRpdXM6IDYsXHJcbiAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICBjb2xvcjogJyMzMzk5Q0MnXHJcbiAgICAgIH0pLFxyXG4gICAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgICAgIGNvbG9yOiAnI2ZmZicsXHJcbiAgICAgICAgd2lkdGg6IDJcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSkpO1xyXG4gIC8vIGxpc3RlbiB0byBjaGFuZ2VzIGluIHBvc2l0aW9uXHJcbiAgZ2VvbG9jYXRpb24ub24oJ2NoYW5nZTpwb3NpdGlvbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNvb3JkaW5hdGVzID0gZ2VvbG9jYXRpb24uZ2V0UG9zaXRpb24oKTtcclxuICAgIHBvc2l0aW9uRmVhdHVyZS5zZXRHZW9tZXRyeShjb29yZGluYXRlcyA/IG5ldyBvbC5nZW9tLlBvaW50KGNvb3JkaW5hdGVzKSA6IG51bGwpO1xyXG4gIH0pO1xyXG4gIGZlYXR1cmVzT3ZlcmxheVNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHt9KTtcclxuICB2YXIgZmVhdHVyZXNPdmVybGF5ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgICBtYXA6IG1hcCxcclxuICAgIHNvdXJjZTogZmVhdHVyZXNPdmVybGF5U291cmNlXHJcbiAgfSk7XHJcbiAgJCgnLmdlb2xvY2F0aW9uJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBnZW9sb2NhdGlvbi5zZXRUcmFja2luZyh0cnVlKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5U291cmNlLmFkZEZlYXR1cmVzKFtwb3NpdGlvbkZlYXR1cmUsYWNjdXJhY3lGZWF0dXJlXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnZW9sb2NhdGlvbi5zZXRUcmFja2luZyhmYWxzZSk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheVNvdXJjZS5jbGVhcigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgLy8gdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cCcpO1xyXG4gIC8vIHZhciBjbG9zZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtY2xvc2VyJyk7XHJcbiAgLy8gY2xvc2VyLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAvLyAgIGluZm8uc2V0UG9zaXRpb24odW5kZWZpbmVkKTtcclxuICAvLyAgIGNsb3Nlci5ibHVyKCk7XHJcbiAgLy8gICByZXR1cm4gZmFsc2U7XHJcbiAgLy8gfTtcclxuICAvLyB2YXIgaW5mbyA9IG5ldyBvbC5PdmVybGF5KCh7XHJcbiAgLy8gICBlbGVtZW50OiBjb250YWluZXIsXHJcbiAgLy8gICBhdXRvUGFuOiB0cnVlLFxyXG4gIC8vICAgYXV0b1BhbkFuaW1hdGlvbjoge1xyXG4gIC8vICAgICBkdXJhdGlvbjogMjUwXHJcbiAgLy8gICB9XHJcbiAgLy8gfSkpO1xyXG4gIC8vIG1hcC5hZGRPdmVybGF5KGluZm8pO1xyXG4gIGZ1bmN0aW9uIGhhbmRsZUluZm8oZXZ0KSB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBjb29yZGluYXRlID0gZXZ0LmNvb3JkaW5hdGU7XHJcbiAgICBpZiAobWFwLmdldFZpZXcoKS5nZXRSZXNvbHV0aW9uKCkgPiA0KSB7XHJcbiAgICAgIG1hcC5nZXRWaWV3KCkuc2V0UmVzb2x1dGlvbigyLjM4ODY1NzEzMzkxMTc1OCk7XHJcbiAgICAgIG1hcC5nZXRWaWV3KCkuc2V0Q2VudGVyKGNvb3JkaW5hdGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICB2YXIgdGl0bGUgPSB7fTtcclxuICAgICAgdmFyIG93bmVyID0ge307XHJcbiAgICAgIHZhciBmZWF0dXJlcyA9IFtdO1xyXG4gICAgICBvYmoudGl0bGUgPSB0aXRsZTtcclxuICAgICAgaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICAgICAgICB0aXRsZS5lc3RhdGVDb2RlID0gJ86az4nOtM65zrrPjM+CIM6ZzrTOuc6/zrrPhM63z4POr86xz4InO1xyXG4gICAgICAgIHRpdGxlLnR5cGUgPSAnzqTPjc+Azr/Pgic7XHJcbiAgICAgICAgdGl0bGUuYXJlYSA9ICfOlc68zrLOsc60z4wnO1xyXG4gICAgICAgIHRpdGxlLmFkZHJlc3MgPSAnzpTOuc61z4XOuM+Fzr3Pg863JztcclxuICAgICAgICB0aXRsZS5iZWRyb29tcyA9ICfOpc+Azr3Ov860z4nOvM6sz4TOuc6xJztcclxuICAgICAgICB0aXRsZS5wcmljZSA9ICfOpM65zrzOric7XHJcbiAgICAgICAgdGl0bGUubmV3ID0gJ86dzrXPjM60zrzOt8+Ezr8nO1xyXG4gICAgICAgIHRpdGxlLnBhcmtpbmcgPSAnzqPPhM6szrjOvM61z4POtyc7XHJcbiAgICAgICAgdGl0bGUuZnVybmlzaGVkID0gJ86Vz4DOuc+AzrvPic68zq3Ovc6/JztcclxuICAgICAgICB0aXRsZS5wZXRzID0gJ86azrHPhM6/zrnOus6vzrTOuc6xJztcclxuICAgICAgICB0aXRsZS52aWV3ID0gJ86Yzq3OsSc7XHJcbiAgICAgICAgdGl0bGUuaGVhdGluZyA9ICfOmM6tz4HOvM6xzr3Pg863JztcclxuICAgICAgICB0aXRsZS5jb29saW5nID0gJ86oz43Ovs63JztcclxuICAgICAgICB0aXRsZS5jb250YWN0SW5mbyA9ICfOo8+Ezr/Ouc+HzrXOr86xIM6Vz4DOuc66zr/Ouc69z4nOvc6vzrHPgic7XHJcbiAgICAgICAgdGl0bGUubmFtZSA9ICfOjM69zr/OvM6xJztcclxuICAgICAgICB0aXRsZS5sYXN0bmFtZSA9ICfOlc+Azq/OuM61z4TOvyc7XHJcbiAgICAgICAgdGl0bGUucGhvbmUgPSAnzqTOt867zq3Phs+Jzr3Ovyc7XHJcbiAgICAgICAgdGl0bGUuZW1haWwgPSAnzpfOu861zrrPhM+Bzr/Ovc65zrrOriDOlM65zrXPjc64z4XOvc+DzrcnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRpdGxlLmVzdGF0ZUNvZGUgPSAnRXN0YXRlIENvZGUnO1xyXG4gICAgICAgIHRpdGxlLnR5cGUgPSAnVHlwZSc7XHJcbiAgICAgICAgdGl0bGUuYXJlYSA9ICdTaXplJztcclxuICAgICAgICB0aXRsZS5hZGRyZXNzID0gJ0FkZHJlc3MnO1xyXG4gICAgICAgIHRpdGxlLmJlZHJvb21zID0gJ0JlZHJvb21zJztcclxuICAgICAgICB0aXRsZS5wcmljZSA9ICdQcmljZSc7XHJcbiAgICAgICAgdGl0bGUubmV3ID0gJ05ld2x5IEJ1aWxkJztcclxuICAgICAgICB0aXRsZS5wYXJraW5nID0gJ1BhcmtpbmcnO1xyXG4gICAgICAgIHRpdGxlLmZ1cm5pc2hlZCA9ICdGdXJuaXNoZWQnO1xyXG4gICAgICAgIHRpdGxlLnBldHMgPSAnUGV0cyBBbGxvd2VkJztcclxuICAgICAgICB0aXRsZS52aWV3ID0gJ1ZpZXcnO1xyXG4gICAgICAgIHRpdGxlLmhlYXRpbmcgPSAnSGVhdGluZyc7XHJcbiAgICAgICAgdGl0bGUuY29vbGluZyA9ICdDb29saW5nJztcclxuICAgICAgICB0aXRsZS5jb250YWN0SW5mbyA9ICdDb250YWN0IEluZm8nO1xyXG4gICAgICAgIHRpdGxlLm5hbWUgPSAnTmFtZSc7XHJcbiAgICAgICAgdGl0bGUubGFzdG5hbWUgPSAnTGFzdCBOYW1lJztcclxuICAgICAgICB0aXRsZS5waG9uZSA9ICdUZWxlcGhvbmUnO1xyXG4gICAgICAgIHRpdGxlLmVtYWlsID0gJ0VtYWlsJztcclxuICAgICAgfVxyXG4gICAgICBjbGlja2VkRmVhdHVyZSA9IG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwoZXZ0LnBpeGVsLCBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBmZWF0dXJlOiBmZWF0dXJlLFxyXG4gICAgICAgICAgbGF5ZXI6IGxheWVyXHJcbiAgICAgICAgfTtcclxuICAgICAgfSwgdGhpcywgZnVuY3Rpb24obGF5ZXIpIHtcclxuICAgICAgICBpZiAobGF5ZXIuZ2V0KCdpZCcpID09PSAnZXN0YXRlcycgfHwgbGF5ZXIuZ2V0KCdpZCcpID09PSAnZmlsdGVyZWRFc3RhdGVzJykge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCB0aGlzKTtcclxuICAgICAgaWYgKGNsaWNrZWRGZWF0dXJlKSB7XHJcbiAgICAgICAgY2xpY2tlZEZlYXR1cmUuZmVhdHVyZS5nZXQoJ2ZlYXR1cmVzJykuZm9yRWFjaChmdW5jdGlvbihmKSB7XHJcbiAgICAgICAgICBhID0gZjtcclxuICAgICAgICAgIHZhciBmZWF0dXJlID0ge307XHJcbiAgICAgICAgICBmZWF0dXJlLmdpZCA9IGYuZ2V0KCdnaWQnKTtcclxuICAgICAgICAgIGZlYXR1cmUudHlwZSA9IGYuZ2V0KCdlc3RhdGV0eXBlJyk7XHJcbiAgICAgICAgICBmZWF0dXJlLmFyZWEgPSBmLmdldCgnZXN0YXRlYXJlYScpO1xyXG4gICAgICAgICAgaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICAgICAgICAgICAgZmVhdHVyZS5hZGRyZXNzID0gZi5nZXQoJ3N0cmVldF9lbCcpICsgJyAnICsgZi5nZXQoJ2hfbnVtX2VsJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmZWF0dXJlLmFkZHJlc3MgPSBmLmdldCgnc3RyZWV0X2VuJykgKyAnICcgKyBmLmdldCgnaF9udW1fZW4nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZlYXR1cmUuYmVkcm9vbXMgPSBmLmdldCgnYmVkcm9vbXMnKTtcclxuICAgICAgICAgIGZlYXR1cmUucHJpY2UgPSBmLmdldCgncHJpY2UnKTtcclxuICAgICAgICAgIGZlYXR1cmUubmV3ID0gZi5nZXQoJ25ldycpO1xyXG4gICAgICAgICAgZmVhdHVyZS5wYXJraW5nID0gZi5nZXQoJ3BhcmtpbmcnKTtcclxuICAgICAgICAgIGZlYXR1cmUuZnVybmlzaGVkID0gZi5nZXQoJ2Z1cm5pc2hlZCcpO1xyXG4gICAgICAgICAgZmVhdHVyZS5wZXRzID0gZi5nZXQoJ3BldHMnKTtcclxuICAgICAgICAgIGZlYXR1cmUudmlldyA9IGYuZ2V0KCd2aWV3Jyk7XHJcbiAgICAgICAgICBmZWF0dXJlLmhlYXRpbmcgPSBmLmdldCgnaGVhdGluZycpO1xyXG4gICAgICAgICAgZmVhdHVyZS5jb29saW5nID0gZi5nZXQoJ2Nvb2xpbmcnKTtcclxuICAgICAgICAgIGlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgICAgICAgICAgIGZlYXR1cmUubmFtZSA9IGYuZ2V0KCduYW1lX2VsJyk7XHJcbiAgICAgICAgICAgIGZlYXR1cmUubGFzdG5hbWUgPSBmLmdldCgnbGFzdG5hbWVfZWwnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZlYXR1cmUubmFtZSA9IGYuZ2V0KCduYW1lX2VuJyk7XHJcbiAgICAgICAgICAgIGZlYXR1cmUubGFzdG5hbWUgPSBmLmdldCgnbGFzdG5hbWVfZW4nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZlYXR1cmUucGhvbmUgPSBmLmdldCgncGhvbmUxJyk7XHJcbiAgICAgICAgICBmZWF0dXJlLmVtYWlsID0gZi5nZXQoJ2VtYWlsJyk7XHJcbiAgICAgICAgICBmZWF0dXJlcy5wdXNoKHtcclxuICAgICAgICAgICAgZmVhdHVyZTogZmVhdHVyZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBmZWF0dXJlQ29vcmRpbmF0ZSA9IGYuZ2V0KCdnZW9tZXRyeScpLmdldENvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICBvYmouZmVhdHVyZXMgPSBmZWF0dXJlcztcclxuICAgICAgICAgIHZhciBQU0FTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uczogW25ldyBvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICAgICAgICAgICAgaHRtbDogJ1BPSSBieSAnICsgJzxhIGhyZWY9XCJodHRwOi8vd3d3LnRlcnJhY29nbml0YS5nci9cIj5UZXJyYSBDb2duaXRhPC9hPidcclxuICAgICAgICAgICAgfSldLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IGdlb0pTT05Gb3JtYXQsXHJcbiAgICAgICAgICAgIGxvYWRlcjogZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvdXNlcy8nICsgZmVhdHVyZS5naWQ7XHJcbiAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZS5wcm9wZXJ0eV9zZXJ2aWNlc19hbmFseXNpcywge1xyXG4gICAgICAgICAgICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogJ0VQU0c6Mzg1NydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZWEgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICAgICAgICAgICAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFsxNTYsIDM5LCAxNzYsIDAuMV1cclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmVhdHVyZXNbMF0uc2V0U3R5bGUoYXJlYSk7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RyYXRlZ3k6IG9sLmxvYWRpbmdzdHJhdGVneS5hbGxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgUFNBLnNldFNvdXJjZShQU0FTb3VyY2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGR1c3QucmVuZGVyKCdlc3RhdGVJbmZvLmR1c3QnLCBvYmosIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAgICAgLy8gICAkKFwiI3BvcHVwLWNvbnRlbnRcIikuaHRtbChvdXQpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIGR1c3QucmVuZGVyKCdlc3RhdGVDYXJkcy5kdXN0Jywgb2JqLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAgICAgJCgnLmVzdGF0ZS1jYXJkcycpLmh0bWwob3V0KTtcclxuICAgICAgICAgICQoJy5lc3RhdGUtY2FyZHMnKS5yZW1vdmVDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCdhW2hyZWY9XCIjb3Blbk1vZGFsXCJdJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBkdXN0LnJlbmRlcignbW9kYWxJbmZvLmR1c3QnLCBvYmosIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAgICAgICAgICQoJy5tb2RhbC1jb250ZW50JykuaHRtbChvdXQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWFwLmdldFZpZXcoKS5zZXRDZW50ZXIoZmVhdHVyZUNvb3JkaW5hdGUpO1xyXG4gICAgICAgIC8vIGluZm8uc2V0UG9zaXRpb24oZmVhdHVyZUNvb3JkaW5hdGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gICQoJy5pbmZvJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBtYXAub24oJ2NsaWNrJywgaGFuZGxlSW5mbyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtYXAudW4oJ2NsaWNrJywgaGFuZGxlSW5mbyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICB2YXIgbWFya2VyID0gbmV3IG9sLkZlYXR1cmUoKTtcclxuICB2YXIgaWNvblN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbiggLyoqIEB0eXBlIHtvbHguc3R5bGUuSWNvbk9wdGlvbnN9ICovICh7XHJcbiAgICAgIGFuY2hvcjogWzAuNSwgMV0sXHJcbiAgICAgIGFuY2hvclhVbml0czogJ2ZyYWN0aW9uJyxcclxuICAgICAgYW5jaG9yWVVuaXRzOiAnZnJhY3Rpb24nLFxyXG4gICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICBzY2FsZTogMSxcclxuICAgICAgc3JjOiAnLi4vaW1hZ2VzL21hcC1pY29ucy9waW5zLzI0L3BpbjEucG5nJyxcclxuICAgICAgc25hcFRvUGl4ZWw6IGZhbHNlXHJcbiAgICB9KSksXHJcbiAgICB6SW5kZXg6IDEwMFxyXG4gIH0pO1xyXG4gIG1hcmtlci5zZXRTdHlsZShpY29uU3R5bGUpO1xyXG4gIHZhciBmZWF0dXJlc092ZXJsYXlTdHlsZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgICBjb2xvcjogJyM0MDgwODAnLFxyXG4gICAgICB3aWR0aDogNSxcclxuICAgICAgbGluZURhc2g6IFs0LCA0XVxyXG4gICAgfSlcclxuICB9KTtcclxuICB2YXIgZmVhdHVyZXNPdmVybGF5ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgICBtYXA6IG1hcCxcclxuICAgIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5WZWN0b3IoKSxcclxuICAgIHN0eWxlOiBmZWF0dXJlc092ZXJsYXlTdHlsZSxcclxuICAgIGlkOiAncm91dGUnLFxyXG4gICAgbmFtZUVsOiAnzpTOuc6xzrTPgc6/zrzOricsXHJcbiAgICBOYW1lRW46ICdSb3V0ZSdcclxuICB9KTtcclxuICB2YXIgcm91dGVDb29yZHMgPSBbXTtcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlTWFya2VyKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGZlYXR1cmVDb3VudCA9IGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5nZXRGZWF0dXJlcygpLmxlbmd0aDtcclxuICAgIHZhciBjb29yZGluYXRlcyA9IGV2ZW50LmNvb3JkaW5hdGU7XHJcbiAgICBpZiAoZmVhdHVyZUNvdW50ID09PSAwKSB7XHJcbiAgICAgIG1hcmtlci5zZXRHZW9tZXRyeShuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlcykpO1xyXG4gICAgICBtYXJrZXIuc2V0SWQoJ2ZpcnN0Jyk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5hZGRGZWF0dXJlKG1hcmtlcik7XHJcbiAgICAgIHJvdXRlQ29vcmRzWzBdID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICAgIHJvdXRlQ29vcmRzWzFdID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgICB9IGVsc2UgaWYgKGZlYXR1cmVDb3VudCA9PT0gMSkge1xyXG4gICAgICB2YXIgY2xvbmUgPSBtYXJrZXIuY2xvbmUoKTtcclxuICAgICAgY2xvbmUuc2V0R2VvbWV0cnkobmV3IG9sLmdlb20uUG9pbnQoY29vcmRpbmF0ZXMpKTtcclxuICAgICAgY2xvbmUuc2V0SWQoJ3NlY29uZCcpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuYWRkRmVhdHVyZShjbG9uZSk7XHJcbiAgICAgIHJvdXRlQ29vcmRzWzJdID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICAgIHJvdXRlQ29vcmRzWzNdID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgICAgIGNhbGxSb3V0ZShyb3V0ZUNvb3Jkcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdlb0pTT05Gb3JtYXQgPSBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oe1xyXG4gICAgZGVmYXVsdERhdGFQcm9qZWN0aW9uOiAnRVBTRzo0MzI2JyxcclxuICAgIGdlb21ldHJ5TmFtZTogJ2dlb21ldHJ5J1xyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBjYWxsUm91dGUocm91dGVDb29yZHMpIHtcclxuICAgIHZhciBmaXJzdCA9IG9sLnByb2oudHJhbnNmb3JtKFtyb3V0ZUNvb3Jkc1swXSwgcm91dGVDb29yZHNbMV1dLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgdmFyIHNlY29uZCA9IG9sLnByb2oudHJhbnNmb3JtKFtyb3V0ZUNvb3Jkc1syXSwgcm91dGVDb29yZHNbM11dLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgdmFyIHgxID0gZmlyc3RbMF07XHJcbiAgICB2YXIgeTEgPSBmaXJzdFsxXTtcclxuICAgIHZhciB4MiA9IHNlY29uZFswXTtcclxuICAgIHZhciB5MiA9IHNlY29uZFsxXTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vdjQvZGlyZWN0aW9ucy9tYXBib3guZHJpdmluZy8nICsgeDEgKyAnLCcgKyB5MSArICc7JyArIHgyICsgJywnICsgeTIgKyAnLmpzb24/YWx0ZXJuYXRpdmVzPWZhbHNlJmFjY2Vzc190b2tlbj1way5leUoxSWpvaVptbHlkbUZwYmlJc0ltRWlPaUpsT1dZeVlUTTBOVGhpTldNMFlqSmpPREpqTkRFNE9EUXpOekEyTUdReU5pSjkuLU5WRE8yN0h6dC13X25Rb3NVUGZMQScsXHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgdmFyIHJvdXRlPXt9O1xyXG4gICAgICByb3V0ZS50eXBlID1cIkZlYXR1cmVcIjtcclxuICAgICAgcm91dGUuZ2VvbWV0cnkgPSBkYXRhLnJvdXRlc1swXS5nZW9tZXRyeTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmFkZEZlYXR1cmVzKGdlb0pTT05Gb3JtYXQucmVhZEZlYXR1cmVzKHJvdXRlLCB7XHJcbiAgICAgICAgZGF0YVByb2plY3Rpb246ICdFUFNHOjQzMjYnLFxyXG4gICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiAnRVBTRzozODU3J1xyXG4gICAgICB9KSk7XHJcbiAgICAgIG1hcC5nZXRWaWV3KCkuZml0KGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5nZXRFeHRlbnQoKSwgbWFwLmdldFNpemUoKSk7XHJcbiAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xyXG4gICAgfSkuYWx3YXlzKGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNvbXBsZXRlXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gICQoJy5tYXJrZXInKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvKiBBY3Qgb24gdGhlIGV2ZW50ICovXHJcbiAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IHRydWUpIHtcclxuICAgICAgbWFwLm9uKCdzaW5nbGVjbGljaycsIGhhbmRsZU1hcmtlcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtYXAudW4oJ3NpbmdsZWNsaWNrJywgaGFuZGxlTWFya2VyKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAkKCcud2VhdGhlcicpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIG1hcC5nZXRPdmVybGF5cygpLmZvckVhY2goZnVuY3Rpb24ob3ZsKSB7XHJcbiAgICAgICAgaWYgKG92bC5nZXQoJ25hbWUnKSA9PT0gJ3dlYXRoZXInKSB7XHJcbiAgICAgICAgICAoJChvdmwuZ2V0RWxlbWVudCgpKS5wYXJlbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAkKG92bC5nZXRFbGVtZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHZhciBjZW50ZXIgPSBvbC5wcm9qLnRyYW5zZm9ybShtYXAuZ2V0VmlldygpLmdldENlbnRlcigpLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgICB2YXIgbGF0ID0gY2VudGVyWzFdO1xyXG4gICAgICB2YXIgbG9uID0gY2VudGVyWzBdO1xyXG4gICAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L2ZpbmQ/bGF0PScgKyBsYXQgKyAnJmxvbj0nICsgbG9uICsgJyZjbnQ9NSZjbHVzdGVyPW5vJnVuaXRzPW1ldHJpYyZ0eXBlPWFjY3VyYXRlJkFQUElEPWY5Y2Q5ZmEyYzQyN2MzYjExNWU4N2U0ODYyNjE5YzVjJyxcclxuICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVXZWF0aGVyT3ZlcmxheShwb3NpdGlvbiwgaW5kZXgpIHtcclxuICAgICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnd2VhdGhlci1wb3B1cCBkZWZhdWx0LXByaW1hcnktY29sb3IgbWRsLXNoYWRvdy0tNmRwJyk7XHJcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBpbmRleCk7XHJcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJywgJ3dlYXRoZXInKTtcclxuICAgICAgICAgIHJldHVybiBuZXcgb2wuT3ZlcmxheSh7XHJcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW0sXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2JqcyA9IGRhdGEubGlzdDtcclxuICAgICAgICB2YXIgb3ZlcmxheSwgY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgJC5lYWNoKG9ianMsIGZ1bmN0aW9uKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgIGNvb3JkaW5hdGVzID0gb2wucHJvai50cmFuc2Zvcm0oW3ZhbC5jb29yZC5sb24sIHZhbC5jb29yZC5sYXRdLCAnRVBTRzo0MzI2JywgJ0VQU0c6Mzg1NycpO1xyXG4gICAgICAgICAgb3ZlcmxheSA9IGNyZWF0ZVdlYXRoZXJPdmVybGF5KGNvb3JkaW5hdGVzLCBpbmRleCk7XHJcbiAgICAgICAgICBtYXAuYWRkT3ZlcmxheShvdmVybGF5KTtcclxuICAgICAgICAgIG92ZXJsYXkuc2V0KCduYW1lJywgJ3dlYXRoZXInKTtcclxuICAgICAgICAgIHdlYXRoZXJEYXRhID0ge1xyXG4gICAgICAgICAgICAnbmFtZSc6IHZhbC5uYW1lLFxyXG4gICAgICAgICAgICAndGVtcCc6IHZhbC5tYWluLnRlbXAsXHJcbiAgICAgICAgICAgICdwcmVzc3VyZSc6IHZhbC5tYWluLnByZXNzdXJlLFxyXG4gICAgICAgICAgICAnaHVtaWRpdHknOiB2YWwubWFpbi5odW1pZGl0eVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGR1c3QucmVuZGVyKCd3ZWF0aGVyUG9wdXAuZHVzdCcsIHdlYXRoZXJEYXRhLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAgICAgICAkKFwiI1wiICsgaW5kZXgpLmh0bWwob3V0KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIHRvYXN0ci5lcnJvcihcIs6UzrXOvSDOss+Bzq3OuM63zrrOsc69IM+AzrvOt8+Bzr/Phs6/z4HOr861z4IgzrPOuc6xIM+EzrnPgiDOus6xzrnPgc65zrrOrc+CIM+Dz4XOvc64zq7Ous61z4IhXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IGZhbHNlKSB7XHJcbiAgICAgIG1hcC5nZXRPdmVybGF5cygpLmZvckVhY2goZnVuY3Rpb24ob3ZsKSB7XHJcbiAgICAgICAgaWYgKG92bC5nZXQoJ25hbWUnKSA9PT0gJ3dlYXRoZXInKSB7XHJcbiAgICAgICAgICAoJChvdmwuZ2V0RWxlbWVudCgpKS5wYXJlbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAkKG92bC5nZXRFbGVtZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0oKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==