function createPropertyStyle(e){var t;return t="Sale"===e.get("type_en")?"../images/map-icons/pins/48/pin2.png":"../images/map-icons/pins/48/pin5.png",new ol.style.Style({geometry:e.getGeometry(),image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[0,0],scale:.7})})}function propertyStyleFunction(e,t){var o=e.get("features").length;if(o>1)style=[new ol.style.Style({image:new ol.style.Circle({radius:20,stroke:new ol.style.Stroke({color:[156,39,176,1],width:5}),fill:new ol.style.Fill({color:[68,138,255,.8]})}),text:new ol.style.Text({text:o.toString(),fill:new ol.style.Fill({color:"#FFFFFF"})}),zIndex:101})];else{var r=e.get("features")[0];style=[createPropertyStyle(r)]}return style}function selectStyleFunction(e,t){for(var o=[new ol.style.Style({})],r=e.get("features"),a=r.length-1;a>=0;--a)originalFeature=r[a],o.push(createPropertyStyle(originalFeature));return o}function filteredEsateStyle(e,t){return styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/map-icons/pins/48/pin4.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:.7})})]}function selectByFilters(){PSA.setSource(null);var e,t={};t.leaseType=$("input[name=options]:checked").val(),t.startPrice=$("#startPrice").val(),t.endPrice=$("#endPrice").val(),t.parking=$("#checkbox-1").prop("checked"),t.furnished=$("#checkbox-2").prop("checked"),t.heating=$("#checkbox-3").prop("checked"),t.cooling=$("#checkbox-4").prop("checked"),t.view=$("#checkbox-5").prop("checked"),e=0===selectSource.getFeatures().length?ol.proj.transformExtent(extent,"EPSG:3857","EPSG:4326"):ol.proj.transformExtent(selectSource.getFeatures()[0].getGeometry().getExtent(),"EPSG:3857","EPSG:4326"),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},$.ajax({url:"http://localhost:3000/db/filteredproperty?bbox[x1]="+e[0]+"&bbox[y1]="+e[1]+"&bbox[x2]="+e[2]+"&bbox[y2]="+e[3],type:"GET",dataType:"json",data:{leaseType:t.leaseType,furnished:t.furnished,heating:t.heating,parking:t.parking,cooling:t.cooling,view:t.view,startPrice:t.startPrice,endPrice:t.endPrice}}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});if(t.length>0){toastr.clear(),filteredEstates.getSource().clear(),filteredEstates.getSource().addFeatures(t),filteredEstates.setVisible(!0),property.setVisible(!1);filteredEstates.getSource().getExtent()}else toastr.error("No Info Found!"),filteredEstates.setVisible(!1),property.setVisible(!0)})}function addInteraction(){selectSource.clear(),draw=new ol.interaction.Draw({source:selectSource,type:"LineString",geometryFunction:geometryFunction,maxPoints:2}),draw.on("drawstart",function(){selectSource.clear()}),map.addInteraction(draw)}function geometryFunction(e,t){t||(t=new ol.geom.Polygon(null));var o=e[0],r=e[1];return t.setCoordinates([[o,[o[0],r[1]],r,[r[0],o[1]],o]]),t}function handleInfo(e){e.preventDefault(),map.removeInteraction(draw);var t=(e.coordinate,{}),o={};t.title=o,"el"===lang?(o.estateCode="Κωδικός Ιδιοκτησίας",o.type="Τύπος",o.area="Εμβαδό",o.address="Διευθυνση",o.bedrooms="Υπνοδωμάτια",o.price="Τιμή",o["new"]="Νεόδμητο",o.parking="Στάθμεση",o.furnished="Επιπλωμένο",o.pets="Κατοικίδια",o.view="Θέα",o.heating="Θέρμανση",o.cooling="Ψύξη",o.contactInfo="Στοιχεία Επικοινωνίας",o.name="Όνομα",o.lastname="Επίθετο",o.phone="Τηλέφωνο",o.email="Ηλεκτρονική Διεύθυνση"):(o.estateCode="Estate Code",o.type="Type",o.area="Size",o.address="Address",o.bedrooms="Bedrooms",o.price="Price",o["new"]="Newly Build",o.parking="Parking",o.furnished="Furnished",o.pets="Pets Allowed",o.view="View",o.heating="Heating",o.cooling="Cooling",o.contactInfo="Contact Info",o.name="Name",o.lastname="Last Name",o.phone="Telephone",o.email="Email"),clickedFeature=map.forEachFeatureAtPixel(e.pixel,function(e,t){return{feature:e,layer:t}},this,function(e){return"estates"===e.get("id")||"filteredEstates"===e.get("id")?!0:void 0},this);var r;clickedFeature?"estates"===clickedFeature.layer.get("id")&&1===clickedFeature.feature.get("features").length?(r=clickedFeature.feature.getProperties().features[0],createPSAandCard(r,t)):"filteredEstates"===clickedFeature.layer.get("id")&&(r=clickedFeature.feature,createPSAandCard(r,t)):PSA.setSource(null)}function createPSAandCard(e,t){var o={};o.gid=e.get("gid"),o.type=e.get("estatetype"),o.area=e.get("estatearea"),"el"===lang?o.address=e.get("street_el")+" "+e.get("h_num_el"):o.address=e.get("street_en")+" "+e.get("h_num_en"),o.bedrooms=e.get("bedrooms"),o.price=e.get("price"),o["new"]=e.get("new"),o.parking=e.get("parking"),o.furnished=e.get("furnished"),o.pets=e.get("pets"),o.view=e.get("view"),o.heating=e.get("heating"),o.cooling=e.get("cooling"),"el"===lang?(o.name=e.get("name_el"),o.lastname=e.get("lastname_el")):(o.name=e.get("name_en"),o.lastname=e.get("lastname_en")),o.phone=e.get("phone1"),o.email=e.get("email"),o.coordinate=e.get("geometry").getCoordinates();var r=new ol.source.Vector({attributions:[new ol.Attribution({html:'POI by <a href="http://www.terracognita.gr/">Terra Cognita</a>'})],format:geoJSONFormat,loader:function(e,t,r){var a="http://localhost:3000/db/uses/"+o.gid,n=this;$.ajax({url:a,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e.property_services_analysis,{featureProjection:"EPSG:3857"}),o=new ol.style.Style({fill:new ol.style.Fill({color:[156,39,176,.1]})});t[0].setStyle(o),n.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.all});PSA.setSource(r),map.getView().setCenter(o.coordinate),map.getView().setResolution(1.2),t.feature=o,dust.render("estateCards.dust",t,function(e,t){$(".estate-cards").html(t),$(".estate-cards").removeClass("visuallyhidden")}),$('a[href="#openModal"]').click(function(){dust.render("modalInfo.dust",t,function(e,t){$(".modal-content").html(t)})})}var center=[3677385,4120949],extent=[3590094,4102833,3855483,4261211],lang=document.documentElement.lang,styleCache={},geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326"}),bing=new ol.layer.Tile({visible:!0,source:new ol.source.BingMaps({key:"Ak2Gq8VUfICsPpuf7LRANXmXt2sHWmSLPhohmVLFtFIEwYjs_5MCyAhAFwRSVpLj",imagerySet:"Aerial"}),maxZoom:19,crossOrigin:"anonymous",preload:1/0,id:"bing"}),mapbox=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'<a href="https://www.mapbox.com/about/maps/" target="_blank">&copy; Mapbox &copy; OpenStreetMap</a>'})],url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA"}),id:"mapbox"}),propertySource=new ol.source.Vector({format:geoJSONFormat,loader:function(e,t,o){console.log(t);var r=ol.proj.transformExtent(e,"EPSG:3857","EPSG:4326"),a="http://localhost:3000/db/property?bbox[x1]="+r[0]+"&bbox[y1]="+r[1]+"&bbox[x2]="+r[2]+"&bbox[y2]="+r[3],n=this;this.clear(),console.log(e),$.ajax({url:a,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});n.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.bbox}),propertyClusterSource=new ol.source.Cluster({distance:40,source:propertySource,attributions:[new ol.Attribution({html:'All maps © <a href="http://www.terracognita.gr/">Terra Cognita</a>'})]}),property=new ol.layer.Vector({source:propertyClusterSource,id:"estates",visible:!0,style:propertyStyleFunction});property.setZIndex(2);var PSAStyleFunction=function(e,t){var o,r=e.get("style");return o="el"===lang?e.get("name_el"):e.get("name_en"),styleCache[r]||(styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/maki/renders/"+r+"-24.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:1}),text:new ol.style.Text({text:o,stroke:new ol.style.Stroke({color:[156,39,176,.8],width:1}),offsetY:12})})]),styleCache},PSA=new ol.layer.Vector({style:PSAStyleFunction,maxResolution:3});PSA.setZIndex(1);var filteredEstates=new ol.layer.Vector({source:new ol.source.Vector({format:geoJSONFormat}),id:"filteredEstates",visible:!0,style:filteredEsateStyle});filteredEstates.setZIndex(2);var selectSource=new ol.source.Vector({}),selectBox=new ol.layer.Vector({source:selectSource,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(227, 72, 27, 0.2)"}),stroke:new ol.style.Stroke({color:"#E3481B",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#E3481B"})})})});selectBox.setZIndex(3);var map=new ol.Map({target:"map",layers:[mapbox,property,PSA,filteredEstates,selectBox],loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",controls:ol.control.defaults({attributionOptions:{collapsible:!1,collapsed:!1}}).extend([new ol.control.ScaleLine({units:"metric"}),new ol.control.OverviewMap({className:"ol-overviewmap ol-custom-overviewmap",collapsible:!0,collapsed:!0,layers:[bing]}),new ol.control.ZoomToExtent({extent:extent})]),view:new ol.View({center:center,projection:"EPSG:3857",zoom:14,maxZoom:19,minZoom:10})});"el"===lang?(bing.set("name","Δορυφορική εικόνα"),mapbox.set("name","Χάρτης"),property.set("name","Ακίνητα")):(bing.set("name","Sattelite Image"),mapbox.set("name","Map"),property.set("name","Properties")),$("#clearFilters").click(function(){$("input[name=options]").prop("checked",!1),$("label[for=option-1]").removeClass("is-checked"),$("label[for=option-2]").removeClass("is-checked"),$("label[for=checkbox-1]").removeClass("is-checked"),$("label[for=checkbox-2]").removeClass("is-checked"),$("label[for=checkbox-3]").removeClass("is-checked"),$("label[for=checkbox-4]").removeClass("is-checked"),$("label[for=checkbox-5]").removeClass("is-checked"),$("label[for=checkbox-6]").removeClass("is-checked"),filteredEstates.getSource().clear(),property.setVisible(!0),PSA.setSource(null),selectSource.clear(),map.removeInteraction(draw)});var draw;$("#checkbox-6").change(function(){this.checked?addInteraction():(map.removeInteraction(draw),selectSource.clear())}),function(){var e=new ol.Geolocation({projection:map.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),t=new ol.Feature;e.on("change:accuracyGeometry",function(){t.setGeometry(e.getAccuracyGeometry())});var o=new ol.Feature;o.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#3399CC"}),stroke:new ol.style.Stroke({color:"#fff",width:2})})})),e.on("change:position",function(){var t=e.getPosition();o.setGeometry(t?new ol.geom.Point(t):null)}),featuresOverlaySource=new ol.source.Vector({});new ol.layer.Vector({map:map,source:featuresOverlaySource});$(".geolocation").on("change",function(r){r.preventDefault(),$(this).prop("checked")===!0?(e.setTracking(!0),featuresOverlaySource.addFeatures([o,t])):(e.setTracking(!1),featuresOverlaySource.clear())})}(),$(".info").on("change",function(e){e.preventDefault(),PSA.setSource(null),$(this).prop("checked")===!0?map.on("click",handleInfo):map.un("click",handleInfo)}),function(){function e(e){e.preventDefault();var r=n.getSource().getFeatures().length,a=e.coordinate;if(0===r)o.setGeometry(new ol.geom.Point(a)),o.setId("first"),n.getSource().addFeature(o),l[0]=a[0],l[1]=a[1];else if(1===r){var s=o.clone();s.setGeometry(new ol.geom.Point(a)),s.setId("second"),n.getSource().addFeature(s),l[2]=a[0],l[3]=a[1],t(l)}else n.getSource().clear()}function t(e){var t=ol.proj.transform([e[0],e[1]],"EPSG:3857","EPSG:4326"),o=ol.proj.transform([e[2],e[3]],"EPSG:3857","EPSG:4326"),r=t[0],a=t[1],l=o[0],s=o[1];$.ajax({url:"https://api.mapbox.com/v4/directions/mapbox.driving/"+r+","+a+";"+l+","+s+".json?alternatives=false&access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA",type:"GET",dataType:"json"}).done(function(e){var t={};t.type="Feature",t.geometry=e.routes[0].geometry,n.getSource().addFeatures(geoJSONFormat.readFeatures(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})),map.getView().fit(n.getSource().getExtent(),map.getSize())}).fail(function(){console.log("error")}).always(function(){console.log("complete")})}var o=new ol.Feature,r=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,scale:1,src:"../images/map-icons/pins/24/pin1.png",snapToPixel:!1}),zIndex:100});o.setStyle(r);var a=new ol.style.Style({stroke:new ol.style.Stroke({color:"#408080",width:5,lineDash:[4,4]})}),n=new ol.layer.Vector({map:map,source:new ol.source.Vector,style:a,id:"route",nameEl:"Διαδρομή",NameEn:"Route"}),l=[];geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326",geometryName:"geometry"}),$(".marker").on("change",function(t){t.preventDefault(),$(this).prop("checked")===!0?map.on("singleclick",e):(map.un("singleclick",e),n.getSource().clear())})}(),function(){$(".weather").change(function(){if($(this).prop("checked")===!0){map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())});var e=ol.proj.transform(map.getView().getCenter(),"EPSG:3857","EPSG:4326"),t=e[1],o=e[0];$.ajax({url:"http://api.openweathermap.org/data/2.5/find?lat="+t+"&lon="+o+"&cnt=5&cluster=no&units=metric&type=accurate&APPID=f9cd9fa2c427c3b115e87e4862619c5c",type:"GET",dataType:"json"}).done(function(e){function t(e,t){var o=document.createElement("div");return o.setAttribute("class","weather-popup default-primary-color mdl-shadow--6dp"),o.setAttribute("id",t),o.setAttribute("data-name","weather"),new ol.Overlay({element:o,position:e})}var o,r,a=e.list;$.each(a,function(e,a){r=ol.proj.transform([a.coord.lon,a.coord.lat],"EPSG:4326","EPSG:3857"),o=t(r,e),map.addOverlay(o),o.set("name","weather"),weatherData={name:a.name,temp:a.main.temp,pressure:a.main.pressure,humidity:a.main.humidity},dust.render("weatherPopup.dust",weatherData,function(t,o){$("#"+e).html(o)})})}).fail(function(){})}else $(this).prop("checked")===!1&&map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyIsImZpbHRlcnMuanMiLCJpbmZvLmpzIiwiZ2VvbG9jYXRpb24uanMiLCJyb3V0aW5nLmpzIiwid2VhdGhlci5qcyJdLCJuYW1lcyI6WyJjcmVhdGVQcm9wZXJ0eVN0eWxlIiwiZmVhdHVyZSIsInNyYyIsImdldCIsIm9sIiwic3R5bGUiLCJTdHlsZSIsImdlb21ldHJ5IiwiZ2V0R2VvbWV0cnkiLCJpbWFnZSIsIkljb24iLCJhbmNob3JPcmlnaW4iLCJhbmNob3IiLCJzY2FsZSIsInByb3BlcnR5U3R5bGVGdW5jdGlvbiIsInJlc29sdXRpb24iLCJzaXplIiwibGVuZ3RoIiwiQ2lyY2xlIiwicmFkaXVzIiwic3Ryb2tlIiwiU3Ryb2tlIiwiY29sb3IiLCJ3aWR0aCIsImZpbGwiLCJGaWxsIiwidGV4dCIsIlRleHQiLCJ0b1N0cmluZyIsInpJbmRleCIsIm9yaWdpbmFsRmVhdHVyZSIsInNlbGVjdFN0eWxlRnVuY3Rpb24iLCJzdHlsZXMiLCJvcmlnaW5hbEZlYXR1cmVzIiwiaSIsInB1c2giLCJmaWx0ZXJlZEVzYXRlU3R5bGUiLCJzdHlsZUNhY2hlIiwic2VsZWN0QnlGaWx0ZXJzIiwiUFNBIiwic2V0U291cmNlIiwiZXBzZzQzMjZFeHRlbnQiLCJwYXJhbXMiLCJsZWFzZVR5cGUiLCIkIiwidmFsIiwic3RhcnRQcmljZSIsImVuZFByaWNlIiwicGFya2luZyIsInByb3AiLCJmdXJuaXNoZWQiLCJoZWF0aW5nIiwiY29vbGluZyIsInZpZXciLCJzZWxlY3RTb3VyY2UiLCJnZXRGZWF0dXJlcyIsInByb2oiLCJ0cmFuc2Zvcm1FeHRlbnQiLCJleHRlbnQiLCJnZXRFeHRlbnQiLCJ0b2FzdHIiLCJvcHRpb25zIiwiY2xvc2VCdXR0b24iLCJkZWJ1ZyIsIm5ld2VzdE9uVG9wIiwicHJvZ3Jlc3NCYXIiLCJwb3NpdGlvbkNsYXNzIiwicHJldmVudER1cGxpY2F0ZXMiLCJvbmNsaWNrIiwic2hvd0R1cmF0aW9uIiwiaGlkZUR1cmF0aW9uIiwidGltZU91dCIsImV4dGVuZGVkVGltZU91dCIsInNob3dFYXNpbmciLCJoaWRlRWFzaW5nIiwic2hvd01ldGhvZCIsImhpZGVNZXRob2QiLCJhamF4IiwidXJsIiwidHlwZSIsImRhdGFUeXBlIiwiZGF0YSIsImRvbmUiLCJyZXNwb25zZSIsImZlYXR1cmVzIiwiZ2VvSlNPTkZvcm1hdCIsInJlYWRGZWF0dXJlcyIsImZlYXR1cmVQcm9qZWN0aW9uIiwiY2xlYXIiLCJmaWx0ZXJlZEVzdGF0ZXMiLCJnZXRTb3VyY2UiLCJhZGRGZWF0dXJlcyIsInNldFZpc2libGUiLCJwcm9wZXJ0eSIsImVycm9yIiwiYWRkSW50ZXJhY3Rpb24iLCJkcmF3IiwiaW50ZXJhY3Rpb24iLCJEcmF3Iiwic291cmNlIiwiZ2VvbWV0cnlGdW5jdGlvbiIsIm1heFBvaW50cyIsIm9uIiwibWFwIiwiY29vcmRpbmF0ZXMiLCJnZW9tIiwiUG9seWdvbiIsInN0YXJ0IiwiZW5kIiwic2V0Q29vcmRpbmF0ZXMiLCJoYW5kbGVJbmZvIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVJbnRlcmFjdGlvbiIsIm9iaiIsImNvb3JkaW5hdGUiLCJ0aXRsZSIsImxhbmciLCJlc3RhdGVDb2RlIiwiYXJlYSIsImFkZHJlc3MiLCJiZWRyb29tcyIsInByaWNlIiwicGV0cyIsImNvbnRhY3RJbmZvIiwibmFtZSIsImxhc3RuYW1lIiwicGhvbmUiLCJlbWFpbCIsImNsaWNrZWRGZWF0dXJlIiwiZm9yRWFjaEZlYXR1cmVBdFBpeGVsIiwicGl4ZWwiLCJsYXllciIsInRoaXMiLCJmIiwiZ2V0UHJvcGVydGllcyIsImNyZWF0ZVBTQWFuZENhcmQiLCJnaWQiLCJnZXRDb29yZGluYXRlcyIsIlBTQVNvdXJjZSIsIlZlY3RvciIsImF0dHJpYnV0aW9ucyIsIkF0dHJpYnV0aW9uIiwiaHRtbCIsImZvcm1hdCIsImxvYWRlciIsInByb2plY3Rpb24iLCJ0aGF0IiwicHJvcGVydHlfc2VydmljZXNfYW5hbHlzaXMiLCJzZXRTdHlsZSIsImZhaWwiLCJjb25zb2xlIiwibG9nIiwic3RyYXRlZ3kiLCJsb2FkaW5nc3RyYXRlZ3kiLCJhbGwiLCJnZXRWaWV3Iiwic2V0Q2VudGVyIiwic2V0UmVzb2x1dGlvbiIsImR1c3QiLCJyZW5kZXIiLCJlcnIiLCJvdXQiLCJyZW1vdmVDbGFzcyIsImNsaWNrIiwiY2VudGVyIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJHZW9KU09OIiwiZGVmYXVsdERhdGFQcm9qZWN0aW9uIiwiYmluZyIsIlRpbGUiLCJ2aXNpYmxlIiwiQmluZ01hcHMiLCJrZXkiLCJpbWFnZXJ5U2V0IiwibWF4Wm9vbSIsImNyb3NzT3JpZ2luIiwicHJlbG9hZCIsIkluZmluaXR5IiwiaWQiLCJtYXBib3giLCJYWVoiLCJwcm9wZXJ0eVNvdXJjZSIsImJib3giLCJwcm9wZXJ0eUNsdXN0ZXJTb3VyY2UiLCJDbHVzdGVyIiwiZGlzdGFuY2UiLCJzZXRaSW5kZXgiLCJQU0FTdHlsZUZ1bmN0aW9uIiwic3ltYm9sIiwib2Zmc2V0WSIsIm1heFJlc29sdXRpb24iLCJzZWxlY3RCb3giLCJNYXAiLCJ0YXJnZXQiLCJsYXllcnMiLCJsb2FkVGlsZXNXaGlsZUFuaW1hdGluZyIsImxvYWRUaWxlc1doaWxlSW50ZXJhY3RpbmciLCJyZW5kZXJlciIsImNvbnRyb2xzIiwiY29udHJvbCIsImRlZmF1bHRzIiwiYXR0cmlidXRpb25PcHRpb25zIiwiY29sbGFwc2libGUiLCJjb2xsYXBzZWQiLCJleHRlbmQiLCJTY2FsZUxpbmUiLCJ1bml0cyIsIk92ZXJ2aWV3TWFwIiwiY2xhc3NOYW1lIiwiWm9vbVRvRXh0ZW50IiwiVmlldyIsInpvb20iLCJtaW5ab29tIiwic2V0IiwiY2hhbmdlIiwiY2hlY2tlZCIsImdlb2xvY2F0aW9uIiwiR2VvbG9jYXRpb24iLCJnZXRQcm9qZWN0aW9uIiwidHJhY2tpbmdPcHRpb25zIiwibWF4aW11bUFnZSIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsInRpbWVvdXQiLCJhY2N1cmFjeUZlYXR1cmUiLCJGZWF0dXJlIiwic2V0R2VvbWV0cnkiLCJnZXRBY2N1cmFjeUdlb21ldHJ5IiwicG9zaXRpb25GZWF0dXJlIiwiZ2V0UG9zaXRpb24iLCJQb2ludCIsImZlYXR1cmVzT3ZlcmxheVNvdXJjZSIsImUiLCJzZXRUcmFja2luZyIsInVuIiwiaGFuZGxlTWFya2VyIiwiZXZlbnQiLCJmZWF0dXJlQ291bnQiLCJmZWF0dXJlc092ZXJsYXkiLCJtYXJrZXIiLCJzZXRJZCIsImFkZEZlYXR1cmUiLCJyb3V0ZUNvb3JkcyIsImNsb25lIiwiY2FsbFJvdXRlIiwiZmlyc3QiLCJ0cmFuc2Zvcm0iLCJzZWNvbmQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInJvdXRlIiwicm91dGVzIiwiZGF0YVByb2plY3Rpb24iLCJmaXQiLCJnZXRTaXplIiwiYWx3YXlzIiwiaWNvblN0eWxlIiwiYW5jaG9yWFVuaXRzIiwiYW5jaG9yWVVuaXRzIiwib3BhY2l0eSIsInNuYXBUb1BpeGVsIiwiZmVhdHVyZXNPdmVybGF5U3R5bGUiLCJsaW5lRGFzaCIsIm5hbWVFbCIsIk5hbWVFbiIsImdlb21ldHJ5TmFtZSIsImdldE92ZXJsYXlzIiwiZm9yRWFjaCIsIm92bCIsImdldEVsZW1lbnQiLCJwYXJlbnQiLCJyZW1vdmUiLCJnZXRDZW50ZXIiLCJsYXQiLCJsb24iLCJjcmVhdGVXZWF0aGVyT3ZlcmxheSIsInBvc2l0aW9uIiwiaW5kZXgiLCJlbGVtIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsIk92ZXJsYXkiLCJlbGVtZW50Iiwib3ZlcmxheSIsIm9ianMiLCJsaXN0IiwiZWFjaCIsImNvb3JkIiwiYWRkT3ZlcmxheSIsIndlYXRoZXJEYXRhIiwidGVtcCIsIm1haW4iLCJwcmVzc3VyZSIsImh1bWlkaXR5Il0sIm1hcHBpbmdzIjoiQUE0QkEsUUFBQUEscUJBQUFDLEdBQ0EsR0FBQUMsRUFNQSxPQUpBQSxHQURBLFNBQUFELEVBQUFFLElBQUEsV0FDQSx1Q0FFQSx1Q0FFQSxHQUFBQyxJQUFBQyxNQUFBQyxPQUNBQyxTQUFBTixFQUFBTyxjQUNB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aWxlIjoibWFwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiB2YXIgY2VudGVyID0gWzM2NzczODUsIDQxMjA5NDldLFxyXG4gICBleHRlbnQgPSBbMzU5MDA5NCwgNDEwMjgzMywgMzg1NTQ4MywgNDI2MTIxMV0sXHJcbiAgIGxhbmcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyxcclxuICAgc3R5bGVDYWNoZSA9IHt9LFxyXG4gICBnZW9KU09ORm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5HZW9KU09OKHtcclxuICAgICBkZWZhdWx0RGF0YVByb2plY3Rpb246ICdFUFNHOjQzMjYnXHJcbiAgIH0pO1xyXG4gdmFyIGJpbmcgPSBuZXcgb2wubGF5ZXIuVGlsZSh7XHJcbiAgIHZpc2libGU6IHRydWUsXHJcbiAgIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5CaW5nTWFwcyh7XHJcbiAgICAga2V5OiAnQWsyR3E4VlVmSUNzUHB1ZjdMUkFOWG1YdDJzSFdtU0xQaG9obVZMRnRGSUV3WWpzXzVNQ3lBaEFGd1JTVnBMaicsXHJcbiAgICAgaW1hZ2VyeVNldDogJ0FlcmlhbCdcclxuICAgfSksXHJcbiAgIG1heFpvb206IDE5LFxyXG4gICBjcm9zc09yaWdpbjogJ2Fub255bW91cycsXHJcbiAgIHByZWxvYWQ6IEluZmluaXR5LFxyXG4gICBpZDogJ2JpbmcnXHJcbiB9KTtcclxuIHZhciBtYXBib3ggPSBuZXcgb2wubGF5ZXIuVGlsZSh7XHJcbiAgIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5YWVooe1xyXG4gICAgIGF0dHJpYnV0aW9uczogW25ldyBvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICAgICBodG1sOiAnPGEgaHJlZj1cXFwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hYm91dC9tYXBzL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPiZjb3B5OyBNYXBib3ggJmNvcHk7IE9wZW5TdHJlZXRNYXA8L2E+J1xyXG4gICAgIH0pXSxcclxuICAgICB1cmw6ICdodHRwczovL2FwaS5tYXBib3guY29tL3Y0L21hcGJveC5zdHJlZXRzL3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2labWx5ZG1GcGJpSXNJbUVpT2lKbE9XWXlZVE0wTlRoaU5XTTBZakpqT0RKak5ERTRPRFF6TnpBMk1HUXlOaUo5Li1OVkRPMjdIenQtd19uUW9zVVBmTEEnXHJcbiAgIH0pLFxyXG4gICBpZDogJ21hcGJveCdcclxuIH0pO1xyXG5cclxuIGZ1bmN0aW9uIGNyZWF0ZVByb3BlcnR5U3R5bGUoZmVhdHVyZSkge1xyXG4gICB2YXIgc3JjO1xyXG4gICBpZiAoZmVhdHVyZS5nZXQoJ3R5cGVfZW4nKSA9PT0gJ1NhbGUnKSB7XHJcbiAgICAgc3JjID0gJy4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy80OC9waW4yLnBuZyc7XHJcbiAgIH0gZWxzZSB7XHJcbiAgICAgc3JjID0gJy4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy80OC9waW41LnBuZyc7XHJcbiAgIH1cclxuICAgcmV0dXJuIG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICAgZ2VvbWV0cnk6IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKSxcclxuICAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgIHNyYzogc3JjLFxyXG4gICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICAgYW5jaG9yOiBbMCwgMF0sXHJcbiAgICAgICBzY2FsZTogMC43LFxyXG4gICAgIH0pKVxyXG4gICB9KTtcclxuIH1cclxuXHJcbiBmdW5jdGlvbiBwcm9wZXJ0eVN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gICB2YXIgc2l6ZSA9IGZlYXR1cmUuZ2V0KCdmZWF0dXJlcycpLmxlbmd0aDtcclxuICAgaWYgKHNpemUgPiAxKSB7XHJcbiAgICAgc3R5bGUgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcclxuICAgICAgICAgcmFkaXVzOiAyMCxcclxuICAgICAgICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMV0sXHJcbiAgICAgICAgICAgd2lkdGg6IDVcclxuICAgICAgICAgfSksXHJcbiAgICAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICAgICBjb2xvcjogWzY4LCAxMzgsIDI1NSwgMC44XVxyXG4gICAgICAgICB9KVxyXG4gICAgICAgfSksXHJcbiAgICAgICB0ZXh0OiBuZXcgb2wuc3R5bGUuVGV4dCh7XHJcbiAgICAgICAgIHRleHQ6IHNpemUudG9TdHJpbmcoKSxcclxuICAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgIGNvbG9yOiAnI0ZGRkZGRidcclxuICAgICAgICAgfSlcclxuICAgICAgIH0pLFxyXG4gICAgICAgekluZGV4OiAxMDFcclxuICAgICB9KV07XHJcbiAgIH0gZWxzZSB7XHJcbiAgICAgdmFyIG9yaWdpbmFsRmVhdHVyZSA9IGZlYXR1cmUuZ2V0KCdmZWF0dXJlcycpWzBdO1xyXG4gICAgIHN0eWxlID0gW2NyZWF0ZVByb3BlcnR5U3R5bGUob3JpZ2luYWxGZWF0dXJlKV07XHJcbiAgIH1cclxuICAgcmV0dXJuIHN0eWxlO1xyXG4gfVxyXG5cclxuIGZ1bmN0aW9uIHNlbGVjdFN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gICB2YXIgc3R5bGVzID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7fSldO1xyXG4gICB2YXIgb3JpZ2luYWxGZWF0dXJlcyA9IGZlYXR1cmUuZ2V0KCdmZWF0dXJlcycpO1xyXG4gICB2YXIgb3JpZ2luYUZlYXR1cmU7XHJcbiAgIGZvciAodmFyIGkgPSBvcmlnaW5hbEZlYXR1cmVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XHJcbiAgICAgb3JpZ2luYWxGZWF0dXJlID0gb3JpZ2luYWxGZWF0dXJlc1tpXTtcclxuICAgICBzdHlsZXMucHVzaChjcmVhdGVQcm9wZXJ0eVN0eWxlKG9yaWdpbmFsRmVhdHVyZSkpO1xyXG4gICB9XHJcbiAgIHJldHVybiBzdHlsZXM7XHJcbiB9XHJcbiB2YXIgcHJvcGVydHlTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgIGZvcm1hdDogZ2VvSlNPTkZvcm1hdCxcclxuICAgbG9hZGVyOiBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcclxuICAgIGNvbnNvbGUubG9nKHJlc29sdXRpb24pO1xyXG4gICAgIHZhciBlcHNnNDMyNkV4dGVudCA9IG9sLnByb2oudHJhbnNmb3JtRXh0ZW50KGV4dGVudCwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgICB2YXIgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kYi9wcm9wZXJ0eT9iYm94W3gxXT0nICsgZXBzZzQzMjZFeHRlbnRbMF0gKyAnJmJib3hbeTFdPScgKyBlcHNnNDMyNkV4dGVudFsxXSArICcmYmJveFt4Ml09JyArIGVwc2c0MzI2RXh0ZW50WzJdICsgJyZiYm94W3kyXT0nICsgZXBzZzQzMjZFeHRlbnRbM107XHJcbiAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICBjb25zb2xlLmxvZyhleHRlbnQpO1xyXG4gICAgICQuYWpheCh7XHJcbiAgICAgICB1cmw6IHVybCxcclxuICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSwge1xyXG4gICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogJ0VQU0c6Mzg1NydcclxuICAgICAgIH0pO1xyXG5cclxuICAgICAgIHRoYXQuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xyXG4gICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xyXG4gICAgIH0pO1xyXG4gICB9LFxyXG4gICBzdHJhdGVneTogb2wubG9hZGluZ3N0cmF0ZWd5LmJib3hcclxuIH0pO1xyXG4gdmFyIHByb3BlcnR5Q2x1c3RlclNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuQ2x1c3Rlcih7XHJcbiAgIGRpc3RhbmNlOiA0MCxcclxuICAgc291cmNlOiBwcm9wZXJ0eVNvdXJjZSxcclxuICAgYXR0cmlidXRpb25zOiBbbmV3IG9sLkF0dHJpYnV0aW9uKHtcclxuICAgICBodG1sOiAnQWxsIG1hcHMgwqkgJyArICc8YSBocmVmPVwiaHR0cDovL3d3dy50ZXJyYWNvZ25pdGEuZ3IvXCI+VGVycmEgQ29nbml0YTwvYT4nXHJcbiAgIH0pXVxyXG4gfSk7XHJcbiB2YXIgcHJvcGVydHkgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHtcclxuICAgc291cmNlOiBwcm9wZXJ0eUNsdXN0ZXJTb3VyY2UsXHJcbiAgIGlkOiAnZXN0YXRlcycsXHJcbiAgIHZpc2libGU6IHRydWUsXHJcbiAgIHN0eWxlOiBwcm9wZXJ0eVN0eWxlRnVuY3Rpb25cclxuIH0pO1xyXG4gcHJvcGVydHkuc2V0WkluZGV4KDIpO1xyXG4gdmFyIFBTQVN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgIHZhciBzeW1ib2wgPSBmZWF0dXJlLmdldCgnc3R5bGUnKTtcclxuICAgdmFyIHRleHQ7XHJcbiAgIGlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgICAgdGV4dCA9IGZlYXR1cmUuZ2V0KCduYW1lX2VsJyk7XHJcbiAgIH0gZWxzZSB7XHJcbiAgICAgdGV4dCA9IGZlYXR1cmUuZ2V0KCduYW1lX2VuJyk7XHJcbiAgIH1cclxuICAgaWYgKCFzdHlsZUNhY2hlW3N5bWJvbF0pIHtcclxuICAgICBzdHlsZUNhY2hlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgICAgc3JjOiAnLi4vaW1hZ2VzL21ha2kvcmVuZGVycy8nICsgc3ltYm9sICsgJy0yNC5wbmcnLFxyXG4gICAgICAgICBhbmNob3JPcmlnaW46ICdib3R0b20tbGVmdCcsXHJcbiAgICAgICAgIGFuY2hvcjogWzAuNSwgMC41XSxcclxuICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICB9KSksXHJcbiAgICAgICB0ZXh0OiBuZXcgb2wuc3R5bGUuVGV4dCh7XHJcbiAgICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgICAgICAgY29sb3I6IFsxNTYsIDM5LCAxNzYsIDAuOF0sXHJcbiAgICAgICAgICAgd2lkdGg6IDFcclxuICAgICAgICAgfSksXHJcbiAgICAgICAgIG9mZnNldFk6IDEyXHJcbiAgICAgICB9KVxyXG4gICAgIH0pXTtcclxuICAgfVxyXG4gICByZXR1cm4gc3R5bGVDYWNoZTtcclxuIH07XHJcbiB2YXIgUFNBID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgIHN0eWxlOiBQU0FTdHlsZUZ1bmN0aW9uLFxyXG4gICBtYXhSZXNvbHV0aW9uOiAzXHJcbiB9KTtcclxuIFBTQS5zZXRaSW5kZXgoMSk7XHJcblxyXG4gZnVuY3Rpb24gZmlsdGVyZWRFc2F0ZVN0eWxlKGZlYXR1cmUsIHJlc29sdXRpb24pIHtcclxuICAgc3R5bGVDYWNoZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xyXG4gICAgICAgc3JjOiAnLi4vaW1hZ2VzL21hcC1pY29ucy9waW5zLzQ4L3BpbjQucG5nJyxcclxuICAgICAgIGFuY2hvck9yaWdpbjogJ2JvdHRvbS1sZWZ0JyxcclxuICAgICAgIGFuY2hvcjogWzAuNSwgMC41XSxcclxuICAgICAgIHNjYWxlOiAwLjcsXHJcbiAgICAgfSkpXHJcbiAgIH0pXTtcclxuICAgcmV0dXJuIHN0eWxlQ2FjaGU7XHJcbiB9XHJcbiB2YXIgZmlsdGVyZWRFc3RhdGVzID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe1xyXG4gICAgIGZvcm1hdDogZ2VvSlNPTkZvcm1hdFxyXG4gICB9KSxcclxuICAgaWQ6ICdmaWx0ZXJlZEVzdGF0ZXMnLFxyXG4gICB2aXNpYmxlOiB0cnVlLFxyXG4gICBzdHlsZTogZmlsdGVyZWRFc2F0ZVN0eWxlXHJcbiB9KTtcclxuIGZpbHRlcmVkRXN0YXRlcy5zZXRaSW5kZXgoMik7XHJcbiB2YXIgc2VsZWN0U291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe30pO1xyXG5cclxudmFyIHNlbGVjdEJveCA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gIHNvdXJjZTogc2VsZWN0U291cmNlLFxyXG4gIHN0eWxlOiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICBjb2xvcjogJ3JnYmEoMjI3LCA3MiwgMjcsIDAuMiknXHJcbiAgICB9KSxcclxuICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgIGNvbG9yOiAnI0UzNDgxQicsXHJcbiAgICAgIHdpZHRoOiAyXHJcbiAgICB9KSxcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcclxuICAgICAgcmFkaXVzOiA3LFxyXG4gICAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgICAgY29sb3I6ICcjRTM0ODFCJ1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9KVxyXG59KTtcclxuc2VsZWN0Qm94LnNldFpJbmRleCgzKTtcclxuIHZhciBtYXAgPSBuZXcgb2wuTWFwKHtcclxuICAgdGFyZ2V0OiAnbWFwJyxcclxuICAgbGF5ZXJzOiBbbWFwYm94LCBwcm9wZXJ0eSwgUFNBLCBmaWx0ZXJlZEVzdGF0ZXMsc2VsZWN0Qm94XSxcclxuICAgLy8gaW50ZXJhY3Rpb25zOiBvbC5pbnRlcmFjdGlvbi5kZWZhdWx0cygpLmV4dGVuZChbbmV3IG9sLmludGVyYWN0aW9uLlNlbGVjdCh7XHJcbiAgIC8vICAgY29uZGl0aW9uOiBmdW5jdGlvbihldnQpIHtcclxuICAgLy8gICAgIHJldHVybiBldnQudHlwZSA9PT0gJ3NpbmdsZWNsaWNrJyAmJiBvbC5ldmVudHMuY29uZGl0aW9uLnNoaWZ0S2V5T25seShldnQpO1xyXG4gICAvLyAgIH0sXHJcbiAgIC8vICAgc3R5bGU6IHNlbGVjdFN0eWxlRnVuY3Rpb25cclxuICAgLy8gfSldKSxcclxuICAgbG9hZFRpbGVzV2hpbGVBbmltYXRpbmc6IHRydWUsXHJcbiAgIGxvYWRUaWxlc1doaWxlSW50ZXJhY3Rpbmc6IHRydWUsXHJcbiAgIHJlbmRlcmVyOiAnY2FudmFzJyxcclxuICAgY29udHJvbHM6IG9sLmNvbnRyb2wuZGVmYXVsdHMoe1xyXG4gICAgIGF0dHJpYnV0aW9uT3B0aW9uczoge1xyXG4gICAgICAgY29sbGFwc2libGU6IGZhbHNlLFxyXG4gICAgICAgY29sbGFwc2VkOiBmYWxzZVxyXG4gICAgIH1cclxuICAgfSkuZXh0ZW5kKFtcclxuICAgICBuZXcgb2wuY29udHJvbC5TY2FsZUxpbmUoe1xyXG4gICAgICAgdW5pdHM6ICdtZXRyaWMnXHJcbiAgICAgfSksIG5ldyBvbC5jb250cm9sLk92ZXJ2aWV3TWFwKHtcclxuICAgICAgIGNsYXNzTmFtZTogJ29sLW92ZXJ2aWV3bWFwIG9sLWN1c3RvbS1vdmVydmlld21hcCcsXHJcbiAgICAgICBjb2xsYXBzaWJsZTogdHJ1ZSxcclxuICAgICAgIGNvbGxhcHNlZDogdHJ1ZSxcclxuICAgICAgIGxheWVyczogW2JpbmddXHJcbiAgICAgfSksXHJcbiAgICAgbmV3IG9sLmNvbnRyb2wuWm9vbVRvRXh0ZW50KHtcclxuICAgICAgIGV4dGVudDogZXh0ZW50XHJcbiAgICAgfSlcclxuICAgXSksXHJcbiAgIHZpZXc6IG5ldyBvbC5WaWV3KHtcclxuICAgICBjZW50ZXI6IGNlbnRlcixcclxuICAgICAvLyBleHRlbnQ6IGV4dGVudCxcclxuICAgICBwcm9qZWN0aW9uOiAnRVBTRzozODU3JyxcclxuICAgICB6b29tOiAxNCxcclxuICAgICBtYXhab29tOiAxOSxcclxuICAgICBtaW5ab29tOiAxMFxyXG4gICB9KSxcclxuIH0pO1xyXG4gaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICAgYmluZy5zZXQoJ25hbWUnLCAnzpTOv8+Bz4XPhs6/z4HOuc66zq4gzrXOuc66z4zOvc6xJyk7XHJcbiAgIG1hcGJveC5zZXQoJ25hbWUnLCAnzqfOrM+Bz4TOt8+CJyk7XHJcbiAgIHByb3BlcnR5LnNldCgnbmFtZScsICfOkc66zq/Ovc63z4TOsScpO1xyXG4gfSBlbHNlIHtcclxuICAgYmluZy5zZXQoJ25hbWUnLCAnU2F0dGVsaXRlIEltYWdlJyk7XHJcbiAgIG1hcGJveC5zZXQoJ25hbWUnLCAnTWFwJyk7XHJcbiAgIHByb3BlcnR5LnNldCgnbmFtZScsICdQcm9wZXJ0aWVzJyk7XHJcbiB9XHJcbiIsIiBmdW5jdGlvbiBzZWxlY3RCeUZpbHRlcnMoKSB7XHJcbiAgIFBTQS5zZXRTb3VyY2UobnVsbCk7XHJcbiAgIHZhciBwYXJhbXMgPSB7fTtcclxuICAgdmFyIGVwc2c0MzI2RXh0ZW50O1xyXG4gICBwYXJhbXMubGVhc2VUeXBlID0gJChcImlucHV0W25hbWU9b3B0aW9uc106Y2hlY2tlZFwiKS52YWwoKTtcclxuICAgcGFyYW1zLnN0YXJ0UHJpY2UgPSAkKCcjc3RhcnRQcmljZScpLnZhbCgpO1xyXG4gICBwYXJhbXMuZW5kUHJpY2UgPSAkKCcjZW5kUHJpY2UnKS52YWwoKTtcclxuICAgcGFyYW1zLnBhcmtpbmcgPSAkKCcjY2hlY2tib3gtMScpLnByb3AoJ2NoZWNrZWQnKTtcclxuICAgcGFyYW1zLmZ1cm5pc2hlZCA9ICQoJyNjaGVja2JveC0yJykucHJvcCgnY2hlY2tlZCcpO1xyXG4gICBwYXJhbXMuaGVhdGluZyA9ICQoJyNjaGVja2JveC0zJykucHJvcCgnY2hlY2tlZCcpO1xyXG4gICBwYXJhbXMuY29vbGluZyA9ICQoJyNjaGVja2JveC00JykucHJvcCgnY2hlY2tlZCcpO1xyXG4gICBwYXJhbXMudmlldyA9ICQoJyNjaGVja2JveC01JykucHJvcCgnY2hlY2tlZCcpO1xyXG4gICBpZiAoc2VsZWN0U291cmNlLmdldEZlYXR1cmVzKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgZXBzZzQzMjZFeHRlbnQgPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChleHRlbnQsICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgIH0gZWxzZSB7XHJcbiAgICAgZXBzZzQzMjZFeHRlbnQgPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChzZWxlY3RTb3VyY2UuZ2V0RmVhdHVyZXMoKVswXS5nZXRHZW9tZXRyeSgpLmdldEV4dGVudCgpLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICB9XHJcbiAgIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgIFwiY2xvc2VCdXR0b25cIjogZmFsc2UsXHJcbiAgICAgXCJkZWJ1Z1wiOiBmYWxzZSxcclxuICAgICBcIm5ld2VzdE9uVG9wXCI6IGZhbHNlLFxyXG4gICAgIFwicHJvZ3Jlc3NCYXJcIjogZmFsc2UsXHJcbiAgICAgXCJwb3NpdGlvbkNsYXNzXCI6IFwidG9hc3QtdG9wLWNlbnRlclwiLFxyXG4gICAgIFwicHJldmVudER1cGxpY2F0ZXNcIjogZmFsc2UsXHJcbiAgICAgXCJvbmNsaWNrXCI6IG51bGwsXHJcbiAgICAgXCJzaG93RHVyYXRpb25cIjogXCIzMDBcIixcclxuICAgICBcImhpZGVEdXJhdGlvblwiOiBcIjEwMDBcIixcclxuICAgICBcInRpbWVPdXRcIjogXCI1MDAwXCIsXHJcbiAgICAgXCJleHRlbmRlZFRpbWVPdXRcIjogXCIxMDAwXCIsXHJcbiAgICAgXCJzaG93RWFzaW5nXCI6IFwic3dpbmdcIixcclxuICAgICBcImhpZGVFYXNpbmdcIjogXCJsaW5lYXJcIixcclxuICAgICBcInNob3dNZXRob2RcIjogXCJmYWRlSW5cIixcclxuICAgICBcImhpZGVNZXRob2RcIjogXCJmYWRlT3V0XCJcclxuICAgfTtcclxuICAgJC5hamF4KHtcclxuICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvZmlsdGVyZWRwcm9wZXJ0eT9iYm94W3gxXT0nICsgZXBzZzQzMjZFeHRlbnRbMF0gKyAnJmJib3hbeTFdPScgKyBlcHNnNDMyNkV4dGVudFsxXSArICcmYmJveFt4Ml09JyArIGVwc2c0MzI2RXh0ZW50WzJdICsgJyZiYm94W3kyXT0nICsgZXBzZzQzMjZFeHRlbnRbM10sXHJcbiAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICBkYXRhOiB7XHJcbiAgICAgICBsZWFzZVR5cGU6IHBhcmFtcy5sZWFzZVR5cGUsXHJcbiAgICAgICBmdXJuaXNoZWQ6IHBhcmFtcy5mdXJuaXNoZWQsXHJcbiAgICAgICBoZWF0aW5nOiBwYXJhbXMuaGVhdGluZyxcclxuICAgICAgIHBhcmtpbmc6IHBhcmFtcy5wYXJraW5nLFxyXG4gICAgICAgY29vbGluZzogcGFyYW1zLmNvb2xpbmcsXHJcbiAgICAgICB2aWV3OiBwYXJhbXMudmlldyxcclxuICAgICAgIHN0YXJ0UHJpY2U6IHBhcmFtcy5zdGFydFByaWNlLFxyXG4gICAgICAgZW5kUHJpY2U6IHBhcmFtcy5lbmRQcmljZVxyXG4gICAgIH0sXHJcbiAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSwge1xyXG4gICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgfSk7XHJcblxyXG4gICAgIGlmIChmZWF0dXJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICB0b2FzdHIuY2xlYXIoKTtcclxuICAgICAgIGZpbHRlcmVkRXN0YXRlcy5nZXRTb3VyY2UoKS5jbGVhcigpO1xyXG4gICAgICAgZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgIGZpbHRlcmVkRXN0YXRlcy5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgcHJvcGVydHkuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICB2YXIgZXh0ZW50ID0gZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmdldEV4dGVudCgpO1xyXG4gICAgICAgdmFyIGNlbnRlciA9IFtdO1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICB0b2FzdHIuZXJyb3IoXCJObyBJbmZvIEZvdW5kIVwiKTtcclxuICAgICAgIGZpbHRlcmVkRXN0YXRlcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgIHByb3BlcnR5LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuIH1cclxuICQoXCIjY2xlYXJGaWx0ZXJzXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAkKFwiaW5wdXRbbmFtZT1vcHRpb25zXVwiKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAkKCdsYWJlbFtmb3I9b3B0aW9uLTFdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAgJCgnbGFiZWxbZm9yPW9wdGlvbi0yXScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgICQoJ2xhYmVsW2Zvcj1jaGVja2JveC0xXScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgICQoJ2xhYmVsW2Zvcj1jaGVja2JveC0yXScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgICQoJ2xhYmVsW2Zvcj1jaGVja2JveC0zXScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgICQoJ2xhYmVsW2Zvcj1jaGVja2JveC00XScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgICQoJ2xhYmVsW2Zvcj1jaGVja2JveC01XScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgICQoJ2xhYmVsW2Zvcj1jaGVja2JveC02XScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgIGZpbHRlcmVkRXN0YXRlcy5nZXRTb3VyY2UoKS5jbGVhcigpO1xyXG4gICBwcm9wZXJ0eS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICBQU0Euc2V0U291cmNlKG51bGwpO1xyXG4gICBzZWxlY3RTb3VyY2UuY2xlYXIoKTtcclxuICAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG4gfSk7XHJcbiB2YXIgZHJhdztcclxuXHJcbiBmdW5jdGlvbiBhZGRJbnRlcmFjdGlvbigpIHtcclxuICAgc2VsZWN0U291cmNlLmNsZWFyKCk7XHJcbiAgIGRyYXcgPSBuZXcgb2wuaW50ZXJhY3Rpb24uRHJhdyh7XHJcbiAgICAgc291cmNlOiBzZWxlY3RTb3VyY2UsXHJcbiAgICAgdHlwZTogJ0xpbmVTdHJpbmcnLFxyXG4gICAgIGdlb21ldHJ5RnVuY3Rpb246IGdlb21ldHJ5RnVuY3Rpb24sXHJcbiAgICAgbWF4UG9pbnRzOiAyXHJcbiAgIH0pO1xyXG4gICBkcmF3Lm9uKCdkcmF3c3RhcnQnLCBmdW5jdGlvbigpIHtcclxuICAgICBzZWxlY3RTb3VyY2UuY2xlYXIoKTtcclxuICAgfSk7XHJcbiAgIG1hcC5hZGRJbnRlcmFjdGlvbihkcmF3KTtcclxuIH1cclxuXHJcbiBmdW5jdGlvbiBnZW9tZXRyeUZ1bmN0aW9uKGNvb3JkaW5hdGVzLCBnZW9tZXRyeSkge1xyXG4gICBpZiAoIWdlb21ldHJ5KSB7XHJcbiAgICAgZ2VvbWV0cnkgPSBuZXcgb2wuZ2VvbS5Qb2x5Z29uKG51bGwpO1xyXG4gICB9XHJcbiAgIHZhciBzdGFydCA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICB2YXIgZW5kID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgIGdlb21ldHJ5LnNldENvb3JkaW5hdGVzKFtcclxuICAgICBbc3RhcnQsIFtzdGFydFswXSwgZW5kWzFdXSwgZW5kLCBbZW5kWzBdLCBzdGFydFsxXV0sIHN0YXJ0XVxyXG4gICBdKTtcclxuICAgcmV0dXJuIGdlb21ldHJ5O1xyXG4gfVxyXG4gJChcIiNjaGVja2JveC02XCIpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgaWYgKHRoaXMuY2hlY2tlZCkge1xyXG4gICAgIGFkZEludGVyYWN0aW9uKCk7XHJcbiAgIH0gZWxzZSB7XHJcbiAgICAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG4gICAgIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gICB9XHJcbiB9KTtcclxuIiwiZnVuY3Rpb24gaGFuZGxlSW5mbyhldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBtYXAucmVtb3ZlSW50ZXJhY3Rpb24oZHJhdyk7XHJcbiAgdmFyIGNvb3JkaW5hdGUgPSBldnQuY29vcmRpbmF0ZTtcclxuICB2YXIgb2JqID0ge307XHJcbiAgdmFyIHRpdGxlID0ge307XHJcbiAgdmFyIG93bmVyID0ge307XHJcbiAgdmFyIGZlYXR1cmVzID0gW107XHJcbiAgb2JqLnRpdGxlID0gdGl0bGU7XHJcbiAgaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICAgIHRpdGxlLmVzdGF0ZUNvZGUgPSAnzprPic60zrnOus+Mz4IgzpnOtM65zr/Ous+EzrfPg86vzrHPgic7XHJcbiAgICB0aXRsZS50eXBlID0gJ86kz43PgM6/z4InO1xyXG4gICAgdGl0bGUuYXJlYSA9ICfOlc68zrLOsc60z4wnO1xyXG4gICAgdGl0bGUuYWRkcmVzcyA9ICfOlM65zrXPhc64z4XOvc+DzrcnO1xyXG4gICAgdGl0bGUuYmVkcm9vbXMgPSAnzqXPgM69zr/OtM+JzrzOrM+EzrnOsSc7XHJcbiAgICB0aXRsZS5wcmljZSA9ICfOpM65zrzOric7XHJcbiAgICB0aXRsZS5uZXcgPSAnzp3Otc+MzrTOvM63z4TOvyc7XHJcbiAgICB0aXRsZS5wYXJraW5nID0gJ86jz4TOrM64zrzOtc+DzrcnO1xyXG4gICAgdGl0bGUuZnVybmlzaGVkID0gJ86Vz4DOuc+AzrvPic68zq3Ovc6/JztcclxuICAgIHRpdGxlLnBldHMgPSAnzprOsc+Ezr/Ouc66zq/OtM65zrEnO1xyXG4gICAgdGl0bGUudmlldyA9ICfOmM6tzrEnO1xyXG4gICAgdGl0bGUuaGVhdGluZyA9ICfOmM6tz4HOvM6xzr3Pg863JztcclxuICAgIHRpdGxlLmNvb2xpbmcgPSAnzqjPjc6+zrcnO1xyXG4gICAgdGl0bGUuY29udGFjdEluZm8gPSAnzqPPhM6/zrnPh861zq/OsSDOlc+AzrnOus6/zrnOvc+Jzr3Or86xz4InO1xyXG4gICAgdGl0bGUubmFtZSA9ICfOjM69zr/OvM6xJztcclxuICAgIHRpdGxlLmxhc3RuYW1lID0gJ86Vz4DOr864zrXPhM6/JztcclxuICAgIHRpdGxlLnBob25lID0gJ86kzrfOu86tz4bPic69zr8nO1xyXG4gICAgdGl0bGUuZW1haWwgPSAnzpfOu861zrrPhM+Bzr/Ovc65zrrOriDOlM65zrXPjc64z4XOvc+DzrcnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aXRsZS5lc3RhdGVDb2RlID0gJ0VzdGF0ZSBDb2RlJztcclxuICAgIHRpdGxlLnR5cGUgPSAnVHlwZSc7XHJcbiAgICB0aXRsZS5hcmVhID0gJ1NpemUnO1xyXG4gICAgdGl0bGUuYWRkcmVzcyA9ICdBZGRyZXNzJztcclxuICAgIHRpdGxlLmJlZHJvb21zID0gJ0JlZHJvb21zJztcclxuICAgIHRpdGxlLnByaWNlID0gJ1ByaWNlJztcclxuICAgIHRpdGxlLm5ldyA9ICdOZXdseSBCdWlsZCc7XHJcbiAgICB0aXRsZS5wYXJraW5nID0gJ1BhcmtpbmcnO1xyXG4gICAgdGl0bGUuZnVybmlzaGVkID0gJ0Z1cm5pc2hlZCc7XHJcbiAgICB0aXRsZS5wZXRzID0gJ1BldHMgQWxsb3dlZCc7XHJcbiAgICB0aXRsZS52aWV3ID0gJ1ZpZXcnO1xyXG4gICAgdGl0bGUuaGVhdGluZyA9ICdIZWF0aW5nJztcclxuICAgIHRpdGxlLmNvb2xpbmcgPSAnQ29vbGluZyc7XHJcbiAgICB0aXRsZS5jb250YWN0SW5mbyA9ICdDb250YWN0IEluZm8nO1xyXG4gICAgdGl0bGUubmFtZSA9ICdOYW1lJztcclxuICAgIHRpdGxlLmxhc3RuYW1lID0gJ0xhc3QgTmFtZSc7XHJcbiAgICB0aXRsZS5waG9uZSA9ICdUZWxlcGhvbmUnO1xyXG4gICAgdGl0bGUuZW1haWwgPSAnRW1haWwnO1xyXG4gIH1cclxuICBjbGlja2VkRmVhdHVyZSA9IG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwoZXZ0LnBpeGVsLCBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmVhdHVyZTogZmVhdHVyZSxcclxuICAgICAgbGF5ZXI6IGxheWVyXHJcbiAgICB9O1xyXG4gIH0sIHRoaXMsIGZ1bmN0aW9uKGxheWVyKSB7XHJcbiAgICBpZiAobGF5ZXIuZ2V0KCdpZCcpID09PSAnZXN0YXRlcycgfHwgbGF5ZXIuZ2V0KCdpZCcpID09PSAnZmlsdGVyZWRFc3RhdGVzJykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9LCB0aGlzKTtcclxuICB2YXIgZjtcclxuICBpZiAoY2xpY2tlZEZlYXR1cmUpIHtcclxuICAgIGlmIChjbGlja2VkRmVhdHVyZS5sYXllci5nZXQoJ2lkJykgPT09ICdlc3RhdGVzJyAmJiBjbGlja2VkRmVhdHVyZS5mZWF0dXJlLmdldCgnZmVhdHVyZXMnKS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgZiA9IGNsaWNrZWRGZWF0dXJlLmZlYXR1cmUuZ2V0UHJvcGVydGllcygpLmZlYXR1cmVzWzBdO1xyXG4gICAgICBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaik7XHJcbiAgICB9IGVsc2UgaWYgKGNsaWNrZWRGZWF0dXJlLmxheWVyLmdldCgnaWQnKSA9PT0gJ2ZpbHRlcmVkRXN0YXRlcycpIHtcclxuICAgICAgZiA9IGNsaWNrZWRGZWF0dXJlLmZlYXR1cmU7XHJcbiAgICAgIGNyZWF0ZVBTQWFuZENhcmQoZiwgb2JqKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgUFNBLnNldFNvdXJjZShudWxsKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVBTQWFuZENhcmQoZiwgb2JqKSB7XHJcbiAgdmFyIGZlYXR1cmUgPSB7fTtcclxuICBmZWF0dXJlLmdpZCA9IGYuZ2V0KCdnaWQnKTtcclxuICBmZWF0dXJlLnR5cGUgPSBmLmdldCgnZXN0YXRldHlwZScpO1xyXG4gIGZlYXR1cmUuYXJlYSA9IGYuZ2V0KCdlc3RhdGVhcmVhJyk7XHJcbiAgaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICAgIGZlYXR1cmUuYWRkcmVzcyA9IGYuZ2V0KCdzdHJlZXRfZWwnKSArICcgJyArIGYuZ2V0KCdoX251bV9lbCcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBmZWF0dXJlLmFkZHJlc3MgPSBmLmdldCgnc3RyZWV0X2VuJykgKyAnICcgKyBmLmdldCgnaF9udW1fZW4nKTtcclxuICB9XHJcbiAgZmVhdHVyZS5iZWRyb29tcyA9IGYuZ2V0KCdiZWRyb29tcycpO1xyXG4gIGZlYXR1cmUucHJpY2UgPSBmLmdldCgncHJpY2UnKTtcclxuICBmZWF0dXJlLm5ldyA9IGYuZ2V0KCduZXcnKTtcclxuICBmZWF0dXJlLnBhcmtpbmcgPSBmLmdldCgncGFya2luZycpO1xyXG4gIGZlYXR1cmUuZnVybmlzaGVkID0gZi5nZXQoJ2Z1cm5pc2hlZCcpO1xyXG4gIGZlYXR1cmUucGV0cyA9IGYuZ2V0KCdwZXRzJyk7XHJcbiAgZmVhdHVyZS52aWV3ID0gZi5nZXQoJ3ZpZXcnKTtcclxuICBmZWF0dXJlLmhlYXRpbmcgPSBmLmdldCgnaGVhdGluZycpO1xyXG4gIGZlYXR1cmUuY29vbGluZyA9IGYuZ2V0KCdjb29saW5nJyk7XHJcbiAgaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICAgIGZlYXR1cmUubmFtZSA9IGYuZ2V0KCduYW1lX2VsJyk7XHJcbiAgICBmZWF0dXJlLmxhc3RuYW1lID0gZi5nZXQoJ2xhc3RuYW1lX2VsJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGZlYXR1cmUubmFtZSA9IGYuZ2V0KCduYW1lX2VuJyk7XHJcbiAgICBmZWF0dXJlLmxhc3RuYW1lID0gZi5nZXQoJ2xhc3RuYW1lX2VuJyk7XHJcbiAgfVxyXG4gIGZlYXR1cmUucGhvbmUgPSBmLmdldCgncGhvbmUxJyk7XHJcbiAgZmVhdHVyZS5lbWFpbCA9IGYuZ2V0KCdlbWFpbCcpO1xyXG4gIGZlYXR1cmUuY29vcmRpbmF0ZSA9IGYuZ2V0KCdnZW9tZXRyeScpLmdldENvb3JkaW5hdGVzKCk7XHJcbiAgdmFyIFBTQVNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHtcclxuICAgIGF0dHJpYnV0aW9uczogW25ldyBvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICAgIGh0bWw6ICdQT0kgYnkgJyArICc8YSBocmVmPVwiaHR0cDovL3d3dy50ZXJyYWNvZ25pdGEuZ3IvXCI+VGVycmEgQ29nbml0YTwvYT4nXHJcbiAgICB9KV0sXHJcbiAgICBmb3JtYXQ6IGdlb0pTT05Gb3JtYXQsXHJcbiAgICBsb2FkZXI6IGZ1bmN0aW9uKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xyXG4gICAgICB2YXIgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kYi91c2VzLycgKyBmZWF0dXJlLmdpZDtcclxuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZS5wcm9wZXJ0eV9zZXJ2aWNlc19hbmFseXNpcywge1xyXG4gICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGFyZWEgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMC4xXVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBmZWF0dXJlc1swXS5zZXRTdHlsZShhcmVhKTtcclxuICAgICAgICB0aGF0LmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBzdHJhdGVneTogb2wubG9hZGluZ3N0cmF0ZWd5LmFsbFxyXG4gIH0pO1xyXG4gIFBTQS5zZXRTb3VyY2UoUFNBU291cmNlKTtcclxuICBtYXAuZ2V0VmlldygpLnNldENlbnRlcihmZWF0dXJlLmNvb3JkaW5hdGUpO1xyXG4gIG1hcC5nZXRWaWV3KCkuc2V0UmVzb2x1dGlvbigxLjIpO1xyXG4gIG9iai5mZWF0dXJlID0gZmVhdHVyZTtcclxuICBkdXN0LnJlbmRlcignZXN0YXRlQ2FyZHMuZHVzdCcsIG9iaiwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICQoJy5lc3RhdGUtY2FyZHMnKS5odG1sKG91dCk7XHJcbiAgICAkKCcuZXN0YXRlLWNhcmRzJykucmVtb3ZlQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgfSk7XHJcbiAgJCgnYVtocmVmPVwiI29wZW5Nb2RhbFwiXScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgZHVzdC5yZW5kZXIoJ21vZGFsSW5mby5kdXN0Jywgb2JqLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAkKCcubW9kYWwtY29udGVudCcpLmh0bWwob3V0KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiQoJy5pbmZvJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgUFNBLnNldFNvdXJjZShudWxsKTtcclxuICAgIFxyXG4gIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgbWFwLm9uKCdjbGljaycsIGhhbmRsZUluZm8pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBtYXAudW4oJ2NsaWNrJywgaGFuZGxlSW5mbyk7XHJcbiAgfVxyXG59KTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBnZW9sb2NhdGlvbiA9IG5ldyBvbC5HZW9sb2NhdGlvbih7XHJcbiAgICAvLyB0YWtlIHRoZSBwcm9qZWN0aW9uIHRvIHVzZSBmcm9tIHRoZSBtYXAncyB2aWV3XHJcbiAgICBwcm9qZWN0aW9uOiBtYXAuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKSxcclxuICAgIHRyYWNraW5nT3B0aW9uczoge1xyXG4gICAgICBtYXhpbXVtQWdlOiAxMDAwMCxcclxuICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICB0aW1lb3V0OiA2MDAwMDBcclxuICAgIH1cclxuICB9KTtcclxuICB2YXIgYWNjdXJhY3lGZWF0dXJlID0gbmV3IG9sLkZlYXR1cmUoKTtcclxuICBnZW9sb2NhdGlvbi5vbignY2hhbmdlOmFjY3VyYWN5R2VvbWV0cnknLCBmdW5jdGlvbigpIHtcclxuICAgIGFjY3VyYWN5RmVhdHVyZS5zZXRHZW9tZXRyeShnZW9sb2NhdGlvbi5nZXRBY2N1cmFjeUdlb21ldHJ5KCkpO1xyXG4gIH0pO1xyXG4gIHZhciBwb3NpdGlvbkZlYXR1cmUgPSBuZXcgb2wuRmVhdHVyZSgpO1xyXG4gIHBvc2l0aW9uRmVhdHVyZS5zZXRTdHlsZShuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICByYWRpdXM6IDYsXHJcbiAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICBjb2xvcjogJyMzMzk5Q0MnXHJcbiAgICAgIH0pLFxyXG4gICAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgICAgIGNvbG9yOiAnI2ZmZicsXHJcbiAgICAgICAgd2lkdGg6IDJcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSkpO1xyXG4gIC8vIGxpc3RlbiB0byBjaGFuZ2VzIGluIHBvc2l0aW9uXHJcbiAgZ2VvbG9jYXRpb24ub24oJ2NoYW5nZTpwb3NpdGlvbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNvb3JkaW5hdGVzID0gZ2VvbG9jYXRpb24uZ2V0UG9zaXRpb24oKTtcclxuICAgIHBvc2l0aW9uRmVhdHVyZS5zZXRHZW9tZXRyeShjb29yZGluYXRlcyA/IG5ldyBvbC5nZW9tLlBvaW50KGNvb3JkaW5hdGVzKSA6IG51bGwpO1xyXG4gIH0pO1xyXG4gIGZlYXR1cmVzT3ZlcmxheVNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHt9KTtcclxuICB2YXIgZmVhdHVyZXNPdmVybGF5ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgICBtYXA6IG1hcCxcclxuICAgIHNvdXJjZTogZmVhdHVyZXNPdmVybGF5U291cmNlXHJcbiAgfSk7XHJcbiAgJCgnLmdlb2xvY2F0aW9uJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBnZW9sb2NhdGlvbi5zZXRUcmFja2luZyh0cnVlKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5U291cmNlLmFkZEZlYXR1cmVzKFtwb3NpdGlvbkZlYXR1cmUsYWNjdXJhY3lGZWF0dXJlXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnZW9sb2NhdGlvbi5zZXRUcmFja2luZyhmYWxzZSk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheVNvdXJjZS5jbGVhcigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgdmFyIG1hcmtlciA9IG5ldyBvbC5GZWF0dXJlKCk7XHJcbiAgdmFyIGljb25TdHlsZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oIC8qKiBAdHlwZSB7b2x4LnN0eWxlLkljb25PcHRpb25zfSAqLyAoe1xyXG4gICAgICBhbmNob3I6IFswLjUsIDFdLFxyXG4gICAgICBhbmNob3JYVW5pdHM6ICdmcmFjdGlvbicsXHJcbiAgICAgIGFuY2hvcllVbml0czogJ2ZyYWN0aW9uJyxcclxuICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgc2NhbGU6IDEsXHJcbiAgICAgIHNyYzogJy4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy8yNC9waW4xLnBuZycsXHJcbiAgICAgIHNuYXBUb1BpeGVsOiBmYWxzZVxyXG4gICAgfSkpLFxyXG4gICAgekluZGV4OiAxMDBcclxuICB9KTtcclxuICBtYXJrZXIuc2V0U3R5bGUoaWNvblN0eWxlKTtcclxuICB2YXIgZmVhdHVyZXNPdmVybGF5U3R5bGUgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6ICcjNDA4MDgwJyxcclxuICAgICAgd2lkdGg6IDUsXHJcbiAgICAgIGxpbmVEYXNoOiBbNCwgNF1cclxuICAgIH0pXHJcbiAgfSk7XHJcbiAgdmFyIGZlYXR1cmVzT3ZlcmxheSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gICAgbWFwOiBtYXAsXHJcbiAgICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuVmVjdG9yKCksXHJcbiAgICBzdHlsZTogZmVhdHVyZXNPdmVybGF5U3R5bGUsXHJcbiAgICBpZDogJ3JvdXRlJyxcclxuICAgIG5hbWVFbDogJ86UzrnOsc60z4HOv868zq4nLFxyXG4gICAgTmFtZUVuOiAnUm91dGUnXHJcbiAgfSk7XHJcbiAgdmFyIHJvdXRlQ29vcmRzID0gW107XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZU1hcmtlcihldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBmZWF0dXJlQ291bnQgPSBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuZ2V0RmVhdHVyZXMoKS5sZW5ndGg7XHJcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBldmVudC5jb29yZGluYXRlO1xyXG4gICAgaWYgKGZlYXR1cmVDb3VudCA9PT0gMCkge1xyXG4gICAgICBtYXJrZXIuc2V0R2VvbWV0cnkobmV3IG9sLmdlb20uUG9pbnQoY29vcmRpbmF0ZXMpKTtcclxuICAgICAgbWFya2VyLnNldElkKCdmaXJzdCcpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuYWRkRmVhdHVyZShtYXJrZXIpO1xyXG4gICAgICByb3V0ZUNvb3Jkc1swXSA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICByb3V0ZUNvb3Jkc1sxXSA9IGNvb3JkaW5hdGVzWzFdO1xyXG4gICAgfSBlbHNlIGlmIChmZWF0dXJlQ291bnQgPT09IDEpIHtcclxuICAgICAgdmFyIGNsb25lID0gbWFya2VyLmNsb25lKCk7XHJcbiAgICAgIGNsb25lLnNldEdlb21ldHJ5KG5ldyBvbC5nZW9tLlBvaW50KGNvb3JkaW5hdGVzKSk7XHJcbiAgICAgIGNsb25lLnNldElkKCdzZWNvbmQnKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmFkZEZlYXR1cmUoY2xvbmUpO1xyXG4gICAgICByb3V0ZUNvb3Jkc1syXSA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICByb3V0ZUNvb3Jkc1szXSA9IGNvb3JkaW5hdGVzWzFdO1xyXG4gICAgICBjYWxsUm91dGUocm91dGVDb29yZHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZW9KU09ORm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5HZW9KU09OKHtcclxuICAgIGRlZmF1bHREYXRhUHJvamVjdGlvbjogJ0VQU0c6NDMyNicsXHJcbiAgICBnZW9tZXRyeU5hbWU6ICdnZW9tZXRyeSdcclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gY2FsbFJvdXRlKHJvdXRlQ29vcmRzKSB7XHJcbiAgICB2YXIgZmlyc3QgPSBvbC5wcm9qLnRyYW5zZm9ybShbcm91dGVDb29yZHNbMF0sIHJvdXRlQ29vcmRzWzFdXSwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgIHZhciBzZWNvbmQgPSBvbC5wcm9qLnRyYW5zZm9ybShbcm91dGVDb29yZHNbMl0sIHJvdXRlQ29vcmRzWzNdXSwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgIHZhciB4MSA9IGZpcnN0WzBdO1xyXG4gICAgdmFyIHkxID0gZmlyc3RbMV07XHJcbiAgICB2YXIgeDIgPSBzZWNvbmRbMF07XHJcbiAgICB2YXIgeTIgPSBzZWNvbmRbMV07XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6ICdodHRwczovL2FwaS5tYXBib3guY29tL3Y0L2RpcmVjdGlvbnMvbWFwYm94LmRyaXZpbmcvJyArIHgxICsgJywnICsgeTEgKyAnOycgKyB4MiArICcsJyArIHkyICsgJy5qc29uP2FsdGVybmF0aXZlcz1mYWxzZSZhY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2labWx5ZG1GcGJpSXNJbUVpT2lKbE9XWXlZVE0wTlRoaU5XTTBZakpqT0RKak5ERTRPRFF6TnpBMk1HUXlOaUo5Li1OVkRPMjdIenQtd19uUW9zVVBmTEEnLFxyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJ1xyXG4gICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgIHZhciByb3V0ZT17fTtcclxuICAgICAgcm91dGUudHlwZSA9XCJGZWF0dXJlXCI7XHJcbiAgICAgIHJvdXRlLmdlb21ldHJ5ID0gZGF0YS5yb3V0ZXNbMF0uZ2VvbWV0cnk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5hZGRGZWF0dXJlcyhnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyb3V0ZSwge1xyXG4gICAgICAgIGRhdGFQcm9qZWN0aW9uOiAnRVBTRzo0MzI2JyxcclxuICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogJ0VQU0c6Mzg1NydcclxuICAgICAgfSkpO1xyXG4gICAgICBtYXAuZ2V0VmlldygpLmZpdChmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuZ2V0RXh0ZW50KCksIG1hcC5nZXRTaXplKCkpO1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcclxuICAgIH0pLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJjb21wbGV0ZVwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAkKCcubWFya2VyJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLyogQWN0IG9uIHRoZSBldmVudCAqL1xyXG4gICAgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpID09PSB0cnVlKSB7XHJcbiAgICAgIG1hcC5vbignc2luZ2xlY2xpY2snLCBoYW5kbGVNYXJrZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWFwLnVuKCdzaW5nbGVjbGljaycsIGhhbmRsZU1hcmtlcik7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5jbGVhcigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJCgnLndlYXRoZXInKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IHRydWUpIHtcclxuICAgICAgICBtYXAuZ2V0T3ZlcmxheXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG92bCkge1xyXG4gICAgICAgIGlmIChvdmwuZ2V0KCduYW1lJykgPT09ICd3ZWF0aGVyJykge1xyXG4gICAgICAgICAgKCQob3ZsLmdldEVsZW1lbnQoKSkucGFyZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgJChvdmwuZ2V0RWxlbWVudCgpKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICB2YXIgY2VudGVyID0gb2wucHJvai50cmFuc2Zvcm0obWFwLmdldFZpZXcoKS5nZXRDZW50ZXIoKSwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgICAgdmFyIGxhdCA9IGNlbnRlclsxXTtcclxuICAgICAgdmFyIGxvbiA9IGNlbnRlclswXTtcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6ICdodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9maW5kP2xhdD0nICsgbGF0ICsgJyZsb249JyArIGxvbiArICcmY250PTUmY2x1c3Rlcj1ubyZ1bml0cz1tZXRyaWMmdHlwZT1hY2N1cmF0ZSZBUFBJRD1mOWNkOWZhMmM0MjdjM2IxMTVlODdlNDg2MjYxOWM1YycsXHJcbiAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlV2VhdGhlck92ZXJsYXkocG9zaXRpb24sIGluZGV4KSB7XHJcbiAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3dlYXRoZXItcG9wdXAgZGVmYXVsdC1wcmltYXJ5LWNvbG9yIG1kbC1zaGFkb3ctLTZkcCcpO1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgaW5kZXgpO1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScsICd3ZWF0aGVyJyk7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IG9sLk92ZXJsYXkoe1xyXG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9ianMgPSBkYXRhLmxpc3Q7XHJcbiAgICAgICAgdmFyIG92ZXJsYXksIGNvb3JkaW5hdGVzO1xyXG4gICAgICAgICQuZWFjaChvYmpzLCBmdW5jdGlvbihpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICBjb29yZGluYXRlcyA9IG9sLnByb2oudHJhbnNmb3JtKFt2YWwuY29vcmQubG9uLCB2YWwuY29vcmQubGF0XSwgJ0VQU0c6NDMyNicsICdFUFNHOjM4NTcnKTtcclxuICAgICAgICAgIG92ZXJsYXkgPSBjcmVhdGVXZWF0aGVyT3ZlcmxheShjb29yZGluYXRlcywgaW5kZXgpO1xyXG4gICAgICAgICAgbWFwLmFkZE92ZXJsYXkob3ZlcmxheSk7XHJcbiAgICAgICAgICBvdmVybGF5LnNldCgnbmFtZScsICd3ZWF0aGVyJyk7XHJcbiAgICAgICAgICB3ZWF0aGVyRGF0YSA9IHtcclxuICAgICAgICAgICAgJ25hbWUnOiB2YWwubmFtZSxcclxuICAgICAgICAgICAgJ3RlbXAnOiB2YWwubWFpbi50ZW1wLFxyXG4gICAgICAgICAgICAncHJlc3N1cmUnOiB2YWwubWFpbi5wcmVzc3VyZSxcclxuICAgICAgICAgICAgJ2h1bWlkaXR5JzogdmFsLm1haW4uaHVtaWRpdHlcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBkdXN0LnJlbmRlcignd2VhdGhlclBvcHVwLmR1c3QnLCB3ZWF0aGVyRGF0YSwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICAgICAgICAgJChcIiNcIiArIGluZGV4KS5odG1sKG91dCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyB0b2FzdHIuZXJyb3IoXCLOlM61zr0gzrLPgc6tzrjOt866zrHOvSDPgM67zrfPgc6/z4bOv8+Bzq/Otc+CIM6zzrnOsSDPhM65z4IgzrrOsc65z4HOuc66zq3PgiDPg8+Fzr3OuM6uzrrOtc+CIVwiKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpID09PSBmYWxzZSkge1xyXG4gICAgICBtYXAuZ2V0T3ZlcmxheXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG92bCkge1xyXG4gICAgICAgIGlmIChvdmwuZ2V0KCduYW1lJykgPT09ICd3ZWF0aGVyJykge1xyXG4gICAgICAgICAgKCQob3ZsLmdldEVsZW1lbnQoKSkucGFyZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgJChvdmwuZ2V0RWxlbWVudCgpKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KCkpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
