function createPropertyStyle(e){var t;return t=e.get("sale")===!0?"../images/map-icons/pins/48/pin2.png":"../images/map-icons/pins/48/pin5.png",new ol.style.Style({geometry:e.getGeometry(),image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[0,0],scale:.7})})}function propertyStyleFunction(e,t){var o,r,a=e.get("features").length;return a>1?o=[new ol.style.Style({image:new ol.style.Circle({radius:20,stroke:new ol.style.Stroke({color:[156,39,176,1],width:5}),fill:new ol.style.Fill({color:[68,138,255,.8]})}),text:new ol.style.Text({text:a.toString(),fill:new ol.style.Fill({color:"#FFFFFF"})}),zIndex:101})]:(r=e.get("features")[0],o=[createPropertyStyle(r)]),o}function filteredEsateStyle(e,t){return styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/map-icons/pins/48/pin4.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:.7})})]}function addInteraction(){selectSource.clear(),draw=new ol.interaction.Draw({source:selectSource,type:"LineString",geometryFunction:geometryFunction,maxPoints:2}),draw.on("drawstart",function(){selectSource.clear()}),draw.on("drawend",function(){map.removeInteraction(draw)}),map.addInteraction(draw)}function geometryFunction(e,t){t||(t=new ol.geom.Polygon(null));var o=e[0],r=e[1];return t.setCoordinates([[o,[o[0],r[1]],r,[r[0],o[1]],o]]),t}function handleInfo(e){e.preventDefault(),map.removeInteraction(draw);var t=(e.coordinate,{}),o={};t.title=o,"el"===lang?(o.gid="Κωδικός Ιδιοκτησίας",o.type="Είδος Ιδιοκτησίας",o.listing_type="Τύπος Αγγελίας",o.area="Εμβαδό",o.address="Διευθυνση",o.bedrooms="Υπνοδωμάτια",o.price="Τιμή",o.isnew="Νεόδμητο",o.parking="Στάθμεση",o.furnished="Επιπλωμένο",o.pets="Κατοικίδια",o.view="Θέα",o.heating="Θέρμανση",o.cooling="Ψύξη",o.contactInfo="Στοιχεία Επικοινωνίας",o.name="Όνομα",o.lastname="Επίθετο",o.phone="Τηλέφωνο",o.email="Ηλεκτρονική Διεύθυνση"):(o.gid="Estate Code",o.type="Property Type",o.listing_type="Listing Type",o.area="Size",o.address="Address",o.bedrooms="Bedrooms",o.price="Price",o.isnew="Newly Build",o.parking="Parking",o.furnished="Furnished",o.pets="Pets Allowed",o.view="View",o.heating="Heating",o.cooling="Cooling",o.contactInfo="Contact Info",o.name="Name",o.lastname="Last Name",o.phone="Telephone",o.email="Email"),clickedFeature=map.forEachFeatureAtPixel(e.pixel,function(e,t){return{feature:e,layer:t}},this,function(e){return"estates"===e.get("id")||"filteredEstates"===e.get("id")?!0:void 0},this);var r;clickedFeature?"estates"===clickedFeature.layer.get("id")&&1===clickedFeature.feature.get("features").length?(r=clickedFeature.feature.getProperties().features[0],console.log(r),createPSAandCard(r,t)):"filteredEstates"===clickedFeature.layer.get("id")&&(r=clickedFeature.feature,createPSAandCard(r,t)):PSA.setSource(null)}function createPSAandCard(e,t){var o={};o.gid=e.get("gid"),o.area=e.get("estatearea"),"el"===lang?(o.type=e.get("estatetype"),o.address=e.get("street_el")+" "+e.get("street_number"),o.name=e.get("name_el"),o.lastname=e.get("lastname_el"),e.get("sale")===!0?o.listing_type="Πώληση":o.listing_type="Ενοικίαση",o.btns={info:"πληροφοριες",close:"κλεισιμο"}):(o.type=e.get("estatetype_en"),o.address=e.get("street_en")+" "+e.get("street_number"),o.name=e.get("name_en"),o.lastname=e.get("lastname_en"),e.get("sale")===!0?o.listing_type="Sale":o.listing_type="Rent",o.btns={info:"info",close:"close"}),o.bedrooms=e.get("bedrooms"),o.price=e.get("price"),o.isnew=e.get("isnew"),o.parking=e.get("parking"),o.furnished=e.get("furnished"),o.pets=e.get("pets"),o.view=e.get("view"),o.heating=e.get("heating"),o.cooling=e.get("cooling"),o.phone=e.get("phone1"),o.email=e.get("email"),o.coordinate=e.get("geometry").getCoordinates();var r=new ol.source.Vector({attributions:[new ol.Attribution({html:'POI by <a href="http://www.terracognita.gr/">Terra Cognita</a>'})],format:geoJSONFormat,loader:function(e,t,r){var a="http://localhost:3000/db/uses/"+o.gid,n=this;$.ajax({url:a,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e.property_services_analysis,{featureProjection:"EPSG:3857"}),o=new ol.style.Style({fill:new ol.style.Fill({color:[156,39,176,.1]})});t[0].setStyle(o),n.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.all});PSA.setSource(r),map.getView().setCenter(o.coordinate),map.getView().setResolution(1.2),t.feature=o,dust.render("estateCards",t,function(e,t){$(".estate-cards").html(t),$(".estate-cards").addClass("estate-cards-active")}),$('a[href="#openModal"]').click(function(){dust.render("modalInfo",t,function(e,t){$(".modal-content").html(t)})}),$('a[href="#closeEstateCard"]').click(function(){$(".estate-cards").removeClass("estate-cards-active")})}var center=[3677385,4120949],extent=[3590094,4102833,3855483,4261211],lang=document.documentElement.lang,styleCache={},geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326"}),bing=new ol.layer.Tile({visible:!0,source:new ol.source.BingMaps({key:"Ak2Gq8VUfICsPpuf7LRANXmXt2sHWmSLPhohmVLFtFIEwYjs_5MCyAhAFwRSVpLj",imagerySet:"Aerial"}),maxZoom:19,crossOrigin:"anonymous",preload:1/0,id:"bing"}),mapbox=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'<a href="https://www.mapbox.com/about/maps/" target="_blank">&copy; Mapbox &copy; OpenStreetMap</a>'})],url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA"}),id:"mapbox"}),propertySource=new ol.source.Vector({format:geoJSONFormat,loader:function(e,t,o){console.log(t);var r=ol.proj.transformExtent(e,"EPSG:3857","EPSG:4326"),a="http://localhost:3000/db/property?bbox[x1]="+r[0]+"&bbox[y1]="+r[1]+"&bbox[x2]="+r[2]+"&bbox[y2]="+r[3],n=this;this.clear(),console.log(e),$.ajax({url:a,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});n.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.bbox}),propertyClusterSource=new ol.source.Cluster({distance:40,source:propertySource,attributions:[new ol.Attribution({html:'All maps © <a href="http://www.terracognita.gr/">Terra Cognita</a>'})]}),property=new ol.layer.Vector({source:propertyClusterSource,id:"estates",visible:!0,style:propertyStyleFunction});property.setZIndex(2);var PSAStyleFunction=function(e,t){var o,r=e.get("style");return o="el"===lang?e.get("name_el"):e.get("name_en"),styleCache[r]||(styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/maki/renders/"+r+"-24.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:1}),text:new ol.style.Text({text:o,stroke:new ol.style.Stroke({color:[156,39,176,.8],width:1}),offsetY:12})})]),styleCache},PSA=new ol.layer.Vector({style:PSAStyleFunction,maxResolution:3});PSA.setZIndex(1);var filteredEstates=new ol.layer.Vector({source:new ol.source.Vector({format:geoJSONFormat}),id:"filteredEstates",visible:!0,style:filteredEsateStyle});filteredEstates.setZIndex(2);var selectSource=new ol.source.Vector({}),selectBox=new ol.layer.Vector({source:selectSource,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(227, 72, 27, 0.2)"}),stroke:new ol.style.Stroke({color:"#E3481B",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#E3481B"})})})});selectBox.setZIndex(3);var map=new ol.Map({target:"map",layers:[mapbox,property,PSA,filteredEstates,selectBox],loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",controls:ol.control.defaults({attributionOptions:{collapsible:!1,collapsed:!1}}).extend([new ol.control.ScaleLine({units:"metric"}),new ol.control.OverviewMap({className:"ol-overviewmap ol-custom-overviewmap",collapsible:!0,collapsed:!0,layers:[bing]}),new ol.control.ZoomToExtent({extent:extent})]),view:new ol.View({center:center,projection:"EPSG:3857",zoom:14,maxZoom:19,minZoom:10})});"el"===lang?(bing.set("name","Δορυφορική εικόνα"),mapbox.set("name","Χάρτης"),property.set("name","Ακίνητα")):(bing.set("name","Sattelite Image"),mapbox.set("name","Map"),property.set("name","Properties")),jQuery(document).ready(function(e){e(".spinner").addClass("visuallyhidden"),e(".mdl-spinner").removeClass("is-active")}),window.app||(window.app={});var app=window.app;app.filters=function(e){this.estateType=e.estateType,this.leaseType=void 0!==e.leaseType?e.leaseType:"Rent",this.startPrice=void 0!==e.startPrice?e.startPrice:0,this.endPrice=void 0!==e.endPrice?e.endPrice:2147483647,this.parking=void 0!==e.parking?e.parking:!1,this.furnished=void 0!==e.furnished?e.furnished:!1,this.heating=void 0!==e.heating?e.heating:!1,this.cooling=void 0!==e.cooling?e.cooling:!1,this.view=void 0!==e.view?e.view:!1},app.filters.prototype.createValidator=function(){var e=$("form[name=filters]").parsley();return e},app.filters.prototype.setDefaults=function(){var e;PSA.setSource(null),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},e=0===selectSource.getFeatures().length?ol.proj.transformExtent(extent,"EPSG:3857","EPSG:4326"):ol.proj.transformExtent(selectSource.getFeatures()[0].getGeometry().getExtent(),"EPSG:3857","EPSG:4326"),this.extent=e,this.p=this.createValidator()},app.filters.prototype.ajaxCall=function(){console.log(this.estateType),this.p.validate()===!0&&$.ajax({url:"http://localhost:3000/db/filteredproperty?bbox[x1]="+this.extent[0]+"&bbox[y1]="+this.extent[1]+"&bbox[x2]="+this.extent[2]+"&bbox[y2]="+this.extent[3],type:"GET",dataType:"json",data:{estateType:this.estateType,leaseType:this.leaseType,furnished:this.furnished,heating:this.heating,parking:this.parking,cooling:this.cooling,view:this.view,startPrice:this.startPrice,endPrice:this.endPrice}}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});if(t.length>0){toastr.clear(),filteredEstates.getSource().clear(),filteredEstates.getSource().addFeatures(t),filteredEstates.setVisible(!0),property.setVisible(!1);filteredEstates.getSource().getExtent()}else toastr.error("No Info Found!"),filteredEstates.setVisible(!1),property.setVisible(!0)})},$("#invokeFilters").click(function(){var e,t={};t.estateType=$("#estateType").val(),t.leaseType=$("input[name=options]:checked").val(),t.startPrice=$("#startPrice").val(),t.endPrice=$("#endPrice").val(),t.parking=$("#checkbox-1").prop("checked"),t.furnished=$("#checkbox-2").prop("checked"),t.heating=$("#checkbox-3").prop("checked"),t.cooling=$("#checkbox-4").prop("checked"),t.view=$("#checkbox-5").prop("checked"),e=new app.filters(t),e.setDefaults(),e.ajaxCall()}),$("#clearFilters").click(function(){$("label[for=option-1]").addClass("is-checked"),$("label[for=option-2]").removeClass("is-checked"),$("label[for=checkbox-1]").removeClass("is-checked"),$("label[for=checkbox-2]").removeClass("is-checked"),$("label[for=checkbox-3]").removeClass("is-checked"),$("label[for=checkbox-4]").removeClass("is-checked"),$("label[for=checkbox-5]").removeClass("is-checked"),$("label[for=checkbox-6]").removeClass("is-checked"),filteredEstates.getSource().clear(),property.setVisible(!0),PSA.setSource(null),selectSource.clear(),map.removeInteraction(draw)});var draw;$("#checkbox-6").click(function(){this.checked?addInteraction():(map.removeInteraction(draw),selectSource.clear())}),function(){var e=new ol.Geolocation({projection:map.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),t=new ol.Feature;e.on("change:accuracyGeometry",function(){t.setGeometry(e.getAccuracyGeometry())});var o=new ol.Feature;o.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#3399CC"}),stroke:new ol.style.Stroke({color:"#fff",width:2})})})),e.on("change:position",function(){var t=e.getPosition();o.setGeometry(t?new ol.geom.Point(t):null)}),featuresOverlaySource=new ol.source.Vector({});new ol.layer.Vector({map:map,source:featuresOverlaySource});$(".geolocation").on("change",function(r){r.preventDefault(),$(this).prop("checked")===!0?(e.setTracking(!0),featuresOverlaySource.addFeatures([o,t])):(e.setTracking(!1),featuresOverlaySource.clear())})}(),$(".info").on("change",function(e){e.preventDefault(),PSA.setSource(null),$(this).prop("checked")===!0?map.on("click",handleInfo):map.un("click",handleInfo)}),function(){function e(e){e.preventDefault();var r=n.getSource().getFeatures().length,a=e.coordinate;if(0===r)o.setGeometry(new ol.geom.Point(a)),o.setId("first"),n.getSource().addFeature(o),i[0]=a[0],i[1]=a[1];else if(1===r){var l=o.clone();l.setGeometry(new ol.geom.Point(a)),l.setId("second"),n.getSource().addFeature(l),i[2]=a[0],i[3]=a[1],t(i)}else n.getSource().clear()}function t(e){var t=ol.proj.transform([e[0],e[1]],"EPSG:3857","EPSG:4326"),o=ol.proj.transform([e[2],e[3]],"EPSG:3857","EPSG:4326"),r=t[0],a=t[1],i=o[0],l=o[1];$.ajax({url:"https://api.mapbox.com/v4/directions/mapbox.driving/"+r+","+a+";"+i+","+l+".json?alternatives=false&access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA",type:"GET",dataType:"json"}).done(function(e){var t={};t.type="Feature",t.geometry=e.routes[0].geometry,n.getSource().addFeatures(geoJSONFormat.readFeatures(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})),map.getView().fit(n.getSource().getExtent(),map.getSize())}).fail(function(){}).always(function(){})}var o=new ol.Feature,r=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,scale:1,src:"../images/map-icons/pins/24/pin1.png",snapToPixel:!1}),zIndex:100});o.setStyle(r);var a=new ol.style.Style({stroke:new ol.style.Stroke({color:"#408080",width:5,lineDash:[4,4]})}),n=new ol.layer.Vector({map:map,source:new ol.source.Vector,style:a,id:"route",nameEl:"Διαδρομή",NameEn:"Route"}),i=[];geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326",geometryName:"geometry"}),$(".marker").on("change",function(t){t.preventDefault(),$(this).prop("checked")===!0?map.on("singleclick",e):(map.un("singleclick",e),n.getSource().clear())})}(),function(){$(".weather").change(function(){if($(this).prop("checked")===!0){map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())});var e=ol.proj.transform(map.getView().getCenter(),"EPSG:3857","EPSG:4326"),t=e[1],o=e[0];$.ajax({url:"http://api.openweathermap.org/data/2.5/find?lat="+t+"&lon="+o+"&cnt=5&cluster=no&units=metric&type=accurate&APPID=f9cd9fa2c427c3b115e87e4862619c5c",type:"GET",dataType:"json"}).done(function(e){function t(e,t){var o=document.createElement("div");return o.setAttribute("class","weather-popup default-primary-color mdl-shadow--6dp"),o.setAttribute("id",t),o.setAttribute("data-name","weather"),new ol.Overlay({element:o,position:e})}var o,r,a=e.list;$.each(a,function(e,a){r=ol.proj.transform([a.coord.lon,a.coord.lat],"EPSG:4326","EPSG:3857"),o=t(r,e),map.addOverlay(o),o.set("name","weather"),weatherData={name:a.name,temp:a.main.temp,pressure:a.main.pressure,humidity:a.main.humidity},dust.render("weatherPopup",weatherData,function(t,o){$("#"+e).html(o)})})}).fail(function(){})}else $(this).prop("checked")===!1&&map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyIsImZpbHRlcnMuanMiLCJpbmZvLmpzIiwiZ2VvbG9jYXRpb24uanMiLCJyb3V0aW5nLmpzIiwid2VhdGhlci5qcyJdLCJuYW1lcyI6WyJjcmVhdGVQcm9wZXJ0eVN0eWxlIiwiZmVhdHVyZSIsInNyYyIsImdldCIsIm9sIiwic3R5bGUiLCJTdHlsZSIsImdlb21ldHJ5IiwiZ2V0R2VvbWV0cnkiLCJpbWFnZSIsIkljb24iLCJhbmNob3JPcmlnaW4iLCJhbmNob3IiLCJzY2FsZSIsInByb3BlcnR5U3R5bGVGdW5jdGlvbiIsInJlc29sdXRpb24iLCJvcmlnaW5hbEZlYXR1cmUiLCJzaXplIiwibGVuZ3RoIiwiQ2lyY2xlIiwicmFkaXVzIiwic3Ryb2tlIiwiU3Ryb2tlIiwiY29sb3IiLCJ3aWR0aCIsImZpbGwiLCJGaWxsIiwidGV4dCIsIlRleHQiLCJ0b1N0cmluZyIsInpJbmRleCIsImZpbHRlcmVkRXNhdGVTdHlsZSIsInN0eWxlQ2FjaGUiLCJhZGRJbnRlcmFjdGlvbiIsInNlbGVjdFNvdXJjZSIsImNsZWFyIiwiZHJhdyIsImludGVyYWN0aW9uIiwiRHJhdyIsInNvdXJjZSIsInR5cGUiLCJnZW9tZXRyeUZ1bmN0aW9uIiwibWF4UG9pbnRzIiwib24iLCJtYXAiLCJyZW1vdmVJbnRlcmFjdGlvbiIsImNvb3JkaW5hdGVzIiwiZ2VvbSIsIlBvbHlnb24iLCJzdGFydCIsImVuZCIsInNldENvb3JkaW5hdGVzIiwiaGFuZGxlSW5mbyIsImV2dCIsInByZXZlbnREZWZhdWx0Iiwib2JqIiwiY29vcmRpbmF0ZSIsInRpdGxlIiwibGFuZyIsImdpZCIsImxpc3RpbmdfdHlwZSIsImFyZWEiLCJhZGRyZXNzIiwiYmVkcm9vbXMiLCJwcmljZSIsImlzbmV3IiwicGFya2luZyIsImZ1cm5pc2hlZCIsInBldHMiLCJ2aWV3IiwiaGVhdGluZyIsImNvb2xpbmciLCJjb250YWN0SW5mbyIsIm5hbWUiLCJsYXN0bmFtZSIsInBob25lIiwiZW1haWwiLCJjbGlja2VkRmVhdHVyZSIsImZvckVhY2hGZWF0dXJlQXRQaXhlbCIsInBpeGVsIiwibGF5ZXIiLCJ0aGlzIiwiZiIsImdldFByb3BlcnRpZXMiLCJmZWF0dXJlcyIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVQU0FhbmRDYXJkIiwiUFNBIiwic2V0U291cmNlIiwiYnRucyIsImluZm8iLCJjbG9zZSIsImdldENvb3JkaW5hdGVzIiwiUFNBU291cmNlIiwiVmVjdG9yIiwiYXR0cmlidXRpb25zIiwiQXR0cmlidXRpb24iLCJodG1sIiwiZm9ybWF0IiwiZ2VvSlNPTkZvcm1hdCIsImxvYWRlciIsImV4dGVudCIsInByb2plY3Rpb24iLCJ1cmwiLCJzZWxmIiwiJCIsImFqYXgiLCJkYXRhVHlwZSIsImRvbmUiLCJyZXNwb25zZSIsInJlYWRGZWF0dXJlcyIsInByb3BlcnR5X3NlcnZpY2VzX2FuYWx5c2lzIiwiZmVhdHVyZVByb2plY3Rpb24iLCJzZXRTdHlsZSIsImFkZEZlYXR1cmVzIiwiZmFpbCIsInN0cmF0ZWd5IiwibG9hZGluZ3N0cmF0ZWd5IiwiYWxsIiwiZ2V0VmlldyIsInNldENlbnRlciIsInNldFJlc29sdXRpb24iLCJkdXN0IiwicmVuZGVyIiwiZXJyIiwib3V0IiwiYWRkQ2xhc3MiLCJjbGljayIsInJlbW92ZUNsYXNzIiwiY2VudGVyIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJHZW9KU09OIiwiZGVmYXVsdERhdGFQcm9qZWN0aW9uIiwiYmluZyIsIlRpbGUiLCJ2aXNpYmxlIiwiQmluZ01hcHMiLCJrZXkiLCJpbWFnZXJ5U2V0IiwibWF4Wm9vbSIsImNyb3NzT3JpZ2luIiwicHJlbG9hZCIsIkluZmluaXR5IiwiaWQiLCJtYXBib3giLCJYWVoiLCJwcm9wZXJ0eVNvdXJjZSIsImVwc2c0MzI2RXh0ZW50IiwicHJvaiIsInRyYW5zZm9ybUV4dGVudCIsImJib3giLCJwcm9wZXJ0eUNsdXN0ZXJTb3VyY2UiLCJDbHVzdGVyIiwiZGlzdGFuY2UiLCJwcm9wZXJ0eSIsInNldFpJbmRleCIsIlBTQVN0eWxlRnVuY3Rpb24iLCJzeW1ib2wiLCJvZmZzZXRZIiwibWF4UmVzb2x1dGlvbiIsImZpbHRlcmVkRXN0YXRlcyIsInNlbGVjdEJveCIsIk1hcCIsInRhcmdldCIsImxheWVycyIsImxvYWRUaWxlc1doaWxlQW5pbWF0aW5nIiwibG9hZFRpbGVzV2hpbGVJbnRlcmFjdGluZyIsInJlbmRlcmVyIiwiY29udHJvbHMiLCJjb250cm9sIiwiZGVmYXVsdHMiLCJhdHRyaWJ1dGlvbk9wdGlvbnMiLCJjb2xsYXBzaWJsZSIsImNvbGxhcHNlZCIsImV4dGVuZCIsIlNjYWxlTGluZSIsInVuaXRzIiwiT3ZlcnZpZXdNYXAiLCJjbGFzc05hbWUiLCJab29tVG9FeHRlbnQiLCJWaWV3Iiwiem9vbSIsIm1pblpvb20iLCJzZXQiLCJqUXVlcnkiLCJyZWFkeSIsIndpbmRvdyIsImFwcCIsImZpbHRlcnMiLCJvcHRpb25zIiwiZXN0YXRlVHlwZSIsImxlYXNlVHlwZSIsInVuZGVmaW5lZCIsInN0YXJ0UHJpY2UiLCJlbmRQcmljZSIsInByb3RvdHlwZSIsImNyZWF0ZVZhbGlkYXRvciIsInAiLCJwYXJzbGV5Iiwic2V0RGVmYXVsdHMiLCJ0b2FzdHIiLCJjbG9zZUJ1dHRvbiIsImRlYnVnIiwibmV3ZXN0T25Ub3AiLCJwcm9ncmVzc0JhciIsInBvc2l0aW9uQ2xhc3MiLCJwcmV2ZW50RHVwbGljYXRlcyIsIm9uY2xpY2siLCJzaG93RHVyYXRpb24iLCJoaWRlRHVyYXRpb24iLCJ0aW1lT3V0IiwiZXh0ZW5kZWRUaW1lT3V0Iiwic2hvd0Vhc2luZyIsImhpZGVFYXNpbmciLCJzaG93TWV0aG9kIiwiaGlkZU1ldGhvZCIsImdldEZlYXR1cmVzIiwiZ2V0RXh0ZW50IiwiYWpheENhbGwiLCJ2YWxpZGF0ZSIsImRhdGEiLCJnZXRTb3VyY2UiLCJzZXRWaXNpYmxlIiwiZXJyb3IiLCJ2YWwiLCJwcm9wIiwiY2hlY2tlZCIsImdlb2xvY2F0aW9uIiwiR2VvbG9jYXRpb24iLCJnZXRQcm9qZWN0aW9uIiwidHJhY2tpbmdPcHRpb25zIiwibWF4aW11bUFnZSIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsInRpbWVvdXQiLCJhY2N1cmFjeUZlYXR1cmUiLCJGZWF0dXJlIiwic2V0R2VvbWV0cnkiLCJnZXRBY2N1cmFjeUdlb21ldHJ5IiwicG9zaXRpb25GZWF0dXJlIiwiZ2V0UG9zaXRpb24iLCJQb2ludCIsImZlYXR1cmVzT3ZlcmxheVNvdXJjZSIsImUiLCJzZXRUcmFja2luZyIsInVuIiwiaGFuZGxlTWFya2VyIiwiZXZlbnQiLCJmZWF0dXJlQ291bnQiLCJmZWF0dXJlc092ZXJsYXkiLCJtYXJrZXIiLCJzZXRJZCIsImFkZEZlYXR1cmUiLCJyb3V0ZUNvb3JkcyIsImNsb25lIiwiY2FsbFJvdXRlIiwiZmlyc3QiLCJ0cmFuc2Zvcm0iLCJzZWNvbmQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInJvdXRlIiwicm91dGVzIiwiZGF0YVByb2plY3Rpb24iLCJmaXQiLCJnZXRTaXplIiwiYWx3YXlzIiwiaWNvblN0eWxlIiwiYW5jaG9yWFVuaXRzIiwiYW5jaG9yWVVuaXRzIiwib3BhY2l0eSIsInNuYXBUb1BpeGVsIiwiZmVhdHVyZXNPdmVybGF5U3R5bGUiLCJsaW5lRGFzaCIsIm5hbWVFbCIsIk5hbWVFbiIsImdlb21ldHJ5TmFtZSIsImNoYW5nZSIsImdldE92ZXJsYXlzIiwiZm9yRWFjaCIsIm92bCIsImdldEVsZW1lbnQiLCJwYXJlbnQiLCJyZW1vdmUiLCJnZXRDZW50ZXIiLCJsYXQiLCJsb24iLCJjcmVhdGVXZWF0aGVyT3ZlcmxheSIsInBvc2l0aW9uIiwiaW5kZXgiLCJlbGVtIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsIk92ZXJsYXkiLCJlbGVtZW50Iiwib3ZlcmxheSIsIm9ianMiLCJsaXN0IiwiZWFjaCIsImNvb3JkIiwiYWRkT3ZlcmxheSIsIndlYXRoZXJEYXRhIiwidGVtcCIsIm1haW4iLCJwcmVzc3VyZSIsImh1bWlkaXR5Il0sIm1hcHBpbmdzIjoiQUE0QkEsUUFBQUEscUJBQUFD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LGFBQ0F2TyxLQUFBeUosRUFBQXpKLEtBQ0F3TyxLQUFBL0UsRUFBQWdGLEtBQUFELEtBQ0FFLFNBQUFqRixFQUFBZ0YsS0FBQUMsU0FDQUMsU0FBQWxGLEVBQUFnRixLQUFBRSxVQUVBekwsS0FBQUMsT0FBQSxlQUFBb0wsWUFBQSxTQUFBbkwsRUFBQUMsR0FDQXBCLEVBQUEsSUFBQTBMLEdBQUFsTSxLQUFBNEIsU0FHQVYsS0FBQSxrQkFHQVYsR0FBQXpCLE1BQUFrSixLQUFBLGNBQUEsR0FDQXZMLElBQUE2TyxjQUFBQyxRQUFBLFNBQUFDLEdBQ0EsWUFBQUEsRUFBQXhSLElBQUEsVUFDQXVHLEVBQUFpTCxFQUFBQyxjQUFBQyxTQUFBQyxTQUNBcEwsRUFBQWlMLEVBQUFDLGNBQUFFIiwiZmlsZSI6Im1hcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2VudGVyID0gWzM2NzczODUsIDQxMjA5NDldLFxyXG4gICAgZXh0ZW50ID0gWzM1OTAwOTQsIDQxMDI4MzMsIDM4NTU0ODMsIDQyNjEyMTFdLFxyXG4gICAgbGFuZyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nLFxyXG4gICAgc3R5bGVDYWNoZSA9IHt9LFxyXG4gICAgZ2VvSlNPTkZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuR2VvSlNPTih7XHJcbiAgICAgIGRlZmF1bHREYXRhUHJvamVjdGlvbjogJ0VQU0c6NDMyNidcclxuICAgIH0pO1xyXG52YXIgYmluZyA9IG5ldyBvbC5sYXllci5UaWxlKHtcclxuICB2aXNpYmxlOiB0cnVlLFxyXG4gIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5CaW5nTWFwcyh7XHJcbiAgICBrZXk6ICdBazJHcThWVWZJQ3NQcHVmN0xSQU5YbVh0MnNIV21TTFBob2htVkxGdEZJRXdZanNfNU1DeUFoQUZ3UlNWcExqJyxcclxuICAgIGltYWdlcnlTZXQ6ICdBZXJpYWwnXHJcbiAgfSksXHJcbiAgbWF4Wm9vbTogMTksXHJcbiAgY3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnLFxyXG4gIHByZWxvYWQ6IEluZmluaXR5LFxyXG4gIGlkOiAnYmluZydcclxufSk7XHJcbnZhciBtYXBib3ggPSBuZXcgb2wubGF5ZXIuVGlsZSh7XHJcbiAgc291cmNlOiBuZXcgb2wuc291cmNlLlhZWih7XHJcbiAgICBhdHRyaWJ1dGlvbnM6IFtuZXcgb2wuQXR0cmlidXRpb24oe1xyXG4gICAgICBodG1sOiAnPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYWJvdXQvbWFwcy9cIiB0YXJnZXQ9XCJfYmxhbmtcIj4mY29weTsgTWFwYm94ICZjb3B5OyBPcGVuU3RyZWV0TWFwPC9hPidcclxuICAgIH0pXSxcclxuICAgIHVybDogJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vdjQvbWFwYm94LnN0cmVldHMve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj1way5leUoxSWpvaVptbHlkbUZwYmlJc0ltRWlPaUpsT1dZeVlUTTBOVGhpTldNMFlqSmpPREpqTkRFNE9EUXpOekEyTUdReU5pSjkuLU5WRE8yN0h6dC13X25Rb3NVUGZMQSdcclxuICB9KSxcclxuICBpZDogJ21hcGJveCdcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eVN0eWxlKGZlYXR1cmUpIHtcclxuICB2YXIgc3JjO1xyXG4gIGlmIChmZWF0dXJlLmdldCgnc2FsZScpID09PSB0cnVlKSB7XHJcbiAgICBzcmMgPSAnLi4vaW1hZ2VzL21hcC1pY29ucy9waW5zLzQ4L3BpbjIucG5nJztcclxuICB9IGVsc2Uge1xyXG4gICAgc3JjID0gJy4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy80OC9waW41LnBuZyc7XHJcbiAgfVxyXG4gIHJldHVybiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgZ2VvbWV0cnk6IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKSxcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xyXG4gICAgICBzcmM6IHNyYyxcclxuICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICBhbmNob3I6IFswLCAwXSxcclxuICAgICAgc2NhbGU6IDAuN1xyXG4gICAgfSkpXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb3BlcnR5U3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgdmFyIHNpemUgPSBmZWF0dXJlLmdldCgnZmVhdHVyZXMnKVxyXG4gICAgLmxlbmd0aDtcclxuICB2YXIgc3R5bGUsIG9yaWdpbmFsRmVhdHVyZTtcclxuICBpZiAoc2l6ZSA+IDEpIHtcclxuICAgIHN0eWxlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcclxuICAgICAgICByYWRpdXM6IDIwLFxyXG4gICAgICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMV0sXHJcbiAgICAgICAgICB3aWR0aDogNVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICAgIGNvbG9yOiBbNjgsIDEzOCwgMjU1LCAwLjhdXHJcbiAgICAgICAgfSlcclxuICAgICAgfSksXHJcbiAgICAgIHRleHQ6IG5ldyBvbC5zdHlsZS5UZXh0KHtcclxuICAgICAgICB0ZXh0OiBzaXplLnRvU3RyaW5nKCksXHJcbiAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgY29sb3I6ICcjRkZGRkZGJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pLFxyXG4gICAgICB6SW5kZXg6IDEwMVxyXG4gICAgfSldO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvcmlnaW5hbEZlYXR1cmUgPSBmZWF0dXJlLmdldCgnZmVhdHVyZXMnKVswXTtcclxuICAgIHN0eWxlID0gW2NyZWF0ZVByb3BlcnR5U3R5bGUob3JpZ2luYWxGZWF0dXJlKV07XHJcbiAgfVxyXG4gIHJldHVybiBzdHlsZTtcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gc2VsZWN0U3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbi8vICAgdmFyIHN0eWxlcyA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe30pXTtcclxuLy8gICB2YXIgb3JpZ2luYWxGZWF0dXJlcyA9IGZlYXR1cmUuZ2V0KCdmZWF0dXJlcycpO1xyXG4vLyAgIHZhciBvcmlnaW5hRmVhdHVyZTtcclxuLy8gICBmb3IgKHZhciBpID0gb3JpZ2luYWxGZWF0dXJlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG4vLyAgICAgb3JpZ2luYWxGZWF0dXJlID0gb3JpZ2luYWxGZWF0dXJlc1tpXTtcclxuLy8gICAgIHN0eWxlcy5wdXNoKGNyZWF0ZVByb3BlcnR5U3R5bGUob3JpZ2luYWxGZWF0dXJlKSk7XHJcbi8vICAgfVxyXG4vLyAgIHJldHVybiBzdHlsZXM7XHJcbi8vIH1cclxudmFyIHByb3BlcnR5U291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe1xyXG4gIGZvcm1hdDogZ2VvSlNPTkZvcm1hdCxcclxuICBsb2FkZXI6IGZ1bmN0aW9uKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xyXG4gICAgY29uc29sZS5sb2cocmVzb2x1dGlvbik7XHJcbiAgICB2YXIgZXBzZzQzMjZFeHRlbnQgPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChleHRlbnQsICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgICB2YXIgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kYi9wcm9wZXJ0eT9iYm94W3gxXT0nICsgZXBzZzQzMjZFeHRlbnRbMF0gKyAnJmJib3hbeTFdPScgKyBlcHNnNDMyNkV4dGVudFsxXSArICcmYmJveFt4Ml09JyArIGVwc2c0MzI2RXh0ZW50WzJdICsgJyZiYm94W3kyXT0nICsgZXBzZzQzMjZFeHRlbnRbM107XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICBjb25zb2xlLmxvZyhleHRlbnQpO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgdXJsOiB1cmwsXHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICB9KVxyXG4gICAgICAuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIHZhciBmZWF0dXJlcyA9IGdlb0pTT05Gb3JtYXQucmVhZEZlYXR1cmVzKHJlc3BvbnNlLCB7XHJcbiAgICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogJ0VQU0c6Mzg1NydcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxmLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgfSlcclxuICAgICAgLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbiAgc3RyYXRlZ3k6IG9sLmxvYWRpbmdzdHJhdGVneS5iYm94XHJcbn0pO1xyXG52YXIgcHJvcGVydHlDbHVzdGVyU291cmNlID0gbmV3IG9sLnNvdXJjZS5DbHVzdGVyKHtcclxuICBkaXN0YW5jZTogNDAsXHJcbiAgc291cmNlOiBwcm9wZXJ0eVNvdXJjZSxcclxuICBhdHRyaWJ1dGlvbnM6IFtuZXcgb2wuQXR0cmlidXRpb24oe1xyXG4gICAgaHRtbDogJ0FsbCBtYXBzIMKpICcgKyAnPGEgaHJlZj1cImh0dHA6Ly93d3cudGVycmFjb2duaXRhLmdyL1wiPlRlcnJhIENvZ25pdGE8L2E+J1xyXG4gIH0pXVxyXG59KTtcclxudmFyIHByb3BlcnR5ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc291cmNlOiBwcm9wZXJ0eUNsdXN0ZXJTb3VyY2UsXHJcbiAgaWQ6ICdlc3RhdGVzJyxcclxuICB2aXNpYmxlOiB0cnVlLFxyXG4gIHN0eWxlOiBwcm9wZXJ0eVN0eWxlRnVuY3Rpb25cclxufSk7XHJcbnByb3BlcnR5LnNldFpJbmRleCgyKTtcclxudmFyIFBTQVN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgdmFyIHN5bWJvbCA9IGZlYXR1cmUuZ2V0KCdzdHlsZScpO1xyXG4gIHZhciB0ZXh0O1xyXG4gIGlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgICB0ZXh0ID0gZmVhdHVyZS5nZXQoJ25hbWVfZWwnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGV4dCA9IGZlYXR1cmUuZ2V0KCduYW1lX2VuJyk7XHJcbiAgfVxyXG4gIGlmICghc3R5bGVDYWNoZVtzeW1ib2xdKSB7XHJcbiAgICBzdHlsZUNhY2hlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xyXG4gICAgICAgIHNyYzogJy4uL2ltYWdlcy9tYWtpL3JlbmRlcnMvJyArIHN5bWJvbCArICctMjQucG5nJyxcclxuICAgICAgICBhbmNob3JPcmlnaW46ICdib3R0b20tbGVmdCcsXHJcbiAgICAgICAgYW5jaG9yOiBbMC41LCAwLjVdLFxyXG4gICAgICAgIHNjYWxlOiAxXHJcbiAgICAgIH0pKSxcclxuICAgICAgdGV4dDogbmV3IG9sLnN0eWxlLlRleHQoe1xyXG4gICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgICAgIGNvbG9yOiBbMTU2LCAzOSwgMTc2LCAwLjhdLFxyXG4gICAgICAgICAgd2lkdGg6IDFcclxuICAgICAgICB9KSxcclxuICAgICAgICBvZmZzZXRZOiAxMlxyXG4gICAgICB9KVxyXG4gICAgfSldO1xyXG4gIH1cclxuICByZXR1cm4gc3R5bGVDYWNoZTtcclxufTtcclxudmFyIFBTQSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gIHN0eWxlOiBQU0FTdHlsZUZ1bmN0aW9uLFxyXG4gIG1heFJlc29sdXRpb246IDNcclxufSk7XHJcblBTQS5zZXRaSW5kZXgoMSk7XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJlZEVzYXRlU3R5bGUoZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gIHN0eWxlQ2FjaGUgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xyXG4gICAgICBzcmM6ICcuLi9pbWFnZXMvbWFwLWljb25zL3BpbnMvNDgvcGluNC5wbmcnLFxyXG4gICAgICBhbmNob3JPcmlnaW46ICdib3R0b20tbGVmdCcsXHJcbiAgICAgIGFuY2hvcjogWzAuNSwgMC41XSxcclxuICAgICAgc2NhbGU6IDAuN1xyXG4gICAgfSkpXHJcbiAgfSldO1xyXG4gIHJldHVybiBzdHlsZUNhY2hlO1xyXG59XHJcbnZhciBmaWx0ZXJlZEVzdGF0ZXMgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHtcclxuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHtcclxuICAgIGZvcm1hdDogZ2VvSlNPTkZvcm1hdFxyXG4gIH0pLFxyXG4gIGlkOiAnZmlsdGVyZWRFc3RhdGVzJyxcclxuICB2aXNpYmxlOiB0cnVlLFxyXG4gIHN0eWxlOiBmaWx0ZXJlZEVzYXRlU3R5bGVcclxufSk7XHJcbmZpbHRlcmVkRXN0YXRlcy5zZXRaSW5kZXgoMik7XHJcbnZhciBzZWxlY3RTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7fSk7XHJcbnZhciBzZWxlY3RCb3ggPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHtcclxuICBzb3VyY2U6IHNlbGVjdFNvdXJjZSxcclxuICBzdHlsZTogbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgY29sb3I6ICdyZ2JhKDIyNywgNzIsIDI3LCAwLjIpJ1xyXG4gICAgfSksXHJcbiAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgICBjb2xvcjogJyNFMzQ4MUInLFxyXG4gICAgICB3aWR0aDogMlxyXG4gICAgfSksXHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkNpcmNsZSh7XHJcbiAgICAgIHJhZGl1czogNyxcclxuICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgIGNvbG9yOiAnI0UzNDgxQidcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSlcclxufSk7XHJcbnNlbGVjdEJveC5zZXRaSW5kZXgoMyk7XHJcbnZhciBtYXAgPSBuZXcgb2wuTWFwKHtcclxuICB0YXJnZXQ6ICdtYXAnLFxyXG4gIGxheWVyczogW21hcGJveCwgcHJvcGVydHksIFBTQSwgZmlsdGVyZWRFc3RhdGVzLCBzZWxlY3RCb3hdLFxyXG4gIC8vIGludGVyYWN0aW9uczogb2wuaW50ZXJhY3Rpb24uZGVmYXVsdHMoKS5leHRlbmQoW25ldyBvbC5pbnRlcmFjdGlvbi5TZWxlY3Qoe1xyXG4gIC8vICAgY29uZGl0aW9uOiBmdW5jdGlvbihldnQpIHtcclxuICAvLyAgICAgcmV0dXJuIGV2dC50eXBlID09PSAnc2luZ2xlY2xpY2snICYmIG9sLmV2ZW50cy5jb25kaXRpb24uc2hpZnRLZXlPbmx5KGV2dCk7XHJcbiAgLy8gICB9LFxyXG4gIC8vICAgc3R5bGU6IHNlbGVjdFN0eWxlRnVuY3Rpb25cclxuICAvLyB9KV0pLFxyXG4gIGxvYWRUaWxlc1doaWxlQW5pbWF0aW5nOiB0cnVlLFxyXG4gIGxvYWRUaWxlc1doaWxlSW50ZXJhY3Rpbmc6IHRydWUsXHJcbiAgcmVuZGVyZXI6ICdjYW52YXMnLFxyXG4gIGNvbnRyb2xzOiBvbC5jb250cm9sLmRlZmF1bHRzKHtcclxuICAgIGF0dHJpYnV0aW9uT3B0aW9uczoge1xyXG4gICAgICBjb2xsYXBzaWJsZTogZmFsc2UsXHJcbiAgICAgIGNvbGxhcHNlZDogZmFsc2VcclxuICAgIH1cclxuICB9KVxyXG4gICAgLmV4dGVuZChbXHJcbiAgICAgIG5ldyBvbC5jb250cm9sLlNjYWxlTGluZSh7XHJcbiAgICAgICAgdW5pdHM6ICdtZXRyaWMnXHJcbiAgICAgIH0pLCBuZXcgb2wuY29udHJvbC5PdmVydmlld01hcCh7XHJcbiAgICAgICAgY2xhc3NOYW1lOiAnb2wtb3ZlcnZpZXdtYXAgb2wtY3VzdG9tLW92ZXJ2aWV3bWFwJyxcclxuICAgICAgICBjb2xsYXBzaWJsZTogdHJ1ZSxcclxuICAgICAgICBjb2xsYXBzZWQ6IHRydWUsXHJcbiAgICAgICAgbGF5ZXJzOiBbYmluZ11cclxuICAgICAgfSksXHJcbiAgICAgIG5ldyBvbC5jb250cm9sLlpvb21Ub0V4dGVudCh7XHJcbiAgICAgICAgZXh0ZW50OiBleHRlbnRcclxuICAgICAgfSlcclxuICAgIF0pLFxyXG4gIHZpZXc6IG5ldyBvbC5WaWV3KHtcclxuICAgIGNlbnRlcjogY2VudGVyLFxyXG4gICAgLy8gZXh0ZW50OiBleHRlbnQsXHJcbiAgICBwcm9qZWN0aW9uOiAnRVBTRzozODU3JyxcclxuICAgIHpvb206IDE0LFxyXG4gICAgbWF4Wm9vbTogMTksXHJcbiAgICBtaW5ab29tOiAxMFxyXG4gIH0pXHJcbn0pO1xyXG5pZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gIGJpbmcuc2V0KCduYW1lJywgJ86Uzr/Pgc+Fz4bOv8+BzrnOus6uIM61zrnOus+Mzr3OsScpO1xyXG4gIG1hcGJveC5zZXQoJ25hbWUnLCAnzqfOrM+Bz4TOt8+CJyk7XHJcbiAgcHJvcGVydHkuc2V0KCduYW1lJywgJ86RzrrOr869zrfPhM6xJyk7XHJcbn0gZWxzZSB7XHJcbiAgYmluZy5zZXQoJ25hbWUnLCAnU2F0dGVsaXRlIEltYWdlJyk7XHJcbiAgbWFwYm94LnNldCgnbmFtZScsICdNYXAnKTtcclxuICBwcm9wZXJ0eS5zZXQoJ25hbWUnLCAnUHJvcGVydGllcycpO1xyXG59XHJcbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xyXG4gICQoJy5zcGlubmVyJykuYWRkQ2xhc3MoJ3Zpc3VhbGx5aGlkZGVuJyk7XHJcbiAgJCgnLm1kbC1zcGlubmVyJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG59KTtcclxuIiwid2luZG93LmFwcCB8fCAod2luZG93LmFwcCA9IHt9KTtcclxudmFyIGFwcCA9IHdpbmRvdy5hcHA7XHJcbmFwcC5maWx0ZXJzID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gIHRoaXMuZXN0YXRlVHlwZSA9IG9wdGlvbnMuZXN0YXRlVHlwZTtcclxuICB0aGlzLmxlYXNlVHlwZSA9IG9wdGlvbnMubGVhc2VUeXBlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxlYXNlVHlwZSA6ICdSZW50JztcclxuICB0aGlzLnN0YXJ0UHJpY2UgPSBvcHRpb25zLnN0YXJ0UHJpY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3RhcnRQcmljZSA6IDA7XHJcbiAgdGhpcy5lbmRQcmljZSA9IG9wdGlvbnMuZW5kUHJpY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZW5kUHJpY2UgOiAyMTQ3NDgzNjQ3O1xyXG4gIHRoaXMucGFya2luZyA9IG9wdGlvbnMucGFya2luZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wYXJraW5nIDogZmFsc2U7XHJcbiAgdGhpcy5mdXJuaXNoZWQgPSBvcHRpb25zLmZ1cm5pc2hlZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5mdXJuaXNoZWQgOiBmYWxzZTtcclxuICB0aGlzLmhlYXRpbmcgPSBvcHRpb25zLmhlYXRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaGVhdGluZyA6IGZhbHNlO1xyXG4gIHRoaXMuY29vbGluZyA9IG9wdGlvbnMuY29vbGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb29saW5nIDogZmFsc2U7XHJcbiAgdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnZpZXcgOiBmYWxzZTtcclxufTtcclxuYXBwLmZpbHRlcnMucHJvdG90eXBlLmNyZWF0ZVZhbGlkYXRvciA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBwID0gJCgnZm9ybVtuYW1lPWZpbHRlcnNdJykucGFyc2xleSgpO1xyXG4gIHJldHVybiBwO1xyXG59XHJcbmFwcC5maWx0ZXJzLnByb3RvdHlwZS5zZXREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBlcHNnNDMyNkV4dGVudDtcclxuICBQU0Euc2V0U291cmNlKG51bGwpO1xyXG4gIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgJ2Nsb3NlQnV0dG9uJzogZmFsc2UsXHJcbiAgICAnZGVidWcnOiBmYWxzZSxcclxuICAgICduZXdlc3RPblRvcCc6IGZhbHNlLFxyXG4gICAgJ3Byb2dyZXNzQmFyJzogZmFsc2UsXHJcbiAgICAncG9zaXRpb25DbGFzcyc6ICd0b2FzdC10b3AtY2VudGVyJyxcclxuICAgICdwcmV2ZW50RHVwbGljYXRlcyc6IGZhbHNlLFxyXG4gICAgJ29uY2xpY2snOiBudWxsLFxyXG4gICAgJ3Nob3dEdXJhdGlvbic6ICczMDAnLFxyXG4gICAgJ2hpZGVEdXJhdGlvbic6ICcxMDAwJyxcclxuICAgICd0aW1lT3V0JzogJzUwMDAnLFxyXG4gICAgJ2V4dGVuZGVkVGltZU91dCc6ICcxMDAwJyxcclxuICAgICdzaG93RWFzaW5nJzogJ3N3aW5nJyxcclxuICAgICdoaWRlRWFzaW5nJzogJ2xpbmVhcicsXHJcbiAgICAnc2hvd01ldGhvZCc6ICdmYWRlSW4nLFxyXG4gICAgJ2hpZGVNZXRob2QnOiAnZmFkZU91dCdcclxuICB9O1xyXG4gIGlmIChzZWxlY3RTb3VyY2UuZ2V0RmVhdHVyZXMoKS5sZW5ndGggPT09IDApIHtcclxuICAgIGVwc2c0MzI2RXh0ZW50ID0gb2wucHJvai50cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlcHNnNDMyNkV4dGVudCA9IG9sLnByb2oudHJhbnNmb3JtRXh0ZW50KHNlbGVjdFNvdXJjZS5nZXRGZWF0dXJlcygpWzBdLmdldEdlb21ldHJ5KCkuZ2V0RXh0ZW50KCksICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgfVxyXG4gIHRoaXMuZXh0ZW50ID0gZXBzZzQzMjZFeHRlbnQ7XHJcbiAgdGhpcy5wID0gdGhpcy5jcmVhdGVWYWxpZGF0b3IoKTtcclxufTtcclxuXHJcbmFwcC5maWx0ZXJzLnByb3RvdHlwZS5hamF4Q2FsbCA9IGZ1bmN0aW9uKCkge1xyXG4gIGNvbnNvbGUubG9nKHRoaXMuZXN0YXRlVHlwZSk7XHJcbiAgaWYgKHRoaXMucC52YWxpZGF0ZSgpID09PSB0cnVlKSB7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvZmlsdGVyZWRwcm9wZXJ0eT9iYm94W3gxXT0nICsgdGhpcy5leHRlbnRbMF0gKyAnJmJib3hbeTFdPScgKyB0aGlzLmV4dGVudFsxXSArICcmYmJveFt4Ml09JyArIHRoaXMuZXh0ZW50WzJdICsgJyZiYm94W3kyXT0nICsgdGhpcy5leHRlbnRbM10sXHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgZXN0YXRlVHlwZTogdGhpcy5lc3RhdGVUeXBlLFxyXG4gICAgICAgIGxlYXNlVHlwZTogdGhpcy5sZWFzZVR5cGUsXHJcbiAgICAgICAgZnVybmlzaGVkOiB0aGlzLmZ1cm5pc2hlZCxcclxuICAgICAgICBoZWF0aW5nOiB0aGlzLmhlYXRpbmcsXHJcbiAgICAgICAgcGFya2luZzogdGhpcy5wYXJraW5nLFxyXG4gICAgICAgIGNvb2xpbmc6IHRoaXMuY29vbGluZyxcclxuICAgICAgICB2aWV3OiB0aGlzLnZpZXcsXHJcbiAgICAgICAgc3RhcnRQcmljZTogdGhpcy5zdGFydFByaWNlLFxyXG4gICAgICAgIGVuZFByaWNlOiB0aGlzLmVuZFByaWNlXHJcbiAgICAgIH1cclxuICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgdmFyIGZlYXR1cmVzID0gZ2VvSlNPTkZvcm1hdC5yZWFkRmVhdHVyZXMocmVzcG9uc2UsIHtcclxuICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogJ0VQU0c6Mzg1NydcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgICAgICAgZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgICAgICAgZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgICBmaWx0ZXJlZEVzdGF0ZXMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICBwcm9wZXJ0eS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB2YXIgZXh0ZW50ID0gZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmdldEV4dGVudCgpO1xyXG4gICAgICAgIHZhciBjZW50ZXIgPSBbXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdHIuZXJyb3IoJ05vIEluZm8gRm91bmQhJyk7XHJcbiAgICAgICAgZmlsdGVyZWRFc3RhdGVzLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHByb3BlcnR5LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn07XHJcbiQoJyNpbnZva2VGaWx0ZXJzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgdmFyIGZpbHRlcnMgO1xyXG4gIHZhciBvcHRpb25zID0ge307XHJcbiAgb3B0aW9ucy5lc3RhdGVUeXBlID0gJCgnI2VzdGF0ZVR5cGUnKS52YWwoKTtcclxuICBvcHRpb25zLmxlYXNlVHlwZSA9ICQoJ2lucHV0W25hbWU9b3B0aW9uc106Y2hlY2tlZCcpLnZhbCgpO1xyXG4gIG9wdGlvbnMuc3RhcnRQcmljZSA9ICQoJyNzdGFydFByaWNlJykudmFsKCk7XHJcbiAgb3B0aW9ucy5lbmRQcmljZSA9ICQoJyNlbmRQcmljZScpLnZhbCgpO1xyXG4gIG9wdGlvbnMucGFya2luZyA9ICQoJyNjaGVja2JveC0xJykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIG9wdGlvbnMuZnVybmlzaGVkID0gJCgnI2NoZWNrYm94LTInKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgb3B0aW9ucy5oZWF0aW5nID0gJCgnI2NoZWNrYm94LTMnKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgb3B0aW9ucy5jb29saW5nID0gJCgnI2NoZWNrYm94LTQnKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgb3B0aW9ucy52aWV3ID0gJCgnI2NoZWNrYm94LTUnKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgZmlsdGVycyA9IG5ldyBhcHAuZmlsdGVycyhvcHRpb25zKTtcclxuICBmaWx0ZXJzLnNldERlZmF1bHRzKCk7XHJcblxyXG4gIGZpbHRlcnMuYWpheENhbGwoKTtcclxuXHJcbn0pO1xyXG4kKCcjY2xlYXJGaWx0ZXJzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgJCgnbGFiZWxbZm9yPW9wdGlvbi0xXScpLmFkZENsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgJCgnbGFiZWxbZm9yPW9wdGlvbi0yXScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgJCgnbGFiZWxbZm9yPWNoZWNrYm94LTFdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9Y2hlY2tib3gtMl0nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJ2xhYmVsW2Zvcj1jaGVja2JveC0zXScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgJCgnbGFiZWxbZm9yPWNoZWNrYm94LTRdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9Y2hlY2tib3gtNV0nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJ2xhYmVsW2Zvcj1jaGVja2JveC02XScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgcHJvcGVydHkuc2V0VmlzaWJsZSh0cnVlKTtcclxuICBQU0Euc2V0U291cmNlKG51bGwpO1xyXG4gIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihkcmF3KTtcclxufSk7XHJcbnZhciBkcmF3O1xyXG5mdW5jdGlvbiBhZGRJbnRlcmFjdGlvbigpIHtcclxuICBzZWxlY3RTb3VyY2UuY2xlYXIoKTtcclxuICBkcmF3ID0gbmV3IG9sLmludGVyYWN0aW9uLkRyYXcoe1xyXG4gICAgc291cmNlOiBzZWxlY3RTb3VyY2UsXHJcbiAgICB0eXBlOiAnTGluZVN0cmluZycsXHJcbiAgICBnZW9tZXRyeUZ1bmN0aW9uOiBnZW9tZXRyeUZ1bmN0aW9uLFxyXG4gICAgbWF4UG9pbnRzOiAyXHJcbiAgfSk7XHJcbiAgZHJhdy5vbignZHJhd3N0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICBzZWxlY3RTb3VyY2UuY2xlYXIoKTtcclxuICB9KTtcclxuICBkcmF3Lm9uKCdkcmF3ZW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICBtYXAucmVtb3ZlSW50ZXJhY3Rpb24oZHJhdyk7XHJcbiAgfSk7XHJcbiAgbWFwLmFkZEludGVyYWN0aW9uKGRyYXcpO1xyXG59XHJcbmZ1bmN0aW9uIGdlb21ldHJ5RnVuY3Rpb24oY29vcmRpbmF0ZXMsIGdlb21ldHJ5KSB7XHJcbiAgaWYgKCFnZW9tZXRyeSkge1xyXG4gICAgZ2VvbWV0cnkgPSBuZXcgb2wuZ2VvbS5Qb2x5Z29uKG51bGwpO1xyXG4gIH1cclxuICB2YXIgc3RhcnQgPSBjb29yZGluYXRlc1swXTtcclxuICB2YXIgZW5kID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgZ2VvbWV0cnkuc2V0Q29vcmRpbmF0ZXMoW1xyXG4gICAgW1xyXG4gICAgICBzdGFydCxcclxuICAgICAgW1xyXG4gICAgICAgIHN0YXJ0WzBdLCBlbmRbMV1cclxuICAgICAgXSxcclxuICAgICAgZW5kLFxyXG4gICAgICBbXHJcbiAgICAgICAgZW5kWzBdLCBzdGFydFsxXVxyXG4gICAgICBdLFxyXG4gICAgICBzdGFydFxyXG4gICAgXVxyXG4gIF0pO1xyXG4gIHJldHVybiBnZW9tZXRyeTtcclxufVxyXG4kKCcjY2hlY2tib3gtNicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIGlmICh0aGlzLmNoZWNrZWQpIHtcclxuICAgIGFkZEludGVyYWN0aW9uKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihkcmF3KTtcclxuICAgIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gIH1cclxufSk7XHJcbiIsImZ1bmN0aW9uIGhhbmRsZUluZm8oZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG4gIHZhciBjb29yZGluYXRlID0gZXZ0LmNvb3JkaW5hdGU7XHJcbiAgdmFyIG9iaiA9IHt9O1xyXG4gIHZhciB0aXRsZSA9IHt9O1xyXG4gIHZhciBvd25lciA9IHt9O1xyXG4gIHZhciBmZWF0dXJlcyA9IFtdO1xyXG4gIG9iai50aXRsZSA9IHRpdGxlO1xyXG4gIGlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgICB0aXRsZS5naWQgPSAnzprPic60zrnOus+Mz4IgzpnOtM65zr/Ous+EzrfPg86vzrHPgic7XHJcbiAgICB0aXRsZS50eXBlID0gJ86Vzq/OtM6/z4IgzpnOtM65zr/Ous+EzrfPg86vzrHPgic7XHJcbiAgICB0aXRsZS5saXN0aW5nX3R5cGUgPSAnzqTPjc+Azr/PgiDOkc6zzrPOtc67zq/Osc+CJztcclxuICAgIHRpdGxlLmFyZWEgPSAnzpXOvM6yzrHOtM+MJztcclxuICAgIHRpdGxlLmFkZHJlc3MgPSAnzpTOuc61z4XOuM+Fzr3Pg863JztcclxuICAgIHRpdGxlLmJlZHJvb21zID0gJ86lz4DOvc6/zrTPic68zqzPhM65zrEnO1xyXG4gICAgdGl0bGUucHJpY2UgPSAnzqTOuc68zq4nO1xyXG4gICAgdGl0bGUuaXNuZXcgPSAnzp3Otc+MzrTOvM63z4TOvyc7XHJcbiAgICB0aXRsZS5wYXJraW5nID0gJ86jz4TOrM64zrzOtc+DzrcnO1xyXG4gICAgdGl0bGUuZnVybmlzaGVkID0gJ86Vz4DOuc+AzrvPic68zq3Ovc6/JztcclxuICAgIHRpdGxlLnBldHMgPSAnzprOsc+Ezr/Ouc66zq/OtM65zrEnO1xyXG4gICAgdGl0bGUudmlldyA9ICfOmM6tzrEnO1xyXG4gICAgdGl0bGUuaGVhdGluZyA9ICfOmM6tz4HOvM6xzr3Pg863JztcclxuICAgIHRpdGxlLmNvb2xpbmcgPSAnzqjPjc6+zrcnO1xyXG4gICAgdGl0bGUuY29udGFjdEluZm8gPSAnzqPPhM6/zrnPh861zq/OsSDOlc+AzrnOus6/zrnOvc+Jzr3Or86xz4InO1xyXG4gICAgdGl0bGUubmFtZSA9ICfOjM69zr/OvM6xJztcclxuICAgIHRpdGxlLmxhc3RuYW1lID0gJ86Vz4DOr864zrXPhM6/JztcclxuICAgIHRpdGxlLnBob25lID0gJ86kzrfOu86tz4bPic69zr8nO1xyXG4gICAgdGl0bGUuZW1haWwgPSAnzpfOu861zrrPhM+Bzr/Ovc65zrrOriDOlM65zrXPjc64z4XOvc+DzrcnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aXRsZS5naWQgPSAnRXN0YXRlIENvZGUnO1xyXG4gICAgdGl0bGUudHlwZSA9ICdQcm9wZXJ0eSBUeXBlJztcclxuICAgIHRpdGxlLmxpc3RpbmdfdHlwZSA9ICdMaXN0aW5nIFR5cGUnO1xyXG4gICAgdGl0bGUuYXJlYSA9ICdTaXplJztcclxuICAgIHRpdGxlLmFkZHJlc3MgPSAnQWRkcmVzcyc7XHJcbiAgICB0aXRsZS5iZWRyb29tcyA9ICdCZWRyb29tcyc7XHJcbiAgICB0aXRsZS5wcmljZSA9ICdQcmljZSc7XHJcbiAgICB0aXRsZS5pc25ldyA9ICdOZXdseSBCdWlsZCc7XHJcbiAgICB0aXRsZS5wYXJraW5nID0gJ1BhcmtpbmcnO1xyXG4gICAgdGl0bGUuZnVybmlzaGVkID0gJ0Z1cm5pc2hlZCc7XHJcbiAgICB0aXRsZS5wZXRzID0gJ1BldHMgQWxsb3dlZCc7XHJcbiAgICB0aXRsZS52aWV3ID0gJ1ZpZXcnO1xyXG4gICAgdGl0bGUuaGVhdGluZyA9ICdIZWF0aW5nJztcclxuICAgIHRpdGxlLmNvb2xpbmcgPSAnQ29vbGluZyc7XHJcbiAgICB0aXRsZS5jb250YWN0SW5mbyA9ICdDb250YWN0IEluZm8nO1xyXG4gICAgdGl0bGUubmFtZSA9ICdOYW1lJztcclxuICAgIHRpdGxlLmxhc3RuYW1lID0gJ0xhc3QgTmFtZSc7XHJcbiAgICB0aXRsZS5waG9uZSA9ICdUZWxlcGhvbmUnO1xyXG4gICAgdGl0bGUuZW1haWwgPSAnRW1haWwnO1xyXG4gIH1cclxuICBjbGlja2VkRmVhdHVyZSA9IG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwoZXZ0LnBpeGVsLCBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmVhdHVyZTogZmVhdHVyZSxcclxuICAgICAgbGF5ZXI6IGxheWVyXHJcbiAgICB9O1xyXG4gIH0sIHRoaXMsIGZ1bmN0aW9uKGxheWVyKSB7XHJcbiAgICBpZiAobGF5ZXIuZ2V0KCdpZCcpID09PSAnZXN0YXRlcycgfHwgbGF5ZXIuZ2V0KCdpZCcpID09PSAnZmlsdGVyZWRFc3RhdGVzJykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9LCB0aGlzKTtcclxuICB2YXIgZjtcclxuICBpZiAoY2xpY2tlZEZlYXR1cmUpIHtcclxuICAgIGlmIChjbGlja2VkRmVhdHVyZS5sYXllci5nZXQoJ2lkJykgPT09ICdlc3RhdGVzJyAmJiBjbGlja2VkRmVhdHVyZS5mZWF0dXJlLmdldCgnZmVhdHVyZXMnKS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgZiA9IGNsaWNrZWRGZWF0dXJlLmZlYXR1cmUuZ2V0UHJvcGVydGllcygpLmZlYXR1cmVzWzBdO1xyXG4gICAgICBjb25zb2xlLmxvZyhmKTtcclxuICAgICAgY3JlYXRlUFNBYW5kQ2FyZChmLCBvYmopO1xyXG4gICAgfSBlbHNlIGlmIChjbGlja2VkRmVhdHVyZS5sYXllci5nZXQoJ2lkJykgPT09ICdmaWx0ZXJlZEVzdGF0ZXMnKSB7XHJcbiAgICAgIGYgPSBjbGlja2VkRmVhdHVyZS5mZWF0dXJlO1xyXG4gICAgICBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaik7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIFBTQS5zZXRTb3VyY2UobnVsbCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaikge1xyXG4gIHZhciBmZWF0dXJlID0ge307XHJcbiAgZmVhdHVyZS5naWQgPSBmLmdldCgnZ2lkJyk7XHJcbiAgZmVhdHVyZS5hcmVhID0gZi5nZXQoJ2VzdGF0ZWFyZWEnKTtcclxuICBpZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gICAgZmVhdHVyZS50eXBlID0gZi5nZXQoJ2VzdGF0ZXR5cGUnKTtcclxuICAgIGZlYXR1cmUuYWRkcmVzcyA9IGYuZ2V0KCdzdHJlZXRfZWwnKSArICcgJyArIGYuZ2V0KCdzdHJlZXRfbnVtYmVyJyk7XHJcbiAgICBmZWF0dXJlLm5hbWUgPSBmLmdldCgnbmFtZV9lbCcpO1xyXG4gICAgZmVhdHVyZS5sYXN0bmFtZSA9IGYuZ2V0KCdsYXN0bmFtZV9lbCcpO1xyXG4gICAgaWYgKGYuZ2V0KCdzYWxlJykgPT09IHRydWUpIHtcclxuICAgICAgZmVhdHVyZS5saXN0aW5nX3R5cGUgPSAnzqDPjs67zrfPg863J1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmVhdHVyZS5saXN0aW5nX3R5cGUgPSAnzpXOvc6/zrnOus6vzrHPg863J1xyXG4gICAgfVxyXG4gICAgZmVhdHVyZS5idG5zID0ge1xyXG4gICAgICBpbmZvOiAnz4DOu863z4HOv8+Gzr/Pgc65zrXPgicsXHJcbiAgICAgIGNsb3NlOiAnzrrOu861zrnPg865zrzOvydcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgZmVhdHVyZS50eXBlID0gZi5nZXQoJ2VzdGF0ZXR5cGVfZW4nKTtcclxuICAgIGZlYXR1cmUuYWRkcmVzcyA9IGYuZ2V0KCdzdHJlZXRfZW4nKSArICcgJyArIGYuZ2V0KCdzdHJlZXRfbnVtYmVyJyk7XHJcbiAgICBmZWF0dXJlLm5hbWUgPSBmLmdldCgnbmFtZV9lbicpO1xyXG4gICAgZmVhdHVyZS5sYXN0bmFtZSA9IGYuZ2V0KCdsYXN0bmFtZV9lbicpO1xyXG4gICAgaWYgKGYuZ2V0KCdzYWxlJykgPT09IHRydWUpIHtcclxuICAgICAgZmVhdHVyZS5saXN0aW5nX3R5cGUgPSAnU2FsZSdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZlYXR1cmUubGlzdGluZ190eXBlID0gJ1JlbnQnXHJcbiAgICB9XHJcbiAgICBmZWF0dXJlLmJ0bnMgPSB7XHJcbiAgICAgIGluZm86ICdpbmZvJyxcclxuICAgICAgY2xvc2U6ICdjbG9zZSdcclxuICAgIH1cclxuICB9XHJcbiAgZmVhdHVyZS5iZWRyb29tcyA9IGYuZ2V0KCdiZWRyb29tcycpO1xyXG4gIGZlYXR1cmUucHJpY2UgPSBmLmdldCgncHJpY2UnKTtcclxuICBmZWF0dXJlLmlzbmV3ID0gZi5nZXQoJ2lzbmV3Jyk7XHJcbiAgZmVhdHVyZS5wYXJraW5nID0gZi5nZXQoJ3BhcmtpbmcnKTtcclxuICBmZWF0dXJlLmZ1cm5pc2hlZCA9IGYuZ2V0KCdmdXJuaXNoZWQnKTtcclxuICBmZWF0dXJlLnBldHMgPSBmLmdldCgncGV0cycpO1xyXG4gIGZlYXR1cmUudmlldyA9IGYuZ2V0KCd2aWV3Jyk7XHJcbiAgZmVhdHVyZS5oZWF0aW5nID0gZi5nZXQoJ2hlYXRpbmcnKTtcclxuICBmZWF0dXJlLmNvb2xpbmcgPSBmLmdldCgnY29vbGluZycpO1xyXG4gIGZlYXR1cmUucGhvbmUgPSBmLmdldCgncGhvbmUxJyk7XHJcbiAgZmVhdHVyZS5lbWFpbCA9IGYuZ2V0KCdlbWFpbCcpO1xyXG4gIGZlYXR1cmUuY29vcmRpbmF0ZSA9IGYuZ2V0KCdnZW9tZXRyeScpLmdldENvb3JkaW5hdGVzKCk7XHJcblxyXG4gIHZhciBQU0FTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgICBhdHRyaWJ1dGlvbnM6IFtuZXcgb2wuQXR0cmlidXRpb24oe1xyXG4gICAgICBodG1sOiAnUE9JIGJ5ICcgKyAnPGEgaHJlZj1cImh0dHA6Ly93d3cudGVycmFjb2duaXRhLmdyL1wiPlRlcnJhIENvZ25pdGE8L2E+J1xyXG4gICAgfSldLFxyXG4gICAgZm9ybWF0OiBnZW9KU09ORm9ybWF0LFxyXG4gICAgbG9hZGVyOiBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcclxuICAgICAgdmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvdXNlcy8nICsgZmVhdHVyZS5naWQ7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZS5wcm9wZXJ0eV9zZXJ2aWNlc19hbmFseXNpcywge1xyXG4gICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGFyZWEgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMC4xXVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBmZWF0dXJlc1swXS5zZXRTdHlsZShhcmVhKTtcclxuICAgICAgICBzZWxmLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgc3RyYXRlZ3k6IG9sLmxvYWRpbmdzdHJhdGVneS5hbGxcclxuICB9KTtcclxuICBQU0Euc2V0U291cmNlKFBTQVNvdXJjZSk7XHJcbiAgbWFwLmdldFZpZXcoKS5zZXRDZW50ZXIoZmVhdHVyZS5jb29yZGluYXRlKTtcclxuICBtYXAuZ2V0VmlldygpLnNldFJlc29sdXRpb24oMS4yKTtcclxuICBvYmouZmVhdHVyZSA9IGZlYXR1cmU7XHJcblxyXG4gIGR1c3QucmVuZGVyKCdlc3RhdGVDYXJkcycsIG9iaiwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICQoJy5lc3RhdGUtY2FyZHMnKS5odG1sKG91dCk7XHJcbiAgICAkKCcuZXN0YXRlLWNhcmRzJykuYWRkQ2xhc3MoJ2VzdGF0ZS1jYXJkcy1hY3RpdmUnKTtcclxuICAvLyAkKFwiI2luZm9ib3hcIikuYWRkQ2xhc3MoXCJ2aXN1YWxseWhpZGRlblwiKTtcclxuICB9KTtcclxuICAkKCdhW2hyZWY9XCIjb3Blbk1vZGFsXCJdJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBkdXN0LnJlbmRlcignbW9kYWxJbmZvJywgb2JqLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAkKCcubW9kYWwtY29udGVudCcpLmh0bWwob3V0KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gICQoJ2FbaHJlZj1cIiNjbG9zZUVzdGF0ZUNhcmRcIl0nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQoJy5lc3RhdGUtY2FyZHMnKS5yZW1vdmVDbGFzcygnZXN0YXRlLWNhcmRzLWFjdGl2ZScpO1xyXG4gIH0pO1xyXG59XHJcbiQoJy5pbmZvJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgUFNBLnNldFNvdXJjZShudWxsKTtcclxuICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IHRydWUpIHtcclxuICAgIG1hcC5vbignY2xpY2snLCBoYW5kbGVJbmZvKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWFwLnVuKCdjbGljaycsIGhhbmRsZUluZm8pO1xyXG4gIH1cclxufSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICB2YXIgZ2VvbG9jYXRpb24gPSBuZXcgb2wuR2VvbG9jYXRpb24oe1xyXG4gICAgLy8gdGFrZSB0aGUgcHJvamVjdGlvbiB0byB1c2UgZnJvbSB0aGUgbWFwJ3Mgdmlld1xyXG4gICAgcHJvamVjdGlvbjogbWFwLmdldFZpZXcoKS5nZXRQcm9qZWN0aW9uKCksXHJcbiAgICB0cmFja2luZ09wdGlvbnM6IHtcclxuICAgICAgbWF4aW11bUFnZTogMTAwMDAsXHJcbiAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgdGltZW91dDogNjAwMDAwXHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgdmFyIGFjY3VyYWN5RmVhdHVyZSA9IG5ldyBvbC5GZWF0dXJlKCk7XHJcbiAgZ2VvbG9jYXRpb24ub24oJ2NoYW5nZTphY2N1cmFjeUdlb21ldHJ5JywgZnVuY3Rpb24oKSB7XHJcbiAgICBhY2N1cmFjeUZlYXR1cmUuc2V0R2VvbWV0cnkoZ2VvbG9jYXRpb24uZ2V0QWNjdXJhY3lHZW9tZXRyeSgpKTtcclxuICB9KTtcclxuICB2YXIgcG9zaXRpb25GZWF0dXJlID0gbmV3IG9sLkZlYXR1cmUoKTtcclxuICBwb3NpdGlvbkZlYXR1cmUuc2V0U3R5bGUobmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcclxuICAgICAgcmFkaXVzOiA2LFxyXG4gICAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7Y29sb3I6ICcjMzM5OUNDJ30pLFxyXG4gICAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe2NvbG9yOiAnI2ZmZicsIHdpZHRoOiAyfSlcclxuICAgIH0pXHJcbiAgfSkpO1xyXG4gIC8vIGxpc3RlbiB0byBjaGFuZ2VzIGluIHBvc2l0aW9uXHJcbiAgZ2VvbG9jYXRpb24ub24oJ2NoYW5nZTpwb3NpdGlvbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNvb3JkaW5hdGVzID0gZ2VvbG9jYXRpb24uZ2V0UG9zaXRpb24oKTtcclxuICAgIHBvc2l0aW9uRmVhdHVyZS5zZXRHZW9tZXRyeShjb29yZGluYXRlc1xyXG4gICAgICA/IG5ldyBvbC5nZW9tLlBvaW50KGNvb3JkaW5hdGVzKVxyXG4gICAgICA6IG51bGwpO1xyXG4gIH0pO1xyXG4gIGZlYXR1cmVzT3ZlcmxheVNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHt9KTtcclxuICB2YXIgZmVhdHVyZXNPdmVybGF5ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7bWFwOiBtYXAsIHNvdXJjZTogZmVhdHVyZXNPdmVybGF5U291cmNlfSk7XHJcbiAgJCgnLmdlb2xvY2F0aW9uJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBnZW9sb2NhdGlvbi5zZXRUcmFja2luZyh0cnVlKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5U291cmNlLmFkZEZlYXR1cmVzKFtwb3NpdGlvbkZlYXR1cmUsIGFjY3VyYWN5RmVhdHVyZV0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZ2VvbG9jYXRpb24uc2V0VHJhY2tpbmcoZmFsc2UpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXlTb3VyY2UuY2xlYXIoKTtcclxuICAgIH1cclxuICB9KTtcclxufSgpKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBtYXJrZXIgPSBuZXcgb2wuRmVhdHVyZSgpO1xyXG4gIHZhciBpY29uU3R5bGUgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5JY29uKC8qKiBAdHlwZSB7b2x4LnN0eWxlLkljb25PcHRpb25zfSAqL1xyXG4gICAgKHtcclxuICAgICAgYW5jaG9yOiBbXHJcbiAgICAgICAgMC41LCAxXHJcbiAgICAgIF0sXHJcbiAgICAgIGFuY2hvclhVbml0czogJ2ZyYWN0aW9uJyxcclxuICAgICAgYW5jaG9yWVVuaXRzOiAnZnJhY3Rpb24nLFxyXG4gICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICBzY2FsZTogMSxcclxuICAgICAgc3JjOiAnLi4vaW1hZ2VzL21hcC1pY29ucy9waW5zLzI0L3BpbjEucG5nJyxcclxuICAgICAgc25hcFRvUGl4ZWw6IGZhbHNlXHJcbiAgICB9KSksXHJcbiAgICB6SW5kZXg6IDEwMFxyXG4gIH0pO1xyXG4gIG1hcmtlci5zZXRTdHlsZShpY29uU3R5bGUpO1xyXG4gIHZhciBmZWF0dXJlc092ZXJsYXlTdHlsZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgICBjb2xvcjogJyM0MDgwODAnLFxyXG4gICAgICB3aWR0aDogNSxcclxuICAgICAgbGluZURhc2g6IFs0LCA0XVxyXG4gICAgfSlcclxuICB9KTtcclxuICB2YXIgZmVhdHVyZXNPdmVybGF5ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgICBtYXA6IG1hcCxcclxuICAgIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5WZWN0b3IoKSxcclxuICAgIHN0eWxlOiBmZWF0dXJlc092ZXJsYXlTdHlsZSxcclxuICAgIGlkOiAncm91dGUnLFxyXG4gICAgbmFtZUVsOiAnzpTOuc6xzrTPgc6/zrzOricsXHJcbiAgICBOYW1lRW46ICdSb3V0ZSdcclxuICB9KTtcclxuICB2YXIgcm91dGVDb29yZHMgPSBbXTtcclxuICBmdW5jdGlvbiBoYW5kbGVNYXJrZXIoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgZmVhdHVyZUNvdW50ID0gZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmdldEZlYXR1cmVzKCkubGVuZ3RoO1xyXG4gICAgdmFyIGNvb3JkaW5hdGVzID0gZXZlbnQuY29vcmRpbmF0ZTtcclxuICAgIGlmIChmZWF0dXJlQ291bnQgPT09IDApIHtcclxuICAgICAgbWFya2VyLnNldEdlb21ldHJ5KG5ldyBvbC5nZW9tLlBvaW50KGNvb3JkaW5hdGVzKSk7XHJcbiAgICAgIG1hcmtlci5zZXRJZCgnZmlyc3QnKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmFkZEZlYXR1cmUobWFya2VyKTtcclxuICAgICAgcm91dGVDb29yZHNbMF0gPSBjb29yZGluYXRlc1swXTtcclxuICAgICAgcm91dGVDb29yZHNbMV0gPSBjb29yZGluYXRlc1sxXTtcclxuICAgIH0gZWxzZSBpZiAoZmVhdHVyZUNvdW50ID09PSAxKSB7XHJcbiAgICAgIHZhciBjbG9uZSA9IG1hcmtlci5jbG9uZSgpO1xyXG4gICAgICBjbG9uZS5zZXRHZW9tZXRyeShuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlcykpO1xyXG4gICAgICBjbG9uZS5zZXRJZCgnc2Vjb25kJyk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5hZGRGZWF0dXJlKGNsb25lKTtcclxuICAgICAgcm91dGVDb29yZHNbMl0gPSBjb29yZGluYXRlc1swXTtcclxuICAgICAgcm91dGVDb29yZHNbM10gPSBjb29yZGluYXRlc1sxXTtcclxuICAgICAgY2FsbFJvdXRlKHJvdXRlQ29vcmRzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5jbGVhcigpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZW9KU09ORm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5HZW9KU09OKHtkZWZhdWx0RGF0YVByb2plY3Rpb246ICdFUFNHOjQzMjYnLCBnZW9tZXRyeU5hbWU6ICdnZW9tZXRyeSd9KTtcclxuICBmdW5jdGlvbiBjYWxsUm91dGUocm91dGVDb29yZHMpIHtcclxuICAgIHZhciBmaXJzdCA9IG9sLnByb2oudHJhbnNmb3JtKFtcclxuICAgICAgcm91dGVDb29yZHNbMF0sIHJvdXRlQ29vcmRzWzFdXHJcbiAgICBdLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgdmFyIHNlY29uZCA9IG9sLnByb2oudHJhbnNmb3JtKFtcclxuICAgICAgcm91dGVDb29yZHNbMl0sIHJvdXRlQ29vcmRzWzNdXHJcbiAgICBdLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgdmFyIHgxID0gZmlyc3RbMF07XHJcbiAgICB2YXIgeTEgPSBmaXJzdFsxXTtcclxuICAgIHZhciB4MiA9IHNlY29uZFswXTtcclxuICAgIHZhciB5MiA9IHNlY29uZFsxXTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vdjQvZGlyZWN0aW9ucy9tYXBib3guZHJpdmluZy8nICsgeDEgKyAnLCcgKyB5MSArICc7JyArIHgyICsgJywnICsgeTIgKyAnLmpzb24/YWx0ZXJuYXRpdmVzPWZhbHNlJmFjY2Vzc190b2tlbj1way5leUoxSWpvaVptbHlkbUZwYmlJc0ltRWlPaUpsT1dZeVlUTTBOVGhpTldNMFlqSmpPREpqTkRFNE9EUXpOekEyTUdReU5pSjkuLU5WRE8yN0h6dC13X25Rb3NVUGZMQScsXHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgdmFyIHJvdXRlID0ge307XHJcbiAgICAgIHJvdXRlLnR5cGUgPSAnRmVhdHVyZSc7XHJcbiAgICAgIHJvdXRlLmdlb21ldHJ5ID0gZGF0YS5yb3V0ZXNbMF0uZ2VvbWV0cnk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5hZGRGZWF0dXJlcyhnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyb3V0ZSwge1xyXG4gICAgICAgIGRhdGFQcm9qZWN0aW9uOiAnRVBTRzo0MzI2JyxcclxuICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogJ0VQU0c6Mzg1NydcclxuICAgICAgfSkpO1xyXG4gICAgICBtYXAuZ2V0VmlldygpLmZpdChmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuZ2V0RXh0ZW50KCksIG1hcC5nZXRTaXplKCkpO1xyXG4gICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coXCJlcnJvclwiKTtcclxuICAgIH0pLmFsd2F5cyhmdW5jdGlvbigpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coXCJjb21wbGV0ZVwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAkKCcubWFya2VyJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLyogQWN0IG9uIHRoZSBldmVudCAqL1xyXG4gICAgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpID09PSB0cnVlKSB7XHJcbiAgICAgIG1hcC5vbignc2luZ2xlY2xpY2snLCBoYW5kbGVNYXJrZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWFwLnVuKCdzaW5nbGVjbGljaycsIGhhbmRsZU1hcmtlcik7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5jbGVhcigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgJCgnLndlYXRoZXInKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IHRydWUpIHtcclxuICAgICAgbWFwLmdldE92ZXJsYXlzKCkuZm9yRWFjaChmdW5jdGlvbihvdmwpIHtcclxuICAgICAgICBpZiAob3ZsLmdldCgnbmFtZScpID09PSAnd2VhdGhlcicpIHtcclxuICAgICAgICAgICgkKG92bC5nZXRFbGVtZW50KCkpLnBhcmVudCgpKS5yZW1vdmUoKTtcclxuICAgICAgICAgICQob3ZsLmdldEVsZW1lbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgdmFyIGNlbnRlciA9IG9sLnByb2oudHJhbnNmb3JtKG1hcC5nZXRWaWV3KCkuZ2V0Q2VudGVyKCksICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgICAgIHZhciBsYXQgPSBjZW50ZXJbMV07XHJcbiAgICAgIHZhciBsb24gPSBjZW50ZXJbMF07XHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiAnaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvZmluZD9sYXQ9JyArIGxhdCArICcmbG9uPScgKyBsb24gKyAnJmNudD01JmNsdXN0ZXI9bm8mdW5pdHM9bWV0cmljJnR5cGU9YWNjdXJhdGUmQVBQSUQ9ZjljZDlmYTJjNDI3YzNiMTE1ZTg3ZTQ4NjI2MTljNWMnLFxyXG4gICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbidcclxuICAgICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlV2VhdGhlck92ZXJsYXkocG9zaXRpb24sIGluZGV4KSB7XHJcbiAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3dlYXRoZXItcG9wdXAgZGVmYXVsdC1wcmltYXJ5LWNvbG9yIG1kbC1zaGFkb3ctLTZkcCcpO1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgaW5kZXgpO1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScsICd3ZWF0aGVyJyk7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IG9sLk92ZXJsYXkoe2VsZW1lbnQ6IGVsZW0sIHBvc2l0aW9uOiBwb3NpdGlvbn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2JqcyA9IGRhdGEubGlzdDtcclxuICAgICAgICB2YXIgb3ZlcmxheSxcclxuICAgICAgICAgICAgY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgJC5lYWNoKG9ianMsIGZ1bmN0aW9uKGluZGV4LCB2YWwpIHtcclxuICAgICAgICAgIGNvb3JkaW5hdGVzID0gb2wucHJvai50cmFuc2Zvcm0oW1xyXG4gICAgICAgICAgICB2YWwuY29vcmQubG9uLCB2YWwuY29vcmQubGF0XHJcbiAgICAgICAgICBdLCAnRVBTRzo0MzI2JywgJ0VQU0c6Mzg1NycpO1xyXG4gICAgICAgICAgb3ZlcmxheSA9IGNyZWF0ZVdlYXRoZXJPdmVybGF5KGNvb3JkaW5hdGVzLCBpbmRleCk7XHJcbiAgICAgICAgICBtYXAuYWRkT3ZlcmxheShvdmVybGF5KTtcclxuICAgICAgICAgIG92ZXJsYXkuc2V0KCduYW1lJywgJ3dlYXRoZXInKTtcclxuICAgICAgICAgIHdlYXRoZXJEYXRhID0ge1xyXG4gICAgICAgICAgICAnbmFtZSc6IHZhbC5uYW1lLFxyXG4gICAgICAgICAgICAndGVtcCc6IHZhbC5tYWluLnRlbXAsXHJcbiAgICAgICAgICAgICdwcmVzc3VyZSc6IHZhbC5tYWluLnByZXNzdXJlLFxyXG4gICAgICAgICAgICAnaHVtaWRpdHknOiB2YWwubWFpbi5odW1pZGl0eVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGR1c3QucmVuZGVyKCd3ZWF0aGVyUG9wdXAnLCB3ZWF0aGVyRGF0YSwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICAgICAgICAgJCgnIycgKyBpbmRleCkuaHRtbChvdXQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gdG9hc3RyLmVycm9yKFwizpTOtc69IM6yz4HOrc64zrfOus6xzr0gz4DOu863z4HOv8+Gzr/Pgc6vzrXPgiDOs865zrEgz4TOuc+CIM66zrHOuc+BzrnOus6tz4Igz4PPhc69zrjOrs66zrXPgiFcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gZmFsc2UpIHtcclxuICAgICAgbWFwLmdldE92ZXJsYXlzKCkuZm9yRWFjaChmdW5jdGlvbihvdmwpIHtcclxuICAgICAgICBpZiAob3ZsLmdldCgnbmFtZScpID09PSAnd2VhdGhlcicpIHtcclxuICAgICAgICAgICgkKG92bC5nZXRFbGVtZW50KCkpLnBhcmVudCgpKS5yZW1vdmUoKTtcclxuICAgICAgICAgICQob3ZsLmdldEVsZW1lbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxufSgpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
