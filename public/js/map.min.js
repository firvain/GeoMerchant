function createPropertyStyle(e){var t;return t=e.get("sale")===!0?"../images/map-icons/pins/48/pin2.png":"../images/map-icons/pins/48/pin5.png",new ol.style.Style({geometry:e.getGeometry(),image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[0,0],scale:.7})})}function propertyStyleFunction(e,t){var s,o,i=e.get("features").length;return i>1?s=[new ol.style.Style({image:new ol.style.Circle({radius:20,stroke:new ol.style.Stroke({color:[156,39,176,1],width:5}),fill:new ol.style.Fill({color:[68,138,255,.8]})}),text:new ol.style.Text({text:i.toString(),fill:new ol.style.Fill({color:"#FFFFFF"})}),zIndex:101})]:(o=e.get("features")[0],s=[createPropertyStyle(o)]),s}function filteredEsateStyle(e,t){return styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/map-icons/pins/48/pin4.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:.7})})]}function addInteraction(){selectSource.clear(),draw=new ol.interaction.Draw({source:selectSource,type:"LineString",geometryFunction:geometryFunction,maxPoints:2}),draw.on("drawstart",function(){selectSource.clear()}),draw.on("drawend",function(){map.removeInteraction(draw)}),map.addInteraction(draw)}function geometryFunction(e,t){t||(t=new ol.geom.Polygon(null));var s=e[0],o=e[1];return t.setCoordinates([[s,[s[0],o[1]],o,[o[0],s[1]],s]]),t}function handleInfo(e){e.preventDefault(),map.removeInteraction(draw);var t=(e.coordinate,{}),s={};t.title=s,"el"===lang?(s.gid="Κωδικός Ιδιοκτησίας",s.type="Είδος Ιδιοκτησίας",s.listing_type="Τύπος Αγγελίας",s.area="Εμβαδό",s.address="Διευθυνση",s.bedrooms="Υπνοδωμάτια",s.price="Τιμή",s.isnew="Νεόδμητο",s.parking="Στάθμεση",s.furnished="Επιπλωμένο",s.pets="Κατοικίδια",s.view="Θέα",s.heating="Θέρμανση",s.cooling="Ψύξη",s.contactInfo="Στοιχεία Επικοινωνίας",s.name="Όνομα",s.lastname="Επίθετο",s.phone="Τηλέφωνο",s.email="Ηλεκτρονική Διεύθυνση"):(s.gid="Estate Code",s.type="Property Type",s.listing_type="Listing Type",s.area="Size",s.address="Address",s.bedrooms="Bedrooms",s.price="Price",s.isnew="Newly Build",s.parking="Parking",s.furnished="Furnished",s.pets="Pets Allowed",s.view="View",s.heating="Heating",s.cooling="Cooling",s.contactInfo="Contact Info",s.name="Name",s.lastname="Last Name",s.phone="Telephone",s.email="Email"),clickedFeature=map.forEachFeatureAtPixel(e.pixel,function(e,t){return{feature:e,layer:t}},this,function(e){return"estates"===e.get("id")||"filteredEstates"===e.get("id")?!0:void 0},this);var o;clickedFeature?"estates"===clickedFeature.layer.get("id")&&1===clickedFeature.feature.get("features").length?(o=clickedFeature.feature.getProperties().features[0],console.log(o),createPSAandCard(o,t)):"filteredEstates"===clickedFeature.layer.get("id")&&(o=clickedFeature.feature,createPSAandCard(o,t)):PSA.setSource(null)}function createPSAandCard(e,t){var s={};s.gid=e.get("gid"),s.area=e.get("estatearea"),"el"===lang?(s.type=e.get("estatetype"),s.address=e.get("street_el")+" "+e.get("street_number"),s.name=e.get("name_el"),s.lastname=e.get("lastname_el"),e.get("sale")===!0?s.listing_type="Πώληση":s.listing_type="Ενοικίαση",s.btns={info:"πληροφοριες",close:"κλεισιμο"}):(s.type=e.get("estatetype_en"),s.address=e.get("street_en")+" "+e.get("street_number"),s.name=e.get("name_en"),s.lastname=e.get("lastname_en"),e.get("sale")===!0?s.listing_type="Sale":s.listing_type="Rent",s.btns={info:"info",close:"close"}),s.bedrooms=e.get("bedrooms"),s.price=e.get("price"),s.isnew=e.get("isnew"),s.parking=e.get("parking"),s.furnished=e.get("furnished"),s.pets=e.get("pets"),s.view=e.get("view"),s.heating=e.get("heating"),s.cooling=e.get("cooling"),s.phone=e.get("phone1"),s.email=e.get("email"),s.coordinate=e.get("geometry").getCoordinates();var o=new ol.source.Vector({attributions:[new ol.Attribution({html:'POI by <a href="http://www.terracognita.gr/">Terra Cognita</a>'})],format:geoJSONFormat,loader:function(e,t,o){var i="http://localhost:3000/db/uses/"+s.gid,n=this;$.ajax({url:i,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e.property_services_analysis,{featureProjection:"EPSG:3857"}),s=new ol.style.Style({fill:new ol.style.Fill({color:[156,39,176,.1]})});t[0].setStyle(s),n.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.all});PSA.setSource(o),map.getView().setCenter(s.coordinate),map.getView().setResolution(1.2),t.feature=s,dust.render("estateCards",t,function(e,t){$(".estate-cards").html(t),$(".estate-cards").addClass("estate-cards-active")}),$('a[href="#openModal"]').click(function(){dust.render("modalInfo",t,function(e,t){$(".modal-content").html(t)})}),$('a[href="#closeEstateCard"]').click(function(){$(".estate-cards").removeClass("estate-cards-active")})}function handleSelect(){"use strict";var e=function(e){this.element_=e,this.setDefaults_(),this.init()};window.MaterialSelectfield=e,e.prototype.CssClasses_={LABEL:"mdl-selectfield__label",SELECT:"mdl-selectfield__select",SELECTED_BOX:"mdl-selectfield__box",SELECTED_BOX_VALUE:"mdl-selectfield__box-value",LIST_OPTION_BOX:"mdl-selectfield__list-option-box",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",IS_SELECTED:"is-selected"},e.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},e.prototype.setDefaults_=function(){this.options_=[],this.optionsMap_={},this.optionsArr_=[],this.closing_=!0,this.keyDownTimerId_=null},e.prototype.onFocus_=function(e){this.closing_&&this.show_(e)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onSelected_=function(e){if(e.target&&"LI"==e.target.nodeName){var t=this.options_[e.target.getAttribute("data-value")];this.selectedOptionValue_.textContent=t.textContent,t.selected=!0;var s;if("function"==typeof window.Event?s=new Event("change",{bubbles:!0,cancelable:!0}):"function"==typeof document.createEvent&&(s=document.createEvent("HTMLEvents"),s.initEvent("change",!0,!0)),s&&this.select_.dispatchEvent(s),""!==t.textContent){this.element_.classList.add(this.CssClasses_.IS_DIRTY);var o=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);o&&o.classList.remove(this.CssClasses_.IS_SELECTED),e.target.classList.add(this.CssClasses_.IS_SELECTED)}else{this.element_.classList.remove(this.CssClasses_.IS_DIRTY);var o=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);o&&o.classList.remove(this.CssClasses_.IS_SELECTED)}}},e.prototype.onclick_=function(e){this.toggle(e)},e.prototype.update_=function(){var e;if(this.options_&&this.options_.length>0)for(var t=0;t<this.options_.length;t++){var s=this.options_[t];if(s.selected&&""!==s.value){var e=!0;this.element_.classList.add(this.CssClasses_.IS_DIRTY),this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED).classList.remove(this.CssClasses_.IS_SELECTED),this.listOptionBox_.querySelectorAll("LI")[t].classList.add(this.CssClasses_.IS_SELECTED)}}e||this.element_.classList.remove(this.CssClasses_.IS_DIRTY),this.checkDisabled(),this.checkValidity()},e.prototype.checkValidity=function(){this.select_.validity&&(this.select_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDisabled=function(){this.select_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.disable=function(){this.select_.disabled=!0,this.update_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.select_.disabled=!1,this.update_()},e.prototype.enable=e.prototype.enable,e.prototype.toggle=function(e){this.element_.classList.contains(this.CssClasses_.IS_FOCUSED)?this.hide_():this.show_(e)},e.prototype.show_=function(e){if(this.checkDisabled(),!this.element_.classList.contains(this.CssClasses_.IS_DISABLED)){this.element_.classList.add(this.CssClasses_.IS_FOCUSED),this.closing_=!1,this.strSearch_="";var t=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);t&&(t.parentElement.parentElement.scrollTop=t.offsetTop),this.boundKeyDownHandler_=this.onKeyDown_.bind(this),this.boundClickDocHandler_=function(t){t===e||this.closing_||t.target.parentNode===this.element_||t.target.parentNode===this.selectedOption_||this.hide_()}.bind(this),document.addEventListener("keydown",this.boundKeyDownHandler_),document.addEventListener("click",this.boundClickDocHandler_)}},e.prototype.onKeyDown_=function(e){var t=this.listOptionBox_.querySelectorAll("li:not([disabled])");if(t&&t.length>0&&!this.closing_){var s,o=Array.prototype.slice.call(t).indexOf(this.listOptionBox_.querySelectorAll("."+this.CssClasses_.IS_SELECTED)[0]);if(e.keyCode===this.Keycodes_.UP_ARROW||e.keyCode===this.Keycodes_.DOWN_ARROW)-1!=o&&t[o].classList.remove(this.CssClasses_.IS_SELECTED),e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),s=o>0?t[o-1]:t[t.length-1]):(e.preventDefault(),s=t.length>o+1?t[o+1]:t[0]),s&&(s.classList.add(this.CssClasses_.IS_SELECTED),this.listOptionBox_.scrollTop=s.offsetTop,this.lastSelectedItem_=s);else if(e.keyCode!==this.Keycodes_.SPACE&&e.keyCode!==this.Keycodes_.ENTER||!this.lastSelectedItem_){if(e.keyCode===this.Keycodes_.ESCAPE){e.preventDefault();var i;document.createEvent?(i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):i=new MouseEvent("mousedown"),document.body.dispatchEvent(i),document.createEvent||(i=new MouseEvent("mouseup"),document.body.dispatchEvent(i)),document.body.click()}else if(this.validKeyCode_(e.keyCode)){var n=e.which||e.keyCode;this.strSearch_+=String.fromCharCode(n),this.keyDownTimerId_&&clearTimeout(this.keyDownTimerId_),this.keyDownTimerId_=setTimeout(function(){this.keyDownTimerId_=null,this.strSearch_=""}.bind(this),300);var a=this.searchByStrIndex_(0);a>-1&&(-1!=o&&t[o].classList.remove(this.CssClasses_.IS_SELECTED),s=t[a],s.classList.add(this.CssClasses_.IS_SELECTED),this.listOptionBox_.scrollTop=s.offsetTop,this.lastSelectedItem_=s)}}else{e.preventDefault();var i;document.createEvent?(i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):i=new MouseEvent("mousedown"),this.lastSelectedItem_.dispatchEvent(i),document.createEvent||(i=new MouseEvent("mouseup"),this.lastSelectedItem_.dispatchEvent(i))}}},e.prototype.searchByStrIndex_=function(e){for(var t=this.strSearch_,s=new RegExp("^"+t+"."),o=-1,i=this.optionsArr_,n=0;n<i.length;n++)if(s.test(i[n])){o=n;break}return-1!=o?this.optionsMap_[this.optionsArr_[o]]:-1},e.prototype.validKeyCode_=function(e){return e>47&&58>e||32==e||13==e||e>64&&91>e||e>95&&112>e||e>185&&193>e||e>218&&223>e},e.prototype.hide_=function(){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED),this.closing_=!0,this.strSearch_="",this.boundClickDocHandler_&&document.removeEventListener("click",this.boundClickDocHandler_),this.boundKeyDownHandler_&&document.removeEventListener("keydown",this.boundKeyDownHandler_),this.update_()},e.prototype.init=function(){if(this.element_){this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.select_=this.element_.querySelector("."+this.CssClasses_.SELECT);var e=document.createElement("div");e.classList.add(this.CssClasses_.SELECTED_BOX),e.tabIndex=1,this.selectedOption_=e;var t=document.createElement("i");t.classList.add("material-icons"),t.tabIndex=-1,t.textContent="keyboard_arrow_down",e.appendChild(t);var s=document.createElement("span");s.classList.add(this.CssClasses_.SELECTED_BOX_VALUE),s.tabIndex=0,e.appendChild(s),this.selectedOptionValue_=s,this.element_.appendChild(this.selectedOption_);var o=this.element_.classList.contains(this.CssClasses_.IS_INVALID);if(this.select_&&(this.options_=this.select_.querySelectorAll("option"),this.select_.style.visibility="hidden",this.options_.length)){this.boundSelectedHandler=this.onSelected_.bind(this);var i=document.createElement("div");i.classList.add(this.CssClasses_.LIST_OPTION_BOX),i.tabIndex="-1";var n=document.createElement("ul");n.tabIndex="-1";for(var a=0;a<this.options_.length;a++){var r=this.options_[a],l=(r.textContent||"").toUpperCase().replace(/( )|(\n)/g,"");this.optionsMap_[l]=a,this.optionsArr_.push(l);var c=document.createElement("li");c.textContent=r.textContent,c.setAttribute("data-value",a),c.tabIndex="-1",c.addEventListener("click",this.boundSelectedHandler),n.appendChild(c),r.selected&&""!==r.textContent&&(this.element_.classList.add(this.CssClasses_.IS_DIRTY),this.selectedOptionValue_.textContent=r.textContent,c.classList.add(this.CssClasses_.IS_SELECTED))}i.appendChild(n),this.element_.appendChild(i),this.listOptionBox_=i}this.boundClickHandler=this.onclick_.bind(this),this.element_.addEventListener("click",this.boundClickHandler),o&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.checkDisabled()}},e.prototype.mdlDowngrade_=function(){if(this.element_.removeEventListener("click",this.boundClickHandler),this.boundSelectedHandler&&this.options_.length)for(var e=this.listOptionBox_.querySelectorAll("li"),t=0;t<e.length;t++)e[t].removeEventListener("click",this.boundSelectedHandler)},e.prototype.mdlDowngrade=e.prototype.mdlDowngrade_,e.prototype.mdlDowngrade=e.prototype.mdlDowngrade,componentHandler.register({constructor:e,classAsString:"MaterialSelectfield",cssClass:"mdl-js-selectfield",widget:!0})}var center=[3677385,4120949],extent=[3590094,4102833,3855483,4261211],lang=document.documentElement.lang,styleCache={},geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326"}),bing=new ol.layer.Tile({visible:!0,source:new ol.source.BingMaps({key:"Ak2Gq8VUfICsPpuf7LRANXmXt2sHWmSLPhohmVLFtFIEwYjs_5MCyAhAFwRSVpLj",imagerySet:"Aerial"}),maxZoom:19,crossOrigin:"anonymous",preload:1/0,id:"bing"}),mapbox=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'<a href="https://www.mapbox.com/about/maps/" target="_blank">&copy; Mapbox &copy; OpenStreetMap</a>'})],url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA"}),id:"mapbox"}),propertySource=new ol.source.Vector({format:geoJSONFormat,loader:function(e,t,s){console.log(t);var o=ol.proj.transformExtent(e,"EPSG:3857","EPSG:4326"),i="http://localhost:3000/db/property?bbox[x1]="+o[0]+"&bbox[y1]="+o[1]+"&bbox[x2]="+o[2]+"&bbox[y2]="+o[3],n=this;this.clear(),console.log(e),$.ajax({url:i,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});n.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.bbox}),propertyClusterSource=new ol.source.Cluster({distance:40,source:propertySource,attributions:[new ol.Attribution({html:'All maps © <a href="http://www.terracognita.gr/">Terra Cognita</a>'})]}),property=new ol.layer.Vector({source:propertyClusterSource,id:"estates",visible:!0,style:propertyStyleFunction});property.setZIndex(2);var PSAStyleFunction=function(e,t){var s,o=e.get("style");return s="el"===lang?e.get("name_el"):e.get("name_en"),styleCache[o]||(styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/maki/renders/"+o+"-24.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:1}),text:new ol.style.Text({text:s,stroke:new ol.style.Stroke({color:[156,39,176,.8],width:1}),offsetY:12})})]),styleCache},PSA=new ol.layer.Vector({style:PSAStyleFunction,maxResolution:3});PSA.setZIndex(1);var filteredEstates=new ol.layer.Vector({source:new ol.source.Vector({format:geoJSONFormat}),id:"filteredEstates",visible:!0,style:filteredEsateStyle});filteredEstates.setZIndex(2);var selectSource=new ol.source.Vector({}),selectBox=new ol.layer.Vector({source:selectSource,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(227, 72, 27, 0.2)"}),stroke:new ol.style.Stroke({color:"#E3481B",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#E3481B"})})})});selectBox.setZIndex(3);var map=new ol.Map({target:"map",layers:[mapbox,property,PSA,filteredEstates,selectBox],loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",controls:ol.control.defaults({attributionOptions:{collapsible:!1,collapsed:!1}}).extend([new ol.control.ScaleLine({units:"metric"}),new ol.control.OverviewMap({className:"ol-overviewmap ol-custom-overviewmap",collapsible:!0,collapsed:!0,layers:[bing]}),new ol.control.ZoomToExtent({extent:extent})]),view:new ol.View({center:center,projection:"EPSG:3857",zoom:14,maxZoom:19,minZoom:10})});"el"===lang?(bing.set("name","Δορυφορική εικόνα"),mapbox.set("name","Χάρτης"),property.set("name","Ακίνητα")):(bing.set("name","Sattelite Image"),mapbox.set("name","Map"),property.set("name","Properties")),jQuery(document).ready(function(e){e(".spinner").addClass("visuallyhidden"),e(".mdl-spinner").removeClass("is-active"),handleSelect()}),window.app||(window.app={});var app=window.app;app.filters=function(e){this.estateType=e.estateType,this.leaseType=void 0!==e.leaseType?e.leaseType:"Rent",this.startPrice=void 0!==e.startPrice?e.startPrice:0,this.endPrice=void 0!==e.endPrice?e.endPrice:2147483647,this.parking=void 0!==e.parking?e.parking:!1,this.furnished=void 0!==e.furnished?e.furnished:!1,this.heating=void 0!==e.heating?e.heating:!1,this.cooling=void 0!==e.cooling?e.cooling:!1,this.view=void 0!==e.view?e.view:!1},app.filters.prototype.createValidator=function(){var e=$("form[name=filters]").parsley();return e},app.filters.prototype.setDefaults=function(){var e;PSA.setSource(null),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},e=0===selectSource.getFeatures().length?ol.proj.transformExtent(extent,"EPSG:3857","EPSG:4326"):ol.proj.transformExtent(selectSource.getFeatures()[0].getGeometry().getExtent(),"EPSG:3857","EPSG:4326"),this.extent=e,this.p=this.createValidator()},app.filters.prototype.ajaxCall=function(){console.log(this.estateType),this.p.validate()===!0&&$.ajax({url:"http://localhost:3000/db/filteredproperty?bbox[x1]="+this.extent[0]+"&bbox[y1]="+this.extent[1]+"&bbox[x2]="+this.extent[2]+"&bbox[y2]="+this.extent[3],type:"GET",dataType:"json",data:{estateType:this.estateType,leaseType:this.leaseType,furnished:this.furnished,heating:this.heating,parking:this.parking,cooling:this.cooling,view:this.view,startPrice:this.startPrice,endPrice:this.endPrice}}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});if(t.length>0){toastr.clear(),filteredEstates.getSource().clear(),filteredEstates.getSource().addFeatures(t),filteredEstates.setVisible(!0),property.setVisible(!1);filteredEstates.getSource().getExtent()}else toastr.error("No Info Found!"),filteredEstates.setVisible(!1),property.setVisible(!0)})},$("#invokeFilters").click(function(){var e,t={};t.estateType=$("#estateType").val(),t.leaseType=$("input[name=options]:checked").val(),t.startPrice=$("#startPrice").val(),t.endPrice=$("#endPrice").val(),t.parking=$("#checkbox-1").prop("checked"),t.furnished=$("#checkbox-2").prop("checked"),t.heating=$("#checkbox-3").prop("checked"),t.cooling=$("#checkbox-4").prop("checked"),t.view=$("#checkbox-5").prop("checked"),e=new app.filters(t),e.setDefaults(),e.ajaxCall()}),$("#clearFilters").click(function(){var e=$("#estateType option").val();$("label[for=option-1]").addClass("is-checked"),$("label[for=option-2]").removeClass("is-checked"),$("label[for=checkbox-1]").removeClass("is-checked"),$("label[for=checkbox-2]").removeClass("is-checked"),$("label[for=checkbox-3]").removeClass("is-checked"),$("label[for=checkbox-4]").removeClass("is-checked"),$("label[for=checkbox-5]").removeClass("is-checked"),$("label[for=checkbox-6]").removeClass("is-checked"),$(".mdl-selectfield__box-value").html(e),filteredEstates.getSource().clear(),property.setVisible(!0),PSA.setSource(null),selectSource.clear(),map.removeInteraction(draw)});var draw;$("#checkbox-6").click(function(){this.checked?addInteraction():(map.removeInteraction(draw),selectSource.clear())}),function(){var e=new ol.Geolocation({projection:map.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),t=new ol.Feature;e.on("change:accuracyGeometry",function(){t.setGeometry(e.getAccuracyGeometry())});var s=new ol.Feature;s.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#3399CC"}),stroke:new ol.style.Stroke({color:"#fff",width:2})})})),e.on("change:position",function(){var t=e.getPosition();s.setGeometry(t?new ol.geom.Point(t):null)}),featuresOverlaySource=new ol.source.Vector({});new ol.layer.Vector({map:map,source:featuresOverlaySource});$(".geolocation").on("change",function(o){o.preventDefault(),$(this).prop("checked")===!0?(e.setTracking(!0),featuresOverlaySource.addFeatures([s,t])):(e.setTracking(!1),featuresOverlaySource.clear())})}(),$(".info").on("change",function(e){e.preventDefault(),PSA.setSource(null),$(this).prop("checked")===!0?map.on("click",handleInfo):map.un("click",handleInfo)}),function(){function e(e){e.preventDefault();var o=n.getSource().getFeatures().length,i=e.coordinate;if(0===o)s.setGeometry(new ol.geom.Point(i)),s.setId("first"),n.getSource().addFeature(s),a[0]=i[0],a[1]=i[1];else if(1===o){var r=s.clone();r.setGeometry(new ol.geom.Point(i)),r.setId("second"),n.getSource().addFeature(r),a[2]=i[0],a[3]=i[1],t(a)}else n.getSource().clear()}function t(e){var t=ol.proj.transform([e[0],e[1]],"EPSG:3857","EPSG:4326"),s=ol.proj.transform([e[2],e[3]],"EPSG:3857","EPSG:4326"),o=t[0],i=t[1],a=s[0],r=s[1];$.ajax({url:"https://api.mapbox.com/v4/directions/mapbox.driving/"+o+","+i+";"+a+","+r+".json?alternatives=false&access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA",type:"GET",dataType:"json"}).done(function(e){var t={};t.type="Feature",t.geometry=e.routes[0].geometry,n.getSource().addFeatures(geoJSONFormat.readFeatures(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})),map.getView().fit(n.getSource().getExtent(),map.getSize())}).fail(function(){}).always(function(){})}var s=new ol.Feature,o=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,scale:1,src:"../images/map-icons/pins/24/pin1.png",snapToPixel:!1}),zIndex:100});s.setStyle(o);var i=new ol.style.Style({stroke:new ol.style.Stroke({color:"#408080",width:5,lineDash:[4,4]})}),n=new ol.layer.Vector({map:map,source:new ol.source.Vector,style:i,id:"route",nameEl:"Διαδρομή",NameEn:"Route"}),a=[];geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326",geometryName:"geometry"}),$(".marker").on("change",function(t){t.preventDefault(),$(this).prop("checked")===!0?map.on("singleclick",e):(map.un("singleclick",e),n.getSource().clear())})}(),function(){$(".weather").change(function(){if($(this).prop("checked")===!0){map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())});var e=ol.proj.transform(map.getView().getCenter(),"EPSG:3857","EPSG:4326"),t=e[1],s=e[0];$.ajax({url:"http://api.openweathermap.org/data/2.5/find?lat="+t+"&lon="+s+"&cnt=5&cluster=no&units=metric&type=accurate&APPID=f9cd9fa2c427c3b115e87e4862619c5c",type:"GET",dataType:"json"}).done(function(e){function t(e,t){var s=document.createElement("div");return s.setAttribute("class","weather-popup  mdl-shadow--6dp"),s.setAttribute("id",t),s.setAttribute("data-name","weather"),new ol.Overlay({element:s,position:e})}var s,o,i=e.list;$.each(i,function(e,i){o=ol.proj.transform([i.coord.lon,i.coord.lat],"EPSG:4326","EPSG:3857"),s=t(o,e),map.addOverlay(s),s.set("name","weather"),weatherData={name:i.name,temp:i.main.temp,pressure:i.main.pressure,humidity:i.main.humidity},dust.render("weatherPopup",weatherData,function(t,s){$("#"+e).html(s)})})}).fail(function(){})}else $(this).prop("checked")===!1&&map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyIsImZpbHRlcnMuanMiLCJpbmZvLmpzIiwibWRsLXNlbGVjdGZpZWxkLmpzIiwiZ2VvbG9jYXRpb24uanMiLCJyb3V0aW5nLmpzIiwid2VhdGhlci5qcyJdLCJuYW1lcyI6WyJjcmVhdGVQcm9wZXJ0eVN0eWxlIiwiZmVhdHVyZSIsInNyYyIsImdldCIsIm9sIiwic3R5bGUiLCJTdHlsZSIsImdlb21ldHJ5IiwiZ2V0R2VvbWV0cnkiLCJpbWFnZSIsIkljb24iLCJhbmNob3JPcmlnaW4iLCJhbmNob3IiLCJzY2FsZSIsInByb3BlcnR5U3R5bGVGdW5jdGlvbiIsInJlc29sdXRpb24iLCJvcmlnaW5hbEZlYXR1cmUiLCJzaXplIiwibGVuZ3RoIiwiQ2lyY2xlIiwicmFkaXVzIiwic3Ryb2tlIiwiU3Ryb2tlIiwiY29sb3IiLCJ3aWR0aCIsImZpbGwiLCJGaWxsIiwidGV4dCIsIlRleHQiLCJ0b1N0cmluZyIsInpJbmRleCIsImZpbHRlcmVkRXNhdGVTdHlsZSIsInN0eWxlQ2FjaGUiLCJhZGRJbnRlcmFjdGlvbiIsInNlbGVjdFNvdXJjZSIsImNsZWFyIiwiZHJhdyIsImludGVyYWN0aW9uIiwiRHJhdyIsInNvdXJjZSIsInR5cGUiLCJnZW9tZXRyeUZ1bmN0aW9uIiwibWF4UG9pbnRzIiwib24iLCJtYXAiLCJyZW1vdmVJbnRlcmFjdGlvbiIsImNvb3JkaW5hdGVzIiwiZ2VvbSIsIlBvbHlnb24iLCJzdGFydCIsImVuZCIsInNldENvb3JkaW5hdGVzIiwiaGFuZGxlSW5mbyIsImV2dCIsInByZXZlbnREZWZhdWx0Iiwib2JqIiwiY29vcmRpbmF0ZSIsInRpdGxlIiwibGFuZyIsImdpZCIsImxpc3RpbmdfdHlwZSIsImFyZWEiLCJhZGRyZXNzIiwiYmVkcm9vbXMiLCJwcmljZSIsImlzbmV3IiwicGFya2luZyIsImZ1cm5pc2hlZCIsInBldHMiLCJ2aWV3IiwiaGVhdGluZyIsImNvb2xpbmciLCJjb250YWN0SW5mbyIsIm5hbWUiLCJsYXN0bmFtZSIsInBob25lIiwiZW1haWwiLCJjbGlja2VkRmVhdHVyZSIsImZvckVhY2hGZWF0dXJlQXRQaXhlbCIsInBpeGVsIiwibGF5ZXIiLCJ0aGlzIiwiZiIsImdldFByb3BlcnRpZXMiLCJmZWF0dXJlcyIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVQU0FhbmRDYXJkIiwiUFNBIiwic2V0U291cmNlIiwiYnRucyIsImluZm8iLCJjbG9zZSIsImdldENvb3JkaW5hdGVzIiwiUFNBU291cmNlIiwiVmVjdG9yIiwiYXR0cmlidXRpb25zIiwiQXR0cmlidXRpb24iLCJodG1sIiwiZm9ybWF0IiwiZ2VvSlNPTkZvcm1hdCIsImxvYWRlciIsImV4dGVudCIsInByb2plY3Rpb24iLCJ1cmwiLCJzZWxmIiwiJCIsImFqYXgiLCJkYXRhVHlwZSIsImRvbmUiLCJyZXNwb25zZSIsInJlYWRGZWF0dXJlcyIsInByb3BlcnR5X3NlcnZpY2VzX2FuYWx5c2lzIiwiZmVhdHVyZVByb2plY3Rpb24iLCJzZXRTdHlsZSIsImFkZEZlYXR1cmVzIiwiZmFpbCIsInN0cmF0ZWd5IiwibG9hZGluZ3N0cmF0ZWd5IiwiYWxsIiwiZ2V0VmlldyIsInNldENlbnRlciIsInNldFJlc29sdXRpb24iLCJkdXN0IiwicmVuZGVyIiwiZXJyIiwib3V0IiwiYWRkQ2xhc3MiLCJjbGljayIsInJlbW92ZUNsYXNzIiwiaGFuZGxlU2VsZWN0IiwiZSIsImVsZW1lbnRfIiwic2V0RGVmYXVsdHNfIiwiaW5pdCIsIndpbmRvdyIsIk1hdGVyaWFsU2VsZWN0ZmllbGQiLCJwcm90b3R5cGUiLCJDc3NDbGFzc2VzXyIsIkxBQkVMIiwiU0VMRUNUIiwiU0VMRUNURURfQk9YIiwiU0VMRUNURURfQk9YX1ZBTFVFIiwiTElTVF9PUFRJT05fQk9YIiwiSVNfRElSVFkiLCJJU19GT0NVU0VEIiwiSVNfRElTQUJMRUQiLCJJU19JTlZBTElEIiwiSVNfVVBHUkFERUQiLCJJU19TRUxFQ1RFRCIsIktleWNvZGVzXyIsIkVOVEVSIiwiRVNDQVBFIiwiU1BBQ0UiLCJVUF9BUlJPVyIsIkRPV05fQVJST1ciLCJvcHRpb25zXyIsIm9wdGlvbnNNYXBfIiwib3B0aW9uc0Fycl8iLCJjbG9zaW5nXyIsImtleURvd25UaW1lcklkXyIsIm9uRm9jdXNfIiwic2hvd18iLCJvbkJsdXJfIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwib25TZWxlY3RlZF8iLCJ0YXJnZXQiLCJub2RlTmFtZSIsInQiLCJnZXRBdHRyaWJ1dGUiLCJzZWxlY3RlZE9wdGlvblZhbHVlXyIsInRleHRDb250ZW50Iiwic2VsZWN0ZWQiLCJzIiwiRXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRvY3VtZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJzZWxlY3RfIiwiZGlzcGF0Y2hFdmVudCIsImFkZCIsImkiLCJsaXN0T3B0aW9uQm94XyIsInF1ZXJ5U2VsZWN0b3IiLCJvbmNsaWNrXyIsInRvZ2dsZSIsInVwZGF0ZV8iLCJ2YWx1ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGVja0Rpc2FibGVkIiwiY2hlY2tWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJkaXNhYmxlZCIsImRpc2FibGUiLCJlbmFibGUiLCJjb250YWlucyIsImhpZGVfIiwic3RyU2VhcmNoXyIsInBhcmVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJvZmZzZXRUb3AiLCJib3VuZEtleURvd25IYW5kbGVyXyIsIm9uS2V5RG93bl8iLCJiaW5kIiwiYm91bmRDbGlja0RvY0hhbmRsZXJfIiwicGFyZW50Tm9kZSIsInNlbGVjdGVkT3B0aW9uXyIsImFkZEV2ZW50TGlzdGVuZXIiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsImluZGV4T2YiLCJrZXlDb2RlIiwibGFzdFNlbGVjdGVkSXRlbV8iLCJvIiwiaW5pdE1vdXNlRXZlbnQiLCJNb3VzZUV2ZW50IiwiYm9keSIsInZhbGlkS2V5Q29kZV8iLCJuIiwid2hpY2giLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibCIsInNlYXJjaEJ5U3RySW5kZXhfIiwiUmVnRXhwIiwidGVzdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsYWJlbF8iLCJjcmVhdGVFbGVtZW50IiwidGFiSW5kZXgiLCJhcHBlbmRDaGlsZCIsInZpc2liaWxpdHkiLCJib3VuZFNlbGVjdGVkSGFuZGxlciIsImEiLCJkIiwidG9VcHBlckNhc2UiLCJyZXBsYWNlIiwicHVzaCIsImMiLCJzZXRBdHRyaWJ1dGUiLCJib3VuZENsaWNrSGFuZGxlciIsIm1kbERvd25ncmFkZV8iLCJtZGxEb3duZ3JhZGUiLCJjb21wb25lbnRIYW5kbGVyIiwicmVnaXN0ZXIiLCJjb25zdHJ1Y3RvciIsImNsYXNzQXNTdHJpbmciLCJjc3NDbGFzcyIsIndpZGdldCIsImNlbnRlciIsImRvY3VtZW50RWxlbWVudCIsIkdlb0pTT04iLCJkZWZhdWx0RGF0YVByb2plY3Rpb24iLCJiaW5nIiwiVGlsZSIsInZpc2libGUiLCJCaW5nTWFwcyIsImtleSIsImltYWdlcnlTZXQiLCJtYXhab29tIiwiY3Jvc3NPcmlnaW4iLCJwcmVsb2FkIiwiSW5maW5pdHkiLCJpZCIsIm1hcGJveCIsIlhZWiIsInByb3BlcnR5U291cmNlIiwiZXBzZzQzMjZFeHRlbnQiLCJwcm9qIiwidHJhbnNmb3JtRXh0ZW50IiwiYmJveCIsInByb3BlcnR5Q2x1c3RlclNvdXJjZSIsIkNsdXN0ZXIiLCJkaXN0YW5jZSIsInByb3BlcnR5Iiwic2V0WkluZGV4IiwiUFNBU3R5bGVGdW5jdGlvbiIsInN5bWJvbCIsIm9mZnNldFkiLCJtYXhSZXNvbHV0aW9uIiwiZmlsdGVyZWRFc3RhdGVzIiwic2VsZWN0Qm94IiwiTWFwIiwibGF5ZXJzIiwibG9hZFRpbGVzV2hpbGVBbmltYXRpbmciLCJsb2FkVGlsZXNXaGlsZUludGVyYWN0aW5nIiwicmVuZGVyZXIiLCJjb250cm9scyIsImNvbnRyb2wiLCJkZWZhdWx0cyIsImF0dHJpYnV0aW9uT3B0aW9ucyIsImNvbGxhcHNpYmxlIiwiY29sbGFwc2VkIiwiZXh0ZW5kIiwiU2NhbGVMaW5lIiwidW5pdHMiLCJPdmVydmlld01hcCIsImNsYXNzTmFtZSIsIlpvb21Ub0V4dGVudCIsIlZpZXciLCJ6b29tIiwibWluWm9vbSIsInNldCIsImpRdWVyeSIsInJlYWR5IiwiYXBwIiwiZmlsdGVycyIsIm9wdGlvbnMiLCJlc3RhdGVUeXBlIiwibGVhc2VUeXBlIiwidW5kZWZpbmVkIiwic3RhcnRQcmljZSIsImVuZFByaWNlIiwiY3JlYXRlVmFsaWRhdG9yIiwicCIsInBhcnNsZXkiLCJzZXREZWZhdWx0cyIsInRvYXN0ciIsImNsb3NlQnV0dG9uIiwiZGVidWciLCJuZXdlc3RPblRvcCIsInByb2dyZXNzQmFyIiwicG9zaXRpb25DbGFzcyIsInByZXZlbnREdXBsaWNhdGVzIiwib25jbGljayIsInNob3dEdXJhdGlvbiIsImhpZGVEdXJhdGlvbiIsInRpbWVPdXQiLCJleHRlbmRlZFRpbWVPdXQiLCJzaG93RWFzaW5nIiwiaGlkZUVhc2luZyIsInNob3dNZXRob2QiLCJoaWRlTWV0aG9kIiwiZ2V0RmVhdHVyZXMiLCJnZXRFeHRlbnQiLCJhamF4Q2FsbCIsInZhbGlkYXRlIiwiZGF0YSIsImdldFNvdXJjZSIsInNldFZpc2libGUiLCJlcnJvciIsInZhbCIsInByb3AiLCJvcmlnbmFsVmFsdWUiLCJjaGVja2VkIiwiZ2VvbG9jYXRpb24iLCJHZW9sb2NhdGlvbiIsImdldFByb2plY3Rpb24iLCJ0cmFja2luZ09wdGlvbnMiLCJtYXhpbXVtQWdlIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidGltZW91dCIsImFjY3VyYWN5RmVhdHVyZSIsIkZlYXR1cmUiLCJzZXRHZW9tZXRyeSIsImdldEFjY3VyYWN5R2VvbWV0cnkiLCJwb3NpdGlvbkZlYXR1cmUiLCJnZXRQb3NpdGlvbiIsIlBvaW50IiwiZmVhdHVyZXNPdmVybGF5U291cmNlIiwic2V0VHJhY2tpbmciLCJ1biIsImhhbmRsZU1hcmtlciIsImV2ZW50IiwiZmVhdHVyZUNvdW50IiwiZmVhdHVyZXNPdmVybGF5IiwibWFya2VyIiwic2V0SWQiLCJhZGRGZWF0dXJlIiwicm91dGVDb29yZHMiLCJjbG9uZSIsImNhbGxSb3V0ZSIsImZpcnN0IiwidHJhbnNmb3JtIiwic2Vjb25kIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyb3V0ZSIsInJvdXRlcyIsImRhdGFQcm9qZWN0aW9uIiwiZml0IiwiZ2V0U2l6ZSIsImFsd2F5cyIsImljb25TdHlsZSIsImFuY2hvclhVbml0cyIsImFuY2hvcllVbml0cyIsIm9wYWNpdHkiLCJzbmFwVG9QaXhlbCIsImZlYXR1cmVzT3ZlcmxheVN0eWxlIiwibGluZURhc2giLCJuYW1lRWwiLCJOYW1lRW4iLCJnZW9tZXRyeU5hbWUiLCJjaGFuZ2UiLCJnZXRPdmVybGF5cyIsImZvckVhY2giLCJvdmwiLCJnZXRFbGVtZW50IiwicGFyZW50IiwiZ2V0Q2VudGVyIiwibGF0IiwibG9uIiwiY3JlYXRlV2VhdGhlck92ZXJsYXkiLCJwb3NpdGlvbiIsImluZGV4IiwiZWxlbSIsIk92ZXJsYXkiLCJlbGVtZW50Iiwib3ZlcmxheSIsIm9ianMiLCJsaXN0IiwiZWFjaCIsImNvb3JkIiwiYWRkT3ZlcmxheSIsIndlYXRoZXJEYXRhIiwidGVtcCIsIm1haW4iLCJwcmVzc3VyZSIsImh1bWlkaXR5Il0sIm1hcHBpbmdzIjoiQUE0QkEsUUFBQUEscUJBQUFDLEdBQ0EsR0FBQUMsRUFNQSxPQUpBQSxHQURBRCxFQUFBRSxJQUFBLFdBQUEsRUFDQSx1Q0FFQSx1Q0FFQSxHQUFBQyxJQUFBQyxNQUFBQyxPQUNBQyxTQUFBTixFQUFBTyxjQUNBQyxNQUFBLEdBQUFMLElBQUFDLE1BQUFLLE1BQ0FSLElBQUFBLEVBQ0FTLGFBQUEsY0FDQUMsUUFBQSxFQUFBLEdBQ0FDLE1BQUEsT0FLQSxRQUFBQyx1QkFBQWIsRUFBQWMsR0FDQSxHQUVBVixHQUFBVyxFQUZBQyxFQUFBaEIsRUFBQUUsSUFBQSxZQUNBZSxNQTBCQSxPQXhCQUQsR0FBQSxFQUNBWixHQUFBLEdBQUFELElBQUFDLE1BQUFDLE9BQ0FHLE1BQUEsR0FBQUwsSUFBQUMsTUFB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VCxLQUFBRixFQUFBLFNBQUFMLEVBQUFqRSxHQUNBOVMsRUFBQTFDLEdBQUErUSxLQUFBeUcsV0FDQWhDLEVBQUF5RSxNQUFBWCxJQUFBOUQsRUFBQXlFLE1BQUFaLEtBQ0EsWUFBQSxhQUNBUSxFQUFBTixFQUFBN1csRUFBQStXLEdBQ0FqWCxJQUFBMFgsV0FBQUwsR0FDQUEsRUFBQTVHLElBQUEsT0FBQSxXQUNBa0gsYUFDQTlWLEtBQUFtUixFQUFBblIsS0FDQStWLEtBQUE1RSxFQUFBNkUsS0FBQUQsS0FDQUUsU0FBQTlFLEVBQUE2RSxLQUFBQyxTQUNBQyxTQUFBL0UsRUFBQTZFLEtBQUFFLFVBRUFoVCxLQUFBQyxPQUFBLGVBQUEyUyxZQUFBLFNBQUExUyxFQUFBQyxHQUNBcEIsRUFBQSxJQUFBbVQsR0FBQTNULEtBQUE0QixTQUdBVixLQUFBLGtCQUdBVixHQUFBekIsTUFBQTRRLEtBQUEsY0FBQSxHQUNBalQsSUFBQXVXLGNBQUFDLFFBQUEsU0FBQUMsR0FDQSxZQUFBQSxFQUFBbFosSUFBQSxVQUNBdUcsRUFBQTJTLEVBQUFDLGNBQUFDLFNBQUFsUCxTQUNBM0QsRUFBQTJTLEVBQUFDLGNBQUFqUCIsImZpbGUiOiJtYXAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNlbnRlciA9IFszNjc3Mzg1LCA0MTIwOTQ5XSxcclxuICAgIGV4dGVudCA9IFszNTkwMDk0LCA0MTAyODMzLCAzODU1NDgzLCA0MjYxMjExXSxcclxuICAgIGxhbmcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyxcclxuICAgIHN0eWxlQ2FjaGUgPSB7fSxcclxuICAgIGdlb0pTT05Gb3JtYXQgPSBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oe1xyXG4gICAgICBkZWZhdWx0RGF0YVByb2plY3Rpb246ICdFUFNHOjQzMjYnXHJcbiAgICB9KTtcclxudmFyIGJpbmcgPSBuZXcgb2wubGF5ZXIuVGlsZSh7XHJcbiAgdmlzaWJsZTogdHJ1ZSxcclxuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuQmluZ01hcHMoe1xyXG4gICAga2V5OiAnQWsyR3E4VlVmSUNzUHB1ZjdMUkFOWG1YdDJzSFdtU0xQaG9obVZMRnRGSUV3WWpzXzVNQ3lBaEFGd1JTVnBMaicsXHJcbiAgICBpbWFnZXJ5U2V0OiAnQWVyaWFsJ1xyXG4gIH0pLFxyXG4gIG1heFpvb206IDE5LFxyXG4gIGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJyxcclxuICBwcmVsb2FkOiBJbmZpbml0eSxcclxuICBpZDogJ2JpbmcnXHJcbn0pO1xyXG52YXIgbWFwYm94ID0gbmV3IG9sLmxheWVyLlRpbGUoe1xyXG4gIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5YWVooe1xyXG4gICAgYXR0cmlidXRpb25zOiBbbmV3IG9sLkF0dHJpYnV0aW9uKHtcclxuICAgICAgaHRtbDogJzxhIGhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL2Fib3V0L21hcHMvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JmNvcHk7IE1hcGJveCAmY29weTsgT3BlblN0cmVldE1hcDwvYT4nXHJcbiAgICB9KV0sXHJcbiAgICB1cmw6ICdodHRwczovL2FwaS5tYXBib3guY29tL3Y0L21hcGJveC5zdHJlZXRzL3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2labWx5ZG1GcGJpSXNJbUVpT2lKbE9XWXlZVE0wTlRoaU5XTTBZakpqT0RKak5ERTRPRFF6TnpBMk1HUXlOaUo5Li1OVkRPMjdIenQtd19uUW9zVVBmTEEnXHJcbiAgfSksXHJcbiAgaWQ6ICdtYXBib3gnXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlTdHlsZShmZWF0dXJlKSB7XHJcbiAgdmFyIHNyYztcclxuICBpZiAoZmVhdHVyZS5nZXQoJ3NhbGUnKSA9PT0gdHJ1ZSkge1xyXG4gICAgc3JjID0gJy4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy80OC9waW4yLnBuZyc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNyYyA9ICcuLi9pbWFnZXMvbWFwLWljb25zL3BpbnMvNDgvcGluNS5wbmcnO1xyXG4gIH1cclxuICByZXR1cm4gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGdlb21ldHJ5OiBmZWF0dXJlLmdldEdlb21ldHJ5KCksXHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgc3JjOiBzcmMsXHJcbiAgICAgIGFuY2hvck9yaWdpbjogJ2JvdHRvbS1sZWZ0JyxcclxuICAgICAgYW5jaG9yOiBbMCwgMF0sXHJcbiAgICAgIHNjYWxlOiAwLjdcclxuICAgIH0pKVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwcm9wZXJ0eVN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gIHZhciBzaXplID0gZmVhdHVyZS5nZXQoJ2ZlYXR1cmVzJylcclxuICAgIC5sZW5ndGg7XHJcbiAgdmFyIHN0eWxlLCBvcmlnaW5hbEZlYXR1cmU7XHJcbiAgaWYgKHNpemUgPiAxKSB7XHJcbiAgICBzdHlsZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkNpcmNsZSh7XHJcbiAgICAgICAgcmFkaXVzOiAyMCxcclxuICAgICAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgICAgICAgY29sb3I6IFsxNTYsIDM5LCAxNzYsIDFdLFxyXG4gICAgICAgICAgd2lkdGg6IDVcclxuICAgICAgICB9KSxcclxuICAgICAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgICAgICBjb2xvcjogWzY4LCAxMzgsIDI1NSwgMC44XVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pLFxyXG4gICAgICB0ZXh0OiBuZXcgb2wuc3R5bGUuVGV4dCh7XHJcbiAgICAgICAgdGV4dDogc2l6ZS50b1N0cmluZygpLFxyXG4gICAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICAgIGNvbG9yOiAnI0ZGRkZGRidcclxuICAgICAgICB9KVxyXG4gICAgICB9KSxcclxuICAgICAgekluZGV4OiAxMDFcclxuICAgIH0pXTtcclxuICB9IGVsc2Uge1xyXG4gICAgb3JpZ2luYWxGZWF0dXJlID0gZmVhdHVyZS5nZXQoJ2ZlYXR1cmVzJylbMF07XHJcbiAgICBzdHlsZSA9IFtjcmVhdGVQcm9wZXJ0eVN0eWxlKG9yaWdpbmFsRmVhdHVyZSldO1xyXG4gIH1cclxuICByZXR1cm4gc3R5bGU7XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHNlbGVjdFN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4vLyAgIHZhciBzdHlsZXMgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHt9KV07XHJcbi8vICAgdmFyIG9yaWdpbmFsRmVhdHVyZXMgPSBmZWF0dXJlLmdldCgnZmVhdHVyZXMnKTtcclxuLy8gICB2YXIgb3JpZ2luYUZlYXR1cmU7XHJcbi8vICAgZm9yICh2YXIgaSA9IG9yaWdpbmFsRmVhdHVyZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcclxuLy8gICAgIG9yaWdpbmFsRmVhdHVyZSA9IG9yaWdpbmFsRmVhdHVyZXNbaV07XHJcbi8vICAgICBzdHlsZXMucHVzaChjcmVhdGVQcm9wZXJ0eVN0eWxlKG9yaWdpbmFsRmVhdHVyZSkpO1xyXG4vLyAgIH1cclxuLy8gICByZXR1cm4gc3R5bGVzO1xyXG4vLyB9XHJcbnZhciBwcm9wZXJ0eVNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHtcclxuICBmb3JtYXQ6IGdlb0pTT05Gb3JtYXQsXHJcbiAgbG9hZGVyOiBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcclxuICAgIGNvbnNvbGUubG9nKHJlc29sdXRpb24pO1xyXG4gICAgdmFyIGVwc2c0MzI2RXh0ZW50ID0gb2wucHJvai50cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgdmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvcHJvcGVydHk/YmJveFt4MV09JyArIGVwc2c0MzI2RXh0ZW50WzBdICsgJyZiYm94W3kxXT0nICsgZXBzZzQzMjZFeHRlbnRbMV0gKyAnJmJib3hbeDJdPScgKyBlcHNnNDMyNkV4dGVudFsyXSArICcmYmJveFt5Ml09JyArIGVwc2c0MzI2RXh0ZW50WzNdO1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5jbGVhcigpO1xyXG4gICAgY29uc29sZS5sb2coZXh0ZW50KTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIHVybDogdXJsLFxyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJ1xyXG4gICAgfSlcclxuICAgICAgLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSwge1xyXG4gICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZi5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG4gIHN0cmF0ZWd5OiBvbC5sb2FkaW5nc3RyYXRlZ3kuYmJveFxyXG59KTtcclxudmFyIHByb3BlcnR5Q2x1c3RlclNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuQ2x1c3Rlcih7XHJcbiAgZGlzdGFuY2U6IDQwLFxyXG4gIHNvdXJjZTogcHJvcGVydHlTb3VyY2UsXHJcbiAgYXR0cmlidXRpb25zOiBbbmV3IG9sLkF0dHJpYnV0aW9uKHtcclxuICAgIGh0bWw6ICdBbGwgbWFwcyDCqSAnICsgJzxhIGhyZWY9XCJodHRwOi8vd3d3LnRlcnJhY29nbml0YS5nci9cIj5UZXJyYSBDb2duaXRhPC9hPidcclxuICB9KV1cclxufSk7XHJcbnZhciBwcm9wZXJ0eSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gIHNvdXJjZTogcHJvcGVydHlDbHVzdGVyU291cmNlLFxyXG4gIGlkOiAnZXN0YXRlcycsXHJcbiAgdmlzaWJsZTogdHJ1ZSxcclxuICBzdHlsZTogcHJvcGVydHlTdHlsZUZ1bmN0aW9uXHJcbn0pO1xyXG5wcm9wZXJ0eS5zZXRaSW5kZXgoMik7XHJcbnZhciBQU0FTdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gIHZhciBzeW1ib2wgPSBmZWF0dXJlLmdldCgnc3R5bGUnKTtcclxuICB2YXIgdGV4dDtcclxuICBpZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gICAgdGV4dCA9IGZlYXR1cmUuZ2V0KCduYW1lX2VsJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRleHQgPSBmZWF0dXJlLmdldCgnbmFtZV9lbicpO1xyXG4gIH1cclxuICBpZiAoIXN0eWxlQ2FjaGVbc3ltYm9sXSkge1xyXG4gICAgc3R5bGVDYWNoZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgICBzcmM6ICcuLi9pbWFnZXMvbWFraS9yZW5kZXJzLycgKyBzeW1ib2wgKyAnLTI0LnBuZycsXHJcbiAgICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICAgIGFuY2hvcjogWzAuNSwgMC41XSxcclxuICAgICAgICBzY2FsZTogMVxyXG4gICAgICB9KSksXHJcbiAgICAgIHRleHQ6IG5ldyBvbC5zdHlsZS5UZXh0KHtcclxuICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMC44XSxcclxuICAgICAgICAgIHdpZHRoOiAxXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgb2Zmc2V0WTogMTJcclxuICAgICAgfSlcclxuICAgIH0pXTtcclxuICB9XHJcbiAgcmV0dXJuIHN0eWxlQ2FjaGU7XHJcbn07XHJcbnZhciBQU0EgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHtcclxuICBzdHlsZTogUFNBU3R5bGVGdW5jdGlvbixcclxuICBtYXhSZXNvbHV0aW9uOiAzXHJcbn0pO1xyXG5QU0Euc2V0WkluZGV4KDEpO1xyXG5cclxuZnVuY3Rpb24gZmlsdGVyZWRFc2F0ZVN0eWxlKGZlYXR1cmUsIHJlc29sdXRpb24pIHtcclxuICBzdHlsZUNhY2hlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgc3JjOiAnLi4vaW1hZ2VzL21hcC1pY29ucy9waW5zLzQ4L3BpbjQucG5nJyxcclxuICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICBhbmNob3I6IFswLjUsIDAuNV0sXHJcbiAgICAgIHNjYWxlOiAwLjdcclxuICAgIH0pKVxyXG4gIH0pXTtcclxuICByZXR1cm4gc3R5bGVDYWNoZTtcclxufVxyXG52YXIgZmlsdGVyZWRFc3RhdGVzID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc291cmNlOiBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgICBmb3JtYXQ6IGdlb0pTT05Gb3JtYXRcclxuICB9KSxcclxuICBpZDogJ2ZpbHRlcmVkRXN0YXRlcycsXHJcbiAgdmlzaWJsZTogdHJ1ZSxcclxuICBzdHlsZTogZmlsdGVyZWRFc2F0ZVN0eWxlXHJcbn0pO1xyXG5maWx0ZXJlZEVzdGF0ZXMuc2V0WkluZGV4KDIpO1xyXG52YXIgc2VsZWN0U291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe30pO1xyXG52YXIgc2VsZWN0Qm94ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc291cmNlOiBzZWxlY3RTb3VyY2UsXHJcbiAgc3R5bGU6IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgIGNvbG9yOiAncmdiYSgyMjcsIDcyLCAyNywgMC4yKSdcclxuICAgIH0pLFxyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6ICcjRTM0ODFCJyxcclxuICAgICAgd2lkdGg6IDJcclxuICAgIH0pLFxyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICByYWRpdXM6IDcsXHJcbiAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICBjb2xvcjogJyNFMzQ4MUInXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcbn0pO1xyXG5zZWxlY3RCb3guc2V0WkluZGV4KDMpO1xyXG52YXIgbWFwID0gbmV3IG9sLk1hcCh7XHJcbiAgdGFyZ2V0OiAnbWFwJyxcclxuICBsYXllcnM6IFttYXBib3gsIHByb3BlcnR5LCBQU0EsIGZpbHRlcmVkRXN0YXRlcywgc2VsZWN0Qm94XSxcclxuICAvLyBpbnRlcmFjdGlvbnM6IG9sLmludGVyYWN0aW9uLmRlZmF1bHRzKCkuZXh0ZW5kKFtuZXcgb2wuaW50ZXJhY3Rpb24uU2VsZWN0KHtcclxuICAvLyAgIGNvbmRpdGlvbjogZnVuY3Rpb24oZXZ0KSB7XHJcbiAgLy8gICAgIHJldHVybiBldnQudHlwZSA9PT0gJ3NpbmdsZWNsaWNrJyAmJiBvbC5ldmVudHMuY29uZGl0aW9uLnNoaWZ0S2V5T25seShldnQpO1xyXG4gIC8vICAgfSxcclxuICAvLyAgIHN0eWxlOiBzZWxlY3RTdHlsZUZ1bmN0aW9uXHJcbiAgLy8gfSldKSxcclxuICBsb2FkVGlsZXNXaGlsZUFuaW1hdGluZzogdHJ1ZSxcclxuICBsb2FkVGlsZXNXaGlsZUludGVyYWN0aW5nOiB0cnVlLFxyXG4gIHJlbmRlcmVyOiAnY2FudmFzJyxcclxuICBjb250cm9sczogb2wuY29udHJvbC5kZWZhdWx0cyh7XHJcbiAgICBhdHRyaWJ1dGlvbk9wdGlvbnM6IHtcclxuICAgICAgY29sbGFwc2libGU6IGZhbHNlLFxyXG4gICAgICBjb2xsYXBzZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfSlcclxuICAgIC5leHRlbmQoW1xyXG4gICAgICBuZXcgb2wuY29udHJvbC5TY2FsZUxpbmUoe1xyXG4gICAgICAgIHVuaXRzOiAnbWV0cmljJ1xyXG4gICAgICB9KSwgbmV3IG9sLmNvbnRyb2wuT3ZlcnZpZXdNYXAoe1xyXG4gICAgICAgIGNsYXNzTmFtZTogJ29sLW92ZXJ2aWV3bWFwIG9sLWN1c3RvbS1vdmVydmlld21hcCcsXHJcbiAgICAgICAgY29sbGFwc2libGU6IHRydWUsXHJcbiAgICAgICAgY29sbGFwc2VkOiB0cnVlLFxyXG4gICAgICAgIGxheWVyczogW2JpbmddXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgb2wuY29udHJvbC5ab29tVG9FeHRlbnQoe1xyXG4gICAgICAgIGV4dGVudDogZXh0ZW50XHJcbiAgICAgIH0pXHJcbiAgICBdKSxcclxuICB2aWV3OiBuZXcgb2wuVmlldyh7XHJcbiAgICBjZW50ZXI6IGNlbnRlcixcclxuICAgIC8vIGV4dGVudDogZXh0ZW50LFxyXG4gICAgcHJvamVjdGlvbjogJ0VQU0c6Mzg1NycsXHJcbiAgICB6b29tOiAxNCxcclxuICAgIG1heFpvb206IDE5LFxyXG4gICAgbWluWm9vbTogMTBcclxuICB9KVxyXG59KTtcclxuaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICBiaW5nLnNldCgnbmFtZScsICfOlM6/z4HPhc+Gzr/Pgc65zrrOriDOtc65zrrPjM69zrEnKTtcclxuICBtYXBib3guc2V0KCduYW1lJywgJ86nzqzPgc+EzrfPgicpO1xyXG4gIHByb3BlcnR5LnNldCgnbmFtZScsICfOkc66zq/Ovc63z4TOsScpO1xyXG59IGVsc2Uge1xyXG4gIGJpbmcuc2V0KCduYW1lJywgJ1NhdHRlbGl0ZSBJbWFnZScpO1xyXG4gIG1hcGJveC5zZXQoJ25hbWUnLCAnTWFwJyk7XHJcbiAgcHJvcGVydHkuc2V0KCduYW1lJywgJ1Byb3BlcnRpZXMnKTtcclxufVxyXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHtcclxuICAkKCcuc3Bpbm5lcicpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICQoJy5tZGwtc3Bpbm5lcicpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuICBoYW5kbGVTZWxlY3QoKTtcclxufSk7XHJcbiIsIndpbmRvdy5hcHAgfHwgKHdpbmRvdy5hcHAgPSB7fSk7XHJcbnZhciBhcHAgPSB3aW5kb3cuYXBwO1xyXG5hcHAuZmlsdGVycyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICB0aGlzLmVzdGF0ZVR5cGUgPSBvcHRpb25zLmVzdGF0ZVR5cGU7XHJcbiAgdGhpcy5sZWFzZVR5cGUgPSBvcHRpb25zLmxlYXNlVHlwZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sZWFzZVR5cGUgOiAnUmVudCc7XHJcbiAgdGhpcy5zdGFydFByaWNlID0gb3B0aW9ucy5zdGFydFByaWNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0YXJ0UHJpY2UgOiAwO1xyXG4gIHRoaXMuZW5kUHJpY2UgPSBvcHRpb25zLmVuZFByaWNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmVuZFByaWNlIDogMjE0NzQ4MzY0NztcclxuICB0aGlzLnBhcmtpbmcgPSBvcHRpb25zLnBhcmtpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGFya2luZyA6IGZhbHNlO1xyXG4gIHRoaXMuZnVybmlzaGVkID0gb3B0aW9ucy5mdXJuaXNoZWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZnVybmlzaGVkIDogZmFsc2U7XHJcbiAgdGhpcy5oZWF0aW5nID0gb3B0aW9ucy5oZWF0aW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmhlYXRpbmcgOiBmYWxzZTtcclxuICB0aGlzLmNvb2xpbmcgPSBvcHRpb25zLmNvb2xpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29vbGluZyA6IGZhbHNlO1xyXG4gIHRoaXMudmlldyA9IG9wdGlvbnMudmlldyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy52aWV3IDogZmFsc2U7XHJcbn07XHJcbmFwcC5maWx0ZXJzLnByb3RvdHlwZS5jcmVhdGVWYWxpZGF0b3IgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgcCA9ICQoJ2Zvcm1bbmFtZT1maWx0ZXJzXScpLnBhcnNsZXkoKTtcclxuICByZXR1cm4gcDtcclxufVxyXG5hcHAuZmlsdGVycy5wcm90b3R5cGUuc2V0RGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgZXBzZzQzMjZFeHRlbnQ7XHJcbiAgUFNBLnNldFNvdXJjZShudWxsKTtcclxuICB0b2FzdHIub3B0aW9ucyA9IHtcclxuICAgICdjbG9zZUJ1dHRvbic6IGZhbHNlLFxyXG4gICAgJ2RlYnVnJzogZmFsc2UsXHJcbiAgICAnbmV3ZXN0T25Ub3AnOiBmYWxzZSxcclxuICAgICdwcm9ncmVzc0Jhcic6IGZhbHNlLFxyXG4gICAgJ3Bvc2l0aW9uQ2xhc3MnOiAndG9hc3QtdG9wLWNlbnRlcicsXHJcbiAgICAncHJldmVudER1cGxpY2F0ZXMnOiBmYWxzZSxcclxuICAgICdvbmNsaWNrJzogbnVsbCxcclxuICAgICdzaG93RHVyYXRpb24nOiAnMzAwJyxcclxuICAgICdoaWRlRHVyYXRpb24nOiAnMTAwMCcsXHJcbiAgICAndGltZU91dCc6ICc1MDAwJyxcclxuICAgICdleHRlbmRlZFRpbWVPdXQnOiAnMTAwMCcsXHJcbiAgICAnc2hvd0Vhc2luZyc6ICdzd2luZycsXHJcbiAgICAnaGlkZUVhc2luZyc6ICdsaW5lYXInLFxyXG4gICAgJ3Nob3dNZXRob2QnOiAnZmFkZUluJyxcclxuICAgICdoaWRlTWV0aG9kJzogJ2ZhZGVPdXQnXHJcbiAgfTtcclxuICBpZiAoc2VsZWN0U291cmNlLmdldEZlYXR1cmVzKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICBlcHNnNDMyNkV4dGVudCA9IG9sLnByb2oudHJhbnNmb3JtRXh0ZW50KGV4dGVudCwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZXBzZzQzMjZFeHRlbnQgPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChzZWxlY3RTb3VyY2UuZ2V0RmVhdHVyZXMoKVswXS5nZXRHZW9tZXRyeSgpLmdldEV4dGVudCgpLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gIH1cclxuICB0aGlzLmV4dGVudCA9IGVwc2c0MzI2RXh0ZW50O1xyXG4gIHRoaXMucCA9IHRoaXMuY3JlYXRlVmFsaWRhdG9yKCk7XHJcbn07XHJcblxyXG5hcHAuZmlsdGVycy5wcm90b3R5cGUuYWpheENhbGwgPSBmdW5jdGlvbigpIHtcclxuICBjb25zb2xlLmxvZyh0aGlzLmVzdGF0ZVR5cGUpO1xyXG4gIGlmICh0aGlzLnAudmFsaWRhdGUoKSA9PT0gdHJ1ZSkge1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2RiL2ZpbHRlcmVkcHJvcGVydHk/YmJveFt4MV09JyArIHRoaXMuZXh0ZW50WzBdICsgJyZiYm94W3kxXT0nICsgdGhpcy5leHRlbnRbMV0gKyAnJmJib3hbeDJdPScgKyB0aGlzLmV4dGVudFsyXSArICcmYmJveFt5Ml09JyArIHRoaXMuZXh0ZW50WzNdLFxyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIGVzdGF0ZVR5cGU6IHRoaXMuZXN0YXRlVHlwZSxcclxuICAgICAgICBsZWFzZVR5cGU6IHRoaXMubGVhc2VUeXBlLFxyXG4gICAgICAgIGZ1cm5pc2hlZDogdGhpcy5mdXJuaXNoZWQsXHJcbiAgICAgICAgaGVhdGluZzogdGhpcy5oZWF0aW5nLFxyXG4gICAgICAgIHBhcmtpbmc6IHRoaXMucGFya2luZyxcclxuICAgICAgICBjb29saW5nOiB0aGlzLmNvb2xpbmcsXHJcbiAgICAgICAgdmlldzogdGhpcy52aWV3LFxyXG4gICAgICAgIHN0YXJ0UHJpY2U6IHRoaXMuc3RhcnRQcmljZSxcclxuICAgICAgICBlbmRQcmljZTogdGhpcy5lbmRQcmljZVxyXG4gICAgICB9XHJcbiAgICB9KS5kb25lKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgIHZhciBmZWF0dXJlcyA9IGdlb0pTT05Gb3JtYXQucmVhZEZlYXR1cmVzKHJlc3BvbnNlLCB7XHJcbiAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHRvYXN0ci5jbGVhcigpO1xyXG4gICAgICAgIGZpbHRlcmVkRXN0YXRlcy5nZXRTb3VyY2UoKS5jbGVhcigpO1xyXG4gICAgICAgIGZpbHRlcmVkRXN0YXRlcy5nZXRTb3VyY2UoKS5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XHJcbiAgICAgICAgZmlsdGVyZWRFc3RhdGVzLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgcHJvcGVydHkuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdmFyIGV4dGVudCA9IGZpbHRlcmVkRXN0YXRlcy5nZXRTb3VyY2UoKS5nZXRFeHRlbnQoKTtcclxuICAgICAgICB2YXIgY2VudGVyID0gW107XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9hc3RyLmVycm9yKCdObyBJbmZvIEZvdW5kIScpO1xyXG4gICAgICAgIGZpbHRlcmVkRXN0YXRlcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBwcm9wZXJ0eS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59O1xyXG4kKCcjaW52b2tlRmlsdGVycycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBmaWx0ZXJzIDtcclxuICB2YXIgb3B0aW9ucyA9IHt9O1xyXG4gIG9wdGlvbnMuZXN0YXRlVHlwZSA9ICQoJyNlc3RhdGVUeXBlJykudmFsKCk7XHJcbiAgb3B0aW9ucy5sZWFzZVR5cGUgPSAkKCdpbnB1dFtuYW1lPW9wdGlvbnNdOmNoZWNrZWQnKS52YWwoKTtcclxuICBvcHRpb25zLnN0YXJ0UHJpY2UgPSAkKCcjc3RhcnRQcmljZScpLnZhbCgpO1xyXG4gIG9wdGlvbnMuZW5kUHJpY2UgPSAkKCcjZW5kUHJpY2UnKS52YWwoKTtcclxuICBvcHRpb25zLnBhcmtpbmcgPSAkKCcjY2hlY2tib3gtMScpLnByb3AoJ2NoZWNrZWQnKTtcclxuICBvcHRpb25zLmZ1cm5pc2hlZCA9ICQoJyNjaGVja2JveC0yJykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIG9wdGlvbnMuaGVhdGluZyA9ICQoJyNjaGVja2JveC0zJykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIG9wdGlvbnMuY29vbGluZyA9ICQoJyNjaGVja2JveC00JykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIG9wdGlvbnMudmlldyA9ICQoJyNjaGVja2JveC01JykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIGZpbHRlcnMgPSBuZXcgYXBwLmZpbHRlcnMob3B0aW9ucyk7XHJcbiAgZmlsdGVycy5zZXREZWZhdWx0cygpO1xyXG5cclxuICBmaWx0ZXJzLmFqYXhDYWxsKCk7XHJcblxyXG59KTtcclxuJCgnI2NsZWFyRmlsdGVycycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBvcmlnbmFsVmFsdWUgPSAkKCcjZXN0YXRlVHlwZSBvcHRpb24nKS52YWwoKTtcclxuICAkKCdsYWJlbFtmb3I9b3B0aW9uLTFdJykuYWRkQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9b3B0aW9uLTJdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9Y2hlY2tib3gtMV0nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJ2xhYmVsW2Zvcj1jaGVja2JveC0yXScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgJCgnbGFiZWxbZm9yPWNoZWNrYm94LTNdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9Y2hlY2tib3gtNF0nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJ2xhYmVsW2Zvcj1jaGVja2JveC01XScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgJCgnbGFiZWxbZm9yPWNoZWNrYm94LTZdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKG9yaWduYWxWYWx1ZSk7XHJcbiAgZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgcHJvcGVydHkuc2V0VmlzaWJsZSh0cnVlKTtcclxuICBQU0Euc2V0U291cmNlKG51bGwpO1xyXG4gIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihkcmF3KTtcclxufSk7XHJcbnZhciBkcmF3O1xyXG5mdW5jdGlvbiBhZGRJbnRlcmFjdGlvbigpIHtcclxuICBzZWxlY3RTb3VyY2UuY2xlYXIoKTtcclxuICBkcmF3ID0gbmV3IG9sLmludGVyYWN0aW9uLkRyYXcoe1xyXG4gICAgc291cmNlOiBzZWxlY3RTb3VyY2UsXHJcbiAgICB0eXBlOiAnTGluZVN0cmluZycsXHJcbiAgICBnZW9tZXRyeUZ1bmN0aW9uOiBnZW9tZXRyeUZ1bmN0aW9uLFxyXG4gICAgbWF4UG9pbnRzOiAyXHJcbiAgfSk7XHJcbiAgZHJhdy5vbignZHJhd3N0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICBzZWxlY3RTb3VyY2UuY2xlYXIoKTtcclxuICB9KTtcclxuICBkcmF3Lm9uKCdkcmF3ZW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICBtYXAucmVtb3ZlSW50ZXJhY3Rpb24oZHJhdyk7XHJcbiAgfSk7XHJcbiAgbWFwLmFkZEludGVyYWN0aW9uKGRyYXcpO1xyXG59XHJcbmZ1bmN0aW9uIGdlb21ldHJ5RnVuY3Rpb24oY29vcmRpbmF0ZXMsIGdlb21ldHJ5KSB7XHJcbiAgaWYgKCFnZW9tZXRyeSkge1xyXG4gICAgZ2VvbWV0cnkgPSBuZXcgb2wuZ2VvbS5Qb2x5Z29uKG51bGwpO1xyXG4gIH1cclxuICB2YXIgc3RhcnQgPSBjb29yZGluYXRlc1swXTtcclxuICB2YXIgZW5kID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgZ2VvbWV0cnkuc2V0Q29vcmRpbmF0ZXMoW1xyXG4gICAgW1xyXG4gICAgICBzdGFydCxcclxuICAgICAgW1xyXG4gICAgICAgIHN0YXJ0WzBdLCBlbmRbMV1cclxuICAgICAgXSxcclxuICAgICAgZW5kLFxyXG4gICAgICBbXHJcbiAgICAgICAgZW5kWzBdLCBzdGFydFsxXVxyXG4gICAgICBdLFxyXG4gICAgICBzdGFydFxyXG4gICAgXVxyXG4gIF0pO1xyXG4gIHJldHVybiBnZW9tZXRyeTtcclxufVxyXG4kKCcjY2hlY2tib3gtNicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIGlmICh0aGlzLmNoZWNrZWQpIHtcclxuICAgIGFkZEludGVyYWN0aW9uKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihkcmF3KTtcclxuICAgIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gIH1cclxufSk7XHJcbiIsImZ1bmN0aW9uIGhhbmRsZUluZm8oZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG4gIHZhciBjb29yZGluYXRlID0gZXZ0LmNvb3JkaW5hdGU7XHJcbiAgdmFyIG9iaiA9IHt9O1xyXG4gIHZhciB0aXRsZSA9IHt9O1xyXG4gIHZhciBvd25lciA9IHt9O1xyXG4gIHZhciBmZWF0dXJlcyA9IFtdO1xyXG4gIG9iai50aXRsZSA9IHRpdGxlO1xyXG4gIGlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgICB0aXRsZS5naWQgPSAnzprPic60zrnOus+Mz4IgzpnOtM65zr/Ous+EzrfPg86vzrHPgic7XHJcbiAgICB0aXRsZS50eXBlID0gJ86Vzq/OtM6/z4IgzpnOtM65zr/Ous+EzrfPg86vzrHPgic7XHJcbiAgICB0aXRsZS5saXN0aW5nX3R5cGUgPSAnzqTPjc+Azr/PgiDOkc6zzrPOtc67zq/Osc+CJztcclxuICAgIHRpdGxlLmFyZWEgPSAnzpXOvM6yzrHOtM+MJztcclxuICAgIHRpdGxlLmFkZHJlc3MgPSAnzpTOuc61z4XOuM+Fzr3Pg863JztcclxuICAgIHRpdGxlLmJlZHJvb21zID0gJ86lz4DOvc6/zrTPic68zqzPhM65zrEnO1xyXG4gICAgdGl0bGUucHJpY2UgPSAnzqTOuc68zq4nO1xyXG4gICAgdGl0bGUuaXNuZXcgPSAnzp3Otc+MzrTOvM63z4TOvyc7XHJcbiAgICB0aXRsZS5wYXJraW5nID0gJ86jz4TOrM64zrzOtc+DzrcnO1xyXG4gICAgdGl0bGUuZnVybmlzaGVkID0gJ86Vz4DOuc+AzrvPic68zq3Ovc6/JztcclxuICAgIHRpdGxlLnBldHMgPSAnzprOsc+Ezr/Ouc66zq/OtM65zrEnO1xyXG4gICAgdGl0bGUudmlldyA9ICfOmM6tzrEnO1xyXG4gICAgdGl0bGUuaGVhdGluZyA9ICfOmM6tz4HOvM6xzr3Pg863JztcclxuICAgIHRpdGxlLmNvb2xpbmcgPSAnzqjPjc6+zrcnO1xyXG4gICAgdGl0bGUuY29udGFjdEluZm8gPSAnzqPPhM6/zrnPh861zq/OsSDOlc+AzrnOus6/zrnOvc+Jzr3Or86xz4InO1xyXG4gICAgdGl0bGUubmFtZSA9ICfOjM69zr/OvM6xJztcclxuICAgIHRpdGxlLmxhc3RuYW1lID0gJ86Vz4DOr864zrXPhM6/JztcclxuICAgIHRpdGxlLnBob25lID0gJ86kzrfOu86tz4bPic69zr8nO1xyXG4gICAgdGl0bGUuZW1haWwgPSAnzpfOu861zrrPhM+Bzr/Ovc65zrrOriDOlM65zrXPjc64z4XOvc+DzrcnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aXRsZS5naWQgPSAnRXN0YXRlIENvZGUnO1xyXG4gICAgdGl0bGUudHlwZSA9ICdQcm9wZXJ0eSBUeXBlJztcclxuICAgIHRpdGxlLmxpc3RpbmdfdHlwZSA9ICdMaXN0aW5nIFR5cGUnO1xyXG4gICAgdGl0bGUuYXJlYSA9ICdTaXplJztcclxuICAgIHRpdGxlLmFkZHJlc3MgPSAnQWRkcmVzcyc7XHJcbiAgICB0aXRsZS5iZWRyb29tcyA9ICdCZWRyb29tcyc7XHJcbiAgICB0aXRsZS5wcmljZSA9ICdQcmljZSc7XHJcbiAgICB0aXRsZS5pc25ldyA9ICdOZXdseSBCdWlsZCc7XHJcbiAgICB0aXRsZS5wYXJraW5nID0gJ1BhcmtpbmcnO1xyXG4gICAgdGl0bGUuZnVybmlzaGVkID0gJ0Z1cm5pc2hlZCc7XHJcbiAgICB0aXRsZS5wZXRzID0gJ1BldHMgQWxsb3dlZCc7XHJcbiAgICB0aXRsZS52aWV3ID0gJ1ZpZXcnO1xyXG4gICAgdGl0bGUuaGVhdGluZyA9ICdIZWF0aW5nJztcclxuICAgIHRpdGxlLmNvb2xpbmcgPSAnQ29vbGluZyc7XHJcbiAgICB0aXRsZS5jb250YWN0SW5mbyA9ICdDb250YWN0IEluZm8nO1xyXG4gICAgdGl0bGUubmFtZSA9ICdOYW1lJztcclxuICAgIHRpdGxlLmxhc3RuYW1lID0gJ0xhc3QgTmFtZSc7XHJcbiAgICB0aXRsZS5waG9uZSA9ICdUZWxlcGhvbmUnO1xyXG4gICAgdGl0bGUuZW1haWwgPSAnRW1haWwnO1xyXG4gIH1cclxuICBjbGlja2VkRmVhdHVyZSA9IG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwoZXZ0LnBpeGVsLCBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmVhdHVyZTogZmVhdHVyZSxcclxuICAgICAgbGF5ZXI6IGxheWVyXHJcbiAgICB9O1xyXG4gIH0sIHRoaXMsIGZ1bmN0aW9uKGxheWVyKSB7XHJcbiAgICBpZiAobGF5ZXIuZ2V0KCdpZCcpID09PSAnZXN0YXRlcycgfHwgbGF5ZXIuZ2V0KCdpZCcpID09PSAnZmlsdGVyZWRFc3RhdGVzJykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9LCB0aGlzKTtcclxuICB2YXIgZjtcclxuICBpZiAoY2xpY2tlZEZlYXR1cmUpIHtcclxuICAgIGlmIChjbGlja2VkRmVhdHVyZS5sYXllci5nZXQoJ2lkJykgPT09ICdlc3RhdGVzJyAmJiBjbGlja2VkRmVhdHVyZS5mZWF0dXJlLmdldCgnZmVhdHVyZXMnKS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgZiA9IGNsaWNrZWRGZWF0dXJlLmZlYXR1cmUuZ2V0UHJvcGVydGllcygpLmZlYXR1cmVzWzBdO1xyXG4gICAgICBjb25zb2xlLmxvZyhmKTtcclxuICAgICAgY3JlYXRlUFNBYW5kQ2FyZChmLCBvYmopO1xyXG4gICAgfSBlbHNlIGlmIChjbGlja2VkRmVhdHVyZS5sYXllci5nZXQoJ2lkJykgPT09ICdmaWx0ZXJlZEVzdGF0ZXMnKSB7XHJcbiAgICAgIGYgPSBjbGlja2VkRmVhdHVyZS5mZWF0dXJlO1xyXG4gICAgICBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaik7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIFBTQS5zZXRTb3VyY2UobnVsbCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaikge1xyXG4gIHZhciBmZWF0dXJlID0ge307XHJcbiAgZmVhdHVyZS5naWQgPSBmLmdldCgnZ2lkJyk7XHJcbiAgZmVhdHVyZS5hcmVhID0gZi5nZXQoJ2VzdGF0ZWFyZWEnKTtcclxuICBpZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gICAgZmVhdHVyZS50eXBlID0gZi5nZXQoJ2VzdGF0ZXR5cGUnKTtcclxuICAgIGZlYXR1cmUuYWRkcmVzcyA9IGYuZ2V0KCdzdHJlZXRfZWwnKSArICcgJyArIGYuZ2V0KCdzdHJlZXRfbnVtYmVyJyk7XHJcbiAgICBmZWF0dXJlLm5hbWUgPSBmLmdldCgnbmFtZV9lbCcpO1xyXG4gICAgZmVhdHVyZS5sYXN0bmFtZSA9IGYuZ2V0KCdsYXN0bmFtZV9lbCcpO1xyXG4gICAgaWYgKGYuZ2V0KCdzYWxlJykgPT09IHRydWUpIHtcclxuICAgICAgZmVhdHVyZS5saXN0aW5nX3R5cGUgPSAnzqDPjs67zrfPg863J1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmVhdHVyZS5saXN0aW5nX3R5cGUgPSAnzpXOvc6/zrnOus6vzrHPg863J1xyXG4gICAgfVxyXG4gICAgZmVhdHVyZS5idG5zID0ge1xyXG4gICAgICBpbmZvOiAnz4DOu863z4HOv8+Gzr/Pgc65zrXPgicsXHJcbiAgICAgIGNsb3NlOiAnzrrOu861zrnPg865zrzOvydcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgZmVhdHVyZS50eXBlID0gZi5nZXQoJ2VzdGF0ZXR5cGVfZW4nKTtcclxuICAgIGZlYXR1cmUuYWRkcmVzcyA9IGYuZ2V0KCdzdHJlZXRfZW4nKSArICcgJyArIGYuZ2V0KCdzdHJlZXRfbnVtYmVyJyk7XHJcbiAgICBmZWF0dXJlLm5hbWUgPSBmLmdldCgnbmFtZV9lbicpO1xyXG4gICAgZmVhdHVyZS5sYXN0bmFtZSA9IGYuZ2V0KCdsYXN0bmFtZV9lbicpO1xyXG4gICAgaWYgKGYuZ2V0KCdzYWxlJykgPT09IHRydWUpIHtcclxuICAgICAgZmVhdHVyZS5saXN0aW5nX3R5cGUgPSAnU2FsZSdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZlYXR1cmUubGlzdGluZ190eXBlID0gJ1JlbnQnXHJcbiAgICB9XHJcbiAgICBmZWF0dXJlLmJ0bnMgPSB7XHJcbiAgICAgIGluZm86ICdpbmZvJyxcclxuICAgICAgY2xvc2U6ICdjbG9zZSdcclxuICAgIH1cclxuICB9XHJcbiAgZmVhdHVyZS5iZWRyb29tcyA9IGYuZ2V0KCdiZWRyb29tcycpO1xyXG4gIGZlYXR1cmUucHJpY2UgPSBmLmdldCgncHJpY2UnKTtcclxuICBmZWF0dXJlLmlzbmV3ID0gZi5nZXQoJ2lzbmV3Jyk7XHJcbiAgZmVhdHVyZS5wYXJraW5nID0gZi5nZXQoJ3BhcmtpbmcnKTtcclxuICBmZWF0dXJlLmZ1cm5pc2hlZCA9IGYuZ2V0KCdmdXJuaXNoZWQnKTtcclxuICBmZWF0dXJlLnBldHMgPSBmLmdldCgncGV0cycpO1xyXG4gIGZlYXR1cmUudmlldyA9IGYuZ2V0KCd2aWV3Jyk7XHJcbiAgZmVhdHVyZS5oZWF0aW5nID0gZi5nZXQoJ2hlYXRpbmcnKTtcclxuICBmZWF0dXJlLmNvb2xpbmcgPSBmLmdldCgnY29vbGluZycpO1xyXG4gIGZlYXR1cmUucGhvbmUgPSBmLmdldCgncGhvbmUxJyk7XHJcbiAgZmVhdHVyZS5lbWFpbCA9IGYuZ2V0KCdlbWFpbCcpO1xyXG4gIGZlYXR1cmUuY29vcmRpbmF0ZSA9IGYuZ2V0KCdnZW9tZXRyeScpLmdldENvb3JkaW5hdGVzKCk7XHJcblxyXG4gIHZhciBQU0FTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgICBhdHRyaWJ1dGlvbnM6IFtuZXcgb2wuQXR0cmlidXRpb24oe1xyXG4gICAgICBodG1sOiAnUE9JIGJ5ICcgKyAnPGEgaHJlZj1cImh0dHA6Ly93d3cudGVycmFjb2duaXRhLmdyL1wiPlRlcnJhIENvZ25pdGE8L2E+J1xyXG4gICAgfSldLFxyXG4gICAgZm9ybWF0OiBnZW9KU09ORm9ybWF0LFxyXG4gICAgbG9hZGVyOiBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcclxuICAgICAgdmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvdXNlcy8nICsgZmVhdHVyZS5naWQ7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZS5wcm9wZXJ0eV9zZXJ2aWNlc19hbmFseXNpcywge1xyXG4gICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGFyZWEgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMC4xXVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBmZWF0dXJlc1swXS5zZXRTdHlsZShhcmVhKTtcclxuICAgICAgICBzZWxmLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgc3RyYXRlZ3k6IG9sLmxvYWRpbmdzdHJhdGVneS5hbGxcclxuICB9KTtcclxuICBQU0Euc2V0U291cmNlKFBTQVNvdXJjZSk7XHJcbiAgbWFwLmdldFZpZXcoKS5zZXRDZW50ZXIoZmVhdHVyZS5jb29yZGluYXRlKTtcclxuICBtYXAuZ2V0VmlldygpLnNldFJlc29sdXRpb24oMS4yKTtcclxuICBvYmouZmVhdHVyZSA9IGZlYXR1cmU7XHJcblxyXG4gIGR1c3QucmVuZGVyKCdlc3RhdGVDYXJkcycsIG9iaiwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICQoJy5lc3RhdGUtY2FyZHMnKS5odG1sKG91dCk7XHJcbiAgICAkKCcuZXN0YXRlLWNhcmRzJykuYWRkQ2xhc3MoJ2VzdGF0ZS1jYXJkcy1hY3RpdmUnKTtcclxuICAvLyAkKFwiI2luZm9ib3hcIikuYWRkQ2xhc3MoXCJ2aXN1YWxseWhpZGRlblwiKTtcclxuICB9KTtcclxuICAkKCdhW2hyZWY9XCIjb3Blbk1vZGFsXCJdJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBkdXN0LnJlbmRlcignbW9kYWxJbmZvJywgb2JqLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAkKCcubW9kYWwtY29udGVudCcpLmh0bWwob3V0KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gICQoJ2FbaHJlZj1cIiNjbG9zZUVzdGF0ZUNhcmRcIl0nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQoJy5lc3RhdGUtY2FyZHMnKS5yZW1vdmVDbGFzcygnZXN0YXRlLWNhcmRzLWFjdGl2ZScpO1xyXG4gIH0pO1xyXG59XHJcbiQoJy5pbmZvJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgUFNBLnNldFNvdXJjZShudWxsKTtcclxuICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IHRydWUpIHtcclxuICAgIG1hcC5vbignY2xpY2snLCBoYW5kbGVJbmZvKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWFwLnVuKCdjbGljaycsIGhhbmRsZUluZm8pO1xyXG4gIH1cclxufSk7XHJcbiIsImZ1bmN0aW9uIGhhbmRsZVNlbGVjdCgpICB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGUgPSBmdW5jdGlvbihlKSB7XG4gICAgdGhpcy5lbGVtZW50XyA9IGUsIHRoaXMuc2V0RGVmYXVsdHNfKCksIHRoaXMuaW5pdCgpXG4gIH07XG4gIHdpbmRvdy5NYXRlcmlhbFNlbGVjdGZpZWxkID0gZSwgZS5wcm90b3R5cGUuQ3NzQ2xhc3Nlc18gPSB7XG4gICAgTEFCRUw6ICdtZGwtc2VsZWN0ZmllbGRfX2xhYmVsJyxcbiAgICBTRUxFQ1Q6ICdtZGwtc2VsZWN0ZmllbGRfX3NlbGVjdCcsXG4gICAgU0VMRUNURURfQk9YOiAnbWRsLXNlbGVjdGZpZWxkX19ib3gnLFxuICAgIFNFTEVDVEVEX0JPWF9WQUxVRTogJ21kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJyxcbiAgICBMSVNUX09QVElPTl9CT1g6ICdtZGwtc2VsZWN0ZmllbGRfX2xpc3Qtb3B0aW9uLWJveCcsXG4gICAgSVNfRElSVFk6ICdpcy1kaXJ0eScsXG4gICAgSVNfRk9DVVNFRDogJ2lzLWZvY3VzZWQnLFxuICAgIElTX0RJU0FCTEVEOiAnaXMtZGlzYWJsZWQnLFxuICAgIElTX0lOVkFMSUQ6ICdpcy1pbnZhbGlkJyxcbiAgICBJU19VUEdSQURFRDogJ2lzLXVwZ3JhZGVkJyxcbiAgICBJU19TRUxFQ1RFRDogJ2lzLXNlbGVjdGVkJ1xuICB9LCBlLnByb3RvdHlwZS5LZXljb2Rlc18gPSB7XG4gICAgRU5URVI6IDEzLFxuICAgIEVTQ0FQRTogMjcsXG4gICAgU1BBQ0U6IDMyLFxuICAgIFVQX0FSUk9XOiAzOCxcbiAgICBET1dOX0FSUk9XOiA0MFxuICB9LCBlLnByb3RvdHlwZS5zZXREZWZhdWx0c18gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9wdGlvbnNfID0gW10sIHRoaXMub3B0aW9uc01hcF8gPSB7fSwgdGhpcy5vcHRpb25zQXJyXyA9IFtdLCB0aGlzLmNsb3NpbmdfID0gITAsIHRoaXMua2V5RG93blRpbWVySWRfID0gbnVsbFxuICB9LCBlLnByb3RvdHlwZS5vbkZvY3VzXyA9IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLmNsb3NpbmdfICYmIHRoaXMuc2hvd18oZSlcbiAgfSwgZS5wcm90b3R5cGUub25CbHVyXyA9IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKVxuICB9LCBlLnByb3RvdHlwZS5vblNlbGVjdGVkXyA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgJiYgJ0xJJyA9PSBlLnRhcmdldC5ub2RlTmFtZSkge1xuICAgICAgdmFyIHQgPSB0aGlzLm9wdGlvbnNfW2UudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpXTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25WYWx1ZV8udGV4dENvbnRlbnQgPSB0LnRleHRDb250ZW50LCB0LnNlbGVjdGVkID0gITA7XG4gICAgICB2YXIgcztcbiAgICAgIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiB3aW5kb3cuRXZlbnQgPyBzID0gbmV3IEV2ZW50KCdjaGFuZ2UnLCB7XG4gICAgICAgIGJ1YmJsZXM6ICEwLFxuICAgICAgICBjYW5jZWxhYmxlOiAhMFxuICAgICAgfSkgOiAnZnVuY3Rpb24nID09IHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFdmVudCAmJiAocyA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyksIHMuaW5pdEV2ZW50KCdjaGFuZ2UnLCAhMCwgITApKSwgcyAmJiB0aGlzLnNlbGVjdF8uZGlzcGF0Y2hFdmVudChzKSwgJycgIT09IHQudGV4dENvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElSVFkpO1xuICAgICAgICB2YXIgaSA9IHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKTtcbiAgICAgICAgaSAmJiBpLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCksIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKTtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmxpc3RPcHRpb25Cb3hfLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCk7XG4gICAgICAgIGkgJiYgaS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpXG4gICAgICB9XG4gICAgfVxuICB9LCBlLnByb3RvdHlwZS5vbmNsaWNrXyA9IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLnRvZ2dsZShlKVxuICB9LCBlLnByb3RvdHlwZS51cGRhdGVfID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGU7XG4gICAgaWYgKHRoaXMub3B0aW9uc18gJiYgdGhpcy5vcHRpb25zXy5sZW5ndGggPiAwKVxuICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLm9wdGlvbnNfLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgIHZhciBzID0gdGhpcy5vcHRpb25zX1t0XTtcbiAgICAgICAgaWYgKHMuc2VsZWN0ZWQgJiYgJycgIT09IHMudmFsdWUpIHtcbiAgICAgICAgICB2YXIgZSA9ICEwO1xuICAgICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKSwgdGhpcy5saXN0T3B0aW9uQm94Xy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCksIHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvckFsbCgnTEknKVt0XS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBlIHx8IHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKSwgdGhpcy5jaGVja0Rpc2FibGVkKCksIHRoaXMuY2hlY2tWYWxpZGl0eSgpXG4gIH0sIGUucHJvdG90eXBlLmNoZWNrVmFsaWRpdHkgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNlbGVjdF8udmFsaWRpdHkgJiYgKHRoaXMuc2VsZWN0Xy52YWxpZGl0eS52YWxpZCA/IHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpIDogdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfSU5WQUxJRCkpXG4gIH0sIGUucHJvdG90eXBlLmNoZWNrVmFsaWRpdHkgPSBlLnByb3RvdHlwZS5jaGVja1ZhbGlkaXR5LCBlLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZWxlY3RfLmRpc2FibGVkID8gdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpIDogdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpXG4gIH0sIGUucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQgPSBlLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkLCBlLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZWxlY3RfLmRpc2FibGVkID0gITAsIHRoaXMudXBkYXRlXygpXG4gIH0sIGUucHJvdG90eXBlLmRpc2FibGUgPSBlLnByb3RvdHlwZS5kaXNhYmxlLCBlLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNlbGVjdF8uZGlzYWJsZWQgPSAhMSwgdGhpcy51cGRhdGVfKClcbiAgfSwgZS5wcm90b3R5cGUuZW5hYmxlID0gZS5wcm90b3R5cGUuZW5hYmxlLCBlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihlKSB7XG4gICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKSA/IHRoaXMuaGlkZV8oKSA6IHRoaXMuc2hvd18oZSlcbiAgfSwgZS5wcm90b3R5cGUuc2hvd18gPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tEaXNhYmxlZCgpLCAhdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19ESVNBQkxFRCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpLCB0aGlzLmNsb3NpbmdfID0gITEsIHRoaXMuc3RyU2VhcmNoXyA9ICcnO1xuICAgICAgdmFyIHQgPSB0aGlzLmxpc3RPcHRpb25Cb3hfLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCk7XG4gICAgICB0ICYmICh0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5zY3JvbGxUb3AgPSB0Lm9mZnNldFRvcCksIHRoaXMuYm91bmRLZXlEb3duSGFuZGxlcl8gPSB0aGlzLm9uS2V5RG93bl8uYmluZCh0aGlzKSwgdGhpcy5ib3VuZENsaWNrRG9jSGFuZGxlcl8gPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIHQgPT09IGUgfHwgdGhpcy5jbG9zaW5nXyB8fCB0LnRhcmdldC5wYXJlbnROb2RlID09PSB0aGlzLmVsZW1lbnRfIHx8IHQudGFyZ2V0LnBhcmVudE5vZGUgPT09IHRoaXMuc2VsZWN0ZWRPcHRpb25fIHx8IHRoaXMuaGlkZV8oKVxuICAgICAgfS5iaW5kKHRoaXMpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5ib3VuZEtleURvd25IYW5kbGVyXyksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZENsaWNrRG9jSGFuZGxlcl8pXG4gICAgfVxuICB9LCBlLnByb3RvdHlwZS5vbktleURvd25fID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciB0ID0gdGhpcy5saXN0T3B0aW9uQm94Xy5xdWVyeVNlbGVjdG9yQWxsKCdsaTpub3QoW2Rpc2FibGVkXSknKTtcbiAgICBpZiAodCAmJiB0Lmxlbmd0aCA+IDAgJiYgIXRoaXMuY2xvc2luZ18pIHtcbiAgICAgIHZhciBzLFxuICAgICAgICAgIGkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KS5pbmRleE9mKHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvckFsbCgnLicgKyB0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKVswXSk7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLktleWNvZGVzXy5VUF9BUlJPVyB8fCBlLmtleUNvZGUgPT09IHRoaXMuS2V5Y29kZXNfLkRPV05fQVJST1cpIC0xICE9IGkgJiYgdFtpXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLCBlLmtleUNvZGUgPT09IHRoaXMuS2V5Y29kZXNfLlVQX0FSUk9XID8gKGUucHJldmVudERlZmF1bHQoKSwgcyA9IGkgPiAwID8gdFtpIC0gMV0gOiB0W3QubGVuZ3RoIC0gMV0pIDogKGUucHJldmVudERlZmF1bHQoKSwgcyA9IHQubGVuZ3RoID4gaSArIDEgPyB0W2kgKyAxXSA6IHRbMF0pLCBzICYmIChzLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCksIHRoaXMubGlzdE9wdGlvbkJveF8uc2Nyb2xsVG9wID0gcy5vZmZzZXRUb3AsIHRoaXMubGFzdFNlbGVjdGVkSXRlbV8gPSBzKTtlbHNlIGlmIChlLmtleUNvZGUgIT09IHRoaXMuS2V5Y29kZXNfLlNQQUNFICYmIGUua2V5Q29kZSAhPT0gdGhpcy5LZXljb2Rlc18uRU5URVIgfHwgIXRoaXMubGFzdFNlbGVjdGVkSXRlbV8pIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5LZXljb2Rlc18uRVNDQVBFKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHZhciBvO1xuICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID8gKG8gPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpLCBvLmluaXRNb3VzZUV2ZW50KCdjbGljaycsICEwLCAhMCwgd2luZG93LCAwLCAwLCAwLCAwLCAwLCAhMSwgITEsICExLCAhMSwgMCwgbnVsbCkpIDogbyA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZWRvd24nKSwgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KG8pLCBkb2N1bWVudC5jcmVhdGVFdmVudCB8fCAobyA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZXVwJyksIGRvY3VtZW50LmJvZHkuZGlzcGF0Y2hFdmVudChvKSksIGRvY3VtZW50LmJvZHkuY2xpY2soKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmFsaWRLZXlDb2RlXyhlLmtleUNvZGUpKSB7XG4gICAgICAgICAgdmFyIG4gPSBlLndoaWNoIHx8IGUua2V5Q29kZTtcbiAgICAgICAgICB0aGlzLnN0clNlYXJjaF8gKz0gU3RyaW5nLmZyb21DaGFyQ29kZShuKSwgdGhpcy5rZXlEb3duVGltZXJJZF8gJiYgY2xlYXJUaW1lb3V0KHRoaXMua2V5RG93blRpbWVySWRfKSwgdGhpcy5rZXlEb3duVGltZXJJZF8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5rZXlEb3duVGltZXJJZF8gPSBudWxsLCB0aGlzLnN0clNlYXJjaF8gPSAnJ1xuICAgICAgICAgIH0uYmluZCh0aGlzKSwgMzAwKTtcbiAgICAgICAgICB2YXIgbCA9IHRoaXMuc2VhcmNoQnlTdHJJbmRleF8oMCk7XG4gICAgICAgICAgbCA+IC0xICYmICgtMSAhPSBpICYmIHRbaV0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKSwgcyA9IHRbbF0sIHMuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKSwgdGhpcy5saXN0T3B0aW9uQm94Xy5zY3JvbGxUb3AgPSBzLm9mZnNldFRvcCwgdGhpcy5sYXN0U2VsZWN0ZWRJdGVtXyA9IHMpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIG87XG4gICAgICAgIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID8gKG8gPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpLCBvLmluaXRNb3VzZUV2ZW50KCdjbGljaycsICEwLCAhMCwgd2luZG93LCAwLCAwLCAwLCAwLCAwLCAhMSwgITEsICExLCAhMSwgMCwgbnVsbCkpIDogbyA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZWRvd24nKSwgdGhpcy5sYXN0U2VsZWN0ZWRJdGVtXy5kaXNwYXRjaEV2ZW50KG8pLCBkb2N1bWVudC5jcmVhdGVFdmVudCB8fCAobyA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZXVwJyksIHRoaXMubGFzdFNlbGVjdGVkSXRlbV8uZGlzcGF0Y2hFdmVudChvKSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIGUucHJvdG90eXBlLnNlYXJjaEJ5U3RySW5kZXhfID0gZnVuY3Rpb24oZSkge1xuICAgIGZvciAodmFyIHQgPSB0aGlzLnN0clNlYXJjaF8sIHMgPSBuZXcgUmVnRXhwKCdeJyArIHQgKyAnLicpLCBpID0gLTEsIG8gPSB0aGlzLm9wdGlvbnNBcnJfLCBuID0gMDsgbiA8IG8ubGVuZ3RoOyBuKyspXG4gICAgICBpZiAocy50ZXN0KG9bbl0pKSB7XG4gICAgICAgIGkgPSBuO2JyZWFrXG4gICAgICB9XG4gICAgcmV0dXJuIC0xICE9IGkgPyB0aGlzLm9wdGlvbnNNYXBfW3RoaXMub3B0aW9uc0Fycl9baV1dIDogLTFcbiAgfSwgZS5wcm90b3R5cGUudmFsaWRLZXlDb2RlXyA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gZSA+IDQ3ICYmIDU4ID4gZSB8fCAzMiA9PSBlIHx8IDEzID09IGUgfHwgZSA+IDY0ICYmIDkxID4gZSB8fCBlID4gOTUgJiYgMTEyID4gZSB8fCBlID4gMTg1ICYmIDE5MyA+IGUgfHwgZSA+IDIxOCAmJiAyMjMgPiBlXG4gIH0sIGUucHJvdG90eXBlLmhpZGVfID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCksIHRoaXMuY2xvc2luZ18gPSAhMCwgdGhpcy5zdHJTZWFyY2hfID0gJycsIHRoaXMuYm91bmRDbGlja0RvY0hhbmRsZXJfICYmIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZENsaWNrRG9jSGFuZGxlcl8pLCB0aGlzLmJvdW5kS2V5RG93bkhhbmRsZXJfICYmIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmJvdW5kS2V5RG93bkhhbmRsZXJfKSwgdGhpcy51cGRhdGVfKClcbiAgfSwgZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnRfKSB7XG4gICAgICB0aGlzLmxhYmVsXyA9IHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLkNzc0NsYXNzZXNfLkxBQkVMKSwgdGhpcy5zZWxlY3RfID0gdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uU0VMRUNUKTtcbiAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBlLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5TRUxFQ1RFRF9CT1gpLCBlLnRhYkluZGV4ID0gMSwgdGhpcy5zZWxlY3RlZE9wdGlvbl8gPSBlO1xuICAgICAgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICB0LmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLWljb25zJyksIHQudGFiSW5kZXggPSAtMSwgdC50ZXh0Q29udGVudCA9ICdrZXlib2FyZF9hcnJvd19kb3duJywgZS5hcHBlbmRDaGlsZCh0KTtcbiAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgcy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uU0VMRUNURURfQk9YX1ZBTFVFKSwgcy50YWJJbmRleCA9IDAsIGUuYXBwZW5kQ2hpbGQocyksIHRoaXMuc2VsZWN0ZWRPcHRpb25WYWx1ZV8gPSBzLCB0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0ZWRPcHRpb25fKTtcbiAgICAgIHZhciBpID0gdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19JTlZBTElEKTtcbiAgICAgIGlmICh0aGlzLnNlbGVjdF8gJiYgKHRoaXMub3B0aW9uc18gPSB0aGlzLnNlbGVjdF8ucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJyksIHRoaXMuc2VsZWN0Xy5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbicsIHRoaXMub3B0aW9uc18ubGVuZ3RoKSkge1xuICAgICAgICB0aGlzLmJvdW5kU2VsZWN0ZWRIYW5kbGVyID0gdGhpcy5vblNlbGVjdGVkXy5iaW5kKHRoaXMpO1xuICAgICAgICB2YXIgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBvLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5MSVNUX09QVElPTl9CT1gpLCBvLnRhYkluZGV4ID0gJy0xJztcbiAgICAgICAgdmFyIG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICBuLnRhYkluZGV4ID0gJy0xJztcbiAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCB0aGlzLm9wdGlvbnNfLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgdmFyIGEgPSB0aGlzLm9wdGlvbnNfW2xdLFxuICAgICAgICAgICAgICBkID0gKGEudGV4dENvbnRlbnQgfHwgJycpLnRvVXBwZXJDYXNlKCkucmVwbGFjZSgvKCApfChcXG4pL2csICcnKTt0aGlzLm9wdGlvbnNNYXBfW2RdID0gbCwgdGhpcy5vcHRpb25zQXJyXy5wdXNoKGQpO3ZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtjLnRleHRDb250ZW50ID0gYS50ZXh0Q29udGVudCwgYy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCBsKSwgYy50YWJJbmRleCA9ICctMScsIGMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmJvdW5kU2VsZWN0ZWRIYW5kbGVyKSwgbi5hcHBlbmRDaGlsZChjKSwgYS5zZWxlY3RlZCAmJiAnJyAhPT0gYS50ZXh0Q29udGVudCAmJiAodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElSVFkpLCB0aGlzLnNlbGVjdGVkT3B0aW9uVmFsdWVfLnRleHRDb250ZW50ID0gYS50ZXh0Q29udGVudCwgYy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpKVxuICAgICAgICB9XG4gICAgICAgIG8uYXBwZW5kQ2hpbGQobiksIHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQobyksIHRoaXMubGlzdE9wdGlvbkJveF8gPSBvXG4gICAgICB9XG4gICAgICB0aGlzLmJvdW5kQ2xpY2tIYW5kbGVyID0gdGhpcy5vbmNsaWNrXy5iaW5kKHRoaXMpLCB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZENsaWNrSGFuZGxlciksIGkgJiYgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfSU5WQUxJRCksIHRoaXMuY2hlY2tEaXNhYmxlZCgpXG4gICAgfVxuICB9LCBlLnByb3RvdHlwZS5tZGxEb3duZ3JhZGVfID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmJvdW5kQ2xpY2tIYW5kbGVyKSwgdGhpcy5ib3VuZFNlbGVjdGVkSGFuZGxlciAmJiB0aGlzLm9wdGlvbnNfLmxlbmd0aClcbiAgICAgIGZvciAodmFyIGUgPSB0aGlzLmxpc3RPcHRpb25Cb3hfLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyksIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykgZVt0XS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRTZWxlY3RlZEhhbmRsZXIpXG4gIH0sIGUucHJvdG90eXBlLm1kbERvd25ncmFkZSA9IGUucHJvdG90eXBlLm1kbERvd25ncmFkZV8sIGUucHJvdG90eXBlLm1kbERvd25ncmFkZSA9IGUucHJvdG90eXBlLm1kbERvd25ncmFkZSwgY29tcG9uZW50SGFuZGxlci5yZWdpc3Rlcih7XG4gICAgY29uc3RydWN0b3I6IGUsXG4gICAgY2xhc3NBc1N0cmluZzogJ01hdGVyaWFsU2VsZWN0ZmllbGQnLFxuICAgIGNzc0NsYXNzOiAnbWRsLWpzLXNlbGVjdGZpZWxkJyxcbiAgICB3aWRnZXQ6ICEwXG4gIH0pXG59XG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgdmFyIGdlb2xvY2F0aW9uID0gbmV3IG9sLkdlb2xvY2F0aW9uKHtcclxuICAgIC8vIHRha2UgdGhlIHByb2plY3Rpb24gdG8gdXNlIGZyb20gdGhlIG1hcCdzIHZpZXdcclxuICAgIHByb2plY3Rpb246IG1hcC5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpLFxyXG4gICAgdHJhY2tpbmdPcHRpb25zOiB7XHJcbiAgICAgIG1heGltdW1BZ2U6IDEwMDAwLFxyXG4gICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgIHRpbWVvdXQ6IDYwMDAwMFxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHZhciBhY2N1cmFjeUZlYXR1cmUgPSBuZXcgb2wuRmVhdHVyZSgpO1xyXG4gIGdlb2xvY2F0aW9uLm9uKCdjaGFuZ2U6YWNjdXJhY3lHZW9tZXRyeScsIGZ1bmN0aW9uKCkge1xyXG4gICAgYWNjdXJhY3lGZWF0dXJlLnNldEdlb21ldHJ5KGdlb2xvY2F0aW9uLmdldEFjY3VyYWN5R2VvbWV0cnkoKSk7XHJcbiAgfSk7XHJcbiAgdmFyIHBvc2l0aW9uRmVhdHVyZSA9IG5ldyBvbC5GZWF0dXJlKCk7XHJcbiAgcG9zaXRpb25GZWF0dXJlLnNldFN0eWxlKG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkNpcmNsZSh7XHJcbiAgICAgIHJhZGl1czogNixcclxuICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe2NvbG9yOiAnIzMzOTlDQyd9KSxcclxuICAgICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtjb2xvcjogJyNmZmYnLCB3aWR0aDogMn0pXHJcbiAgICB9KVxyXG4gIH0pKTtcclxuICAvLyBsaXN0ZW4gdG8gY2hhbmdlcyBpbiBwb3NpdGlvblxyXG4gIGdlb2xvY2F0aW9uLm9uKCdjaGFuZ2U6cG9zaXRpb24nLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBjb29yZGluYXRlcyA9IGdlb2xvY2F0aW9uLmdldFBvc2l0aW9uKCk7XHJcbiAgICBwb3NpdGlvbkZlYXR1cmUuc2V0R2VvbWV0cnkoY29vcmRpbmF0ZXNcclxuICAgICAgPyBuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlcylcclxuICAgICAgOiBudWxsKTtcclxuICB9KTtcclxuICBmZWF0dXJlc092ZXJsYXlTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7fSk7XHJcbiAgdmFyIGZlYXR1cmVzT3ZlcmxheSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe21hcDogbWFwLCBzb3VyY2U6IGZlYXR1cmVzT3ZlcmxheVNvdXJjZX0pO1xyXG4gICQoJy5nZW9sb2NhdGlvbicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IHRydWUpIHtcclxuICAgICAgZ2VvbG9jYXRpb24uc2V0VHJhY2tpbmcodHJ1ZSk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheVNvdXJjZS5hZGRGZWF0dXJlcyhbcG9zaXRpb25GZWF0dXJlLCBhY2N1cmFjeUZlYXR1cmVdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGdlb2xvY2F0aW9uLnNldFRyYWNraW5nKGZhbHNlKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5U291cmNlLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICB2YXIgbWFya2VyID0gbmV3IG9sLkZlYXR1cmUoKTtcclxuICB2YXIgaWNvblN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigvKiogQHR5cGUge29seC5zdHlsZS5JY29uT3B0aW9uc30gKi9cclxuICAgICh7XHJcbiAgICAgIGFuY2hvcjogW1xyXG4gICAgICAgIDAuNSwgMVxyXG4gICAgICBdLFxyXG4gICAgICBhbmNob3JYVW5pdHM6ICdmcmFjdGlvbicsXHJcbiAgICAgIGFuY2hvcllVbml0czogJ2ZyYWN0aW9uJyxcclxuICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgc2NhbGU6IDEsXHJcbiAgICAgIHNyYzogJy4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy8yNC9waW4xLnBuZycsXHJcbiAgICAgIHNuYXBUb1BpeGVsOiBmYWxzZVxyXG4gICAgfSkpLFxyXG4gICAgekluZGV4OiAxMDBcclxuICB9KTtcclxuICBtYXJrZXIuc2V0U3R5bGUoaWNvblN0eWxlKTtcclxuICB2YXIgZmVhdHVyZXNPdmVybGF5U3R5bGUgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6ICcjNDA4MDgwJyxcclxuICAgICAgd2lkdGg6IDUsXHJcbiAgICAgIGxpbmVEYXNoOiBbNCwgNF1cclxuICAgIH0pXHJcbiAgfSk7XHJcbiAgdmFyIGZlYXR1cmVzT3ZlcmxheSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gICAgbWFwOiBtYXAsXHJcbiAgICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuVmVjdG9yKCksXHJcbiAgICBzdHlsZTogZmVhdHVyZXNPdmVybGF5U3R5bGUsXHJcbiAgICBpZDogJ3JvdXRlJyxcclxuICAgIG5hbWVFbDogJ86UzrnOsc60z4HOv868zq4nLFxyXG4gICAgTmFtZUVuOiAnUm91dGUnXHJcbiAgfSk7XHJcbiAgdmFyIHJvdXRlQ29vcmRzID0gW107XHJcbiAgZnVuY3Rpb24gaGFuZGxlTWFya2VyKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGZlYXR1cmVDb3VudCA9IGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5nZXRGZWF0dXJlcygpLmxlbmd0aDtcclxuICAgIHZhciBjb29yZGluYXRlcyA9IGV2ZW50LmNvb3JkaW5hdGU7XHJcbiAgICBpZiAoZmVhdHVyZUNvdW50ID09PSAwKSB7XHJcbiAgICAgIG1hcmtlci5zZXRHZW9tZXRyeShuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlcykpO1xyXG4gICAgICBtYXJrZXIuc2V0SWQoJ2ZpcnN0Jyk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5hZGRGZWF0dXJlKG1hcmtlcik7XHJcbiAgICAgIHJvdXRlQ29vcmRzWzBdID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICAgIHJvdXRlQ29vcmRzWzFdID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgICB9IGVsc2UgaWYgKGZlYXR1cmVDb3VudCA9PT0gMSkge1xyXG4gICAgICB2YXIgY2xvbmUgPSBtYXJrZXIuY2xvbmUoKTtcclxuICAgICAgY2xvbmUuc2V0R2VvbWV0cnkobmV3IG9sLmdlb20uUG9pbnQoY29vcmRpbmF0ZXMpKTtcclxuICAgICAgY2xvbmUuc2V0SWQoJ3NlY29uZCcpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuYWRkRmVhdHVyZShjbG9uZSk7XHJcbiAgICAgIHJvdXRlQ29vcmRzWzJdID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICAgIHJvdXRlQ29vcmRzWzNdID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgICAgIGNhbGxSb3V0ZShyb3V0ZUNvb3Jkcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuICAgIH1cclxuICB9XHJcbiAgZ2VvSlNPTkZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuR2VvSlNPTih7ZGVmYXVsdERhdGFQcm9qZWN0aW9uOiAnRVBTRzo0MzI2JywgZ2VvbWV0cnlOYW1lOiAnZ2VvbWV0cnknfSk7XHJcbiAgZnVuY3Rpb24gY2FsbFJvdXRlKHJvdXRlQ29vcmRzKSB7XHJcbiAgICB2YXIgZmlyc3QgPSBvbC5wcm9qLnRyYW5zZm9ybShbXHJcbiAgICAgIHJvdXRlQ29vcmRzWzBdLCByb3V0ZUNvb3Jkc1sxXVxyXG4gICAgXSwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgIHZhciBzZWNvbmQgPSBvbC5wcm9qLnRyYW5zZm9ybShbXHJcbiAgICAgIHJvdXRlQ29vcmRzWzJdLCByb3V0ZUNvb3Jkc1szXVxyXG4gICAgXSwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgIHZhciB4MSA9IGZpcnN0WzBdO1xyXG4gICAgdmFyIHkxID0gZmlyc3RbMV07XHJcbiAgICB2YXIgeDIgPSBzZWNvbmRbMF07XHJcbiAgICB2YXIgeTIgPSBzZWNvbmRbMV07XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6ICdodHRwczovL2FwaS5tYXBib3guY29tL3Y0L2RpcmVjdGlvbnMvbWFwYm94LmRyaXZpbmcvJyArIHgxICsgJywnICsgeTEgKyAnOycgKyB4MiArICcsJyArIHkyICsgJy5qc29uP2FsdGVybmF0aXZlcz1mYWxzZSZhY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2labWx5ZG1GcGJpSXNJbUVpT2lKbE9XWXlZVE0wTlRoaU5XTTBZakpqT0RKak5ERTRPRFF6TnpBMk1HUXlOaUo5Li1OVkRPMjdIenQtd19uUW9zVVBmTEEnLFxyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJ1xyXG4gICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgIHZhciByb3V0ZSA9IHt9O1xyXG4gICAgICByb3V0ZS50eXBlID0gJ0ZlYXR1cmUnO1xyXG4gICAgICByb3V0ZS5nZW9tZXRyeSA9IGRhdGEucm91dGVzWzBdLmdlb21ldHJ5O1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuYWRkRmVhdHVyZXMoZ2VvSlNPTkZvcm1hdC5yZWFkRmVhdHVyZXMocm91dGUsIHtcclxuICAgICAgICBkYXRhUHJvamVjdGlvbjogJ0VQU0c6NDMyNicsXHJcbiAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgIH0pKTtcclxuICAgICAgbWFwLmdldFZpZXcoKS5maXQoZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmdldEV4dGVudCgpLCBtYXAuZ2V0U2l6ZSgpKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XHJcbiAgICB9KS5hbHdheXMoZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiY29tcGxldGVcIik7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgJCgnLm1hcmtlcicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8qIEFjdCBvbiB0aGUgZXZlbnQgKi9cclxuICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBtYXAub24oJ3NpbmdsZWNsaWNrJywgaGFuZGxlTWFya2VyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1hcC51bignc2luZ2xlY2xpY2snLCBoYW5kbGVNYXJrZXIpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuICAgIH1cclxuICB9KTtcclxufSgpKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICQoJy53ZWF0aGVyJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpID09PSB0cnVlKSB7XHJcbiAgICAgIG1hcC5nZXRPdmVybGF5cygpLmZvckVhY2goZnVuY3Rpb24ob3ZsKSB7XHJcbiAgICAgICAgaWYgKG92bC5nZXQoJ25hbWUnKSA9PT0gJ3dlYXRoZXInKSB7XHJcbiAgICAgICAgICAoJChvdmwuZ2V0RWxlbWVudCgpKS5wYXJlbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAkKG92bC5nZXRFbGVtZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHZhciBjZW50ZXIgPSBvbC5wcm9qLnRyYW5zZm9ybShtYXAuZ2V0VmlldygpLmdldENlbnRlcigpLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgICB2YXIgbGF0ID0gY2VudGVyWzFdO1xyXG4gICAgICB2YXIgbG9uID0gY2VudGVyWzBdO1xyXG4gICAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L2ZpbmQ/bGF0PScgKyBsYXQgKyAnJmxvbj0nICsgbG9uICsgJyZjbnQ9NSZjbHVzdGVyPW5vJnVuaXRzPW1ldHJpYyZ0eXBlPWFjY3VyYXRlJkFQUElEPWY5Y2Q5ZmEyYzQyN2MzYjExNWU4N2U0ODYyNjE5YzVjJyxcclxuICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVdlYXRoZXJPdmVybGF5KHBvc2l0aW9uLCBpbmRleCkge1xyXG4gICAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdjbGFzcycsICd3ZWF0aGVyLXBvcHVwICBtZGwtc2hhZG93LS02ZHAnKTtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdpZCcsIGluZGV4KTtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnLCAnd2VhdGhlcicpO1xyXG4gICAgICAgICAgcmV0dXJuIG5ldyBvbC5PdmVybGF5KHtlbGVtZW50OiBlbGVtLCBwb3NpdGlvbjogcG9zaXRpb259KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9ianMgPSBkYXRhLmxpc3Q7XHJcbiAgICAgICAgdmFyIG92ZXJsYXksXHJcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzO1xyXG4gICAgICAgICQuZWFjaChvYmpzLCBmdW5jdGlvbihpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICBjb29yZGluYXRlcyA9IG9sLnByb2oudHJhbnNmb3JtKFtcclxuICAgICAgICAgICAgdmFsLmNvb3JkLmxvbiwgdmFsLmNvb3JkLmxhdFxyXG4gICAgICAgICAgXSwgJ0VQU0c6NDMyNicsICdFUFNHOjM4NTcnKTtcclxuICAgICAgICAgIG92ZXJsYXkgPSBjcmVhdGVXZWF0aGVyT3ZlcmxheShjb29yZGluYXRlcywgaW5kZXgpO1xyXG4gICAgICAgICAgbWFwLmFkZE92ZXJsYXkob3ZlcmxheSk7XHJcbiAgICAgICAgICBvdmVybGF5LnNldCgnbmFtZScsICd3ZWF0aGVyJyk7XHJcbiAgICAgICAgICB3ZWF0aGVyRGF0YSA9IHtcclxuICAgICAgICAgICAgJ25hbWUnOiB2YWwubmFtZSxcclxuICAgICAgICAgICAgJ3RlbXAnOiB2YWwubWFpbi50ZW1wLFxyXG4gICAgICAgICAgICAncHJlc3N1cmUnOiB2YWwubWFpbi5wcmVzc3VyZSxcclxuICAgICAgICAgICAgJ2h1bWlkaXR5JzogdmFsLm1haW4uaHVtaWRpdHlcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBkdXN0LnJlbmRlcignd2VhdGhlclBvcHVwJywgd2VhdGhlckRhdGEsIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAgICAgICAgICQoJyMnICsgaW5kZXgpLmh0bWwob3V0KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIHRvYXN0ci5lcnJvcihcIs6UzrXOvSDOss+Bzq3OuM63zrrOsc69IM+AzrvOt8+Bzr/Phs6/z4HOr861z4IgzrPOuc6xIM+EzrnPgiDOus6xzrnPgc65zrrOrc+CIM+Dz4XOvc64zq7Ous61z4IhXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IGZhbHNlKSB7XHJcbiAgICAgIG1hcC5nZXRPdmVybGF5cygpLmZvckVhY2goZnVuY3Rpb24ob3ZsKSB7XHJcbiAgICAgICAgaWYgKG92bC5nZXQoJ25hbWUnKSA9PT0gJ3dlYXRoZXInKSB7XHJcbiAgICAgICAgICAoJChvdmwuZ2V0RWxlbWVudCgpKS5wYXJlbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAkKG92bC5nZXRFbGVtZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0oKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
