function createPropertyStyle(e){var t;return t="Sale"===e.get("type_en")?"../images/map-icons/pins/48/pin2.png":"../images/map-icons/pins/48/pin5.png",new ol.style.Style({geometry:e.getGeometry(),image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[0,0],scale:.7})})}function propertyStyleFunction(e,t){var o=e.get("features").length;if(o>1)style=[new ol.style.Style({image:new ol.style.Circle({radius:20,stroke:new ol.style.Stroke({color:[156,39,176,1],width:5}),fill:new ol.style.Fill({color:[68,138,255,.8]})}),text:new ol.style.Text({text:o.toString(),fill:new ol.style.Fill({color:"#FFFFFF"})}),zIndex:101})];else{var r=e.get("features")[0];style=[createPropertyStyle(r)]}return style}function selectStyleFunction(e,t){for(var o=[new ol.style.Style({})],r=e.get("features"),a=r.length-1;a>=0;--a)originalFeature=r[a],o.push(createPropertyStyle(originalFeature));return o}function filteredEsateStyle(e,t){return styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/map-icons/pins/48/pin4.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:.7})})]}function addInteraction(){selectSource.clear(),draw=new ol.interaction.Draw({source:selectSource,type:"LineString",geometryFunction:geometryFunction,maxPoints:2}),draw.on("drawstart",function(){selectSource.clear()}),draw.on("drawend",function(){map.removeInteraction(draw)}),map.addInteraction(draw)}function geometryFunction(e,t){t||(t=new ol.geom.Polygon(null));var o=e[0],r=e[1];return t.setCoordinates([[o,[o[0],r[1]],r,[r[0],o[1]],o]]),t}function handleInfo(e){e.preventDefault(),map.removeInteraction(draw);var t=(e.coordinate,{}),o={};t.title=o,"el"===lang?(o.estateCode="Κωδικός Ιδιοκτησίας",o.type="Τύπος",o.area="Εμβαδό",o.address="Διευθυνση",o.bedrooms="Υπνοδωμάτια",o.price="Τιμή",o.isnew="Νεόδμητο",o.parking="Στάθμεση",o.furnished="Επιπλωμένο",o.pets="Κατοικίδια",o.view="Θέα",o.heating="Θέρμανση",o.cooling="Ψύξη",o.contactInfo="Στοιχεία Επικοινωνίας",o.name="Όνομα",o.lastname="Επίθετο",o.phone="Τηλέφωνο",o.email="Ηλεκτρονική Διεύθυνση"):(o.estateCode="Estate Code",o.type="Type",o.area="Size",o.address="Address",o.bedrooms="Bedrooms",o.price="Price",o.isnew="Newly Build",o.parking="Parking",o.furnished="Furnished",o.pets="Pets Allowed",o.view="View",o.heating="Heating",o.cooling="Cooling",o.contactInfo="Contact Info",o.name="Name",o.lastname="Last Name",o.phone="Telephone",o.email="Email"),clickedFeature=map.forEachFeatureAtPixel(e.pixel,function(e,t){return{feature:e,layer:t}},this,function(e){return"estates"===e.get("id")||"filteredEstates"===e.get("id")?!0:void 0},this);var r;clickedFeature?"estates"===clickedFeature.layer.get("id")&&1===clickedFeature.feature.get("features").length?(r=clickedFeature.feature.getProperties().features[0],console.log(r),createPSAandCard(r,t)):"filteredEstates"===clickedFeature.layer.get("id")&&(r=clickedFeature.feature,createPSAandCard(r,t)):PSA.setSource(null)}function createPSAandCard(e,t){var o={};o.gid=e.get("gid"),o.area=e.get("estatearea"),"el"===lang?(o.type=e.get("estatetype"),o.address=e.get("street_el")+" "+e.get("h_num_el")):(o.type=e.get("estatetype_en"),o.address=e.get("street_en")+" "+e.get("h_num_en")),console.log(o.type),o.bedrooms=e.get("bedrooms"),o.price=e.get("price"),o.isnew=e.get("isnew"),o.parking=e.get("parking"),o.furnished=e.get("furnished"),o.pets=e.get("pets"),o.view=e.get("view"),o.heating=e.get("heating"),o.cooling=e.get("cooling"),"el"===lang?(o.name=e.get("name_el"),o.lastname=e.get("lastname_el")):(o.name=e.get("name_en"),o.lastname=e.get("lastname_en")),o.phone=e.get("phone1"),o.email=e.get("email"),o.coordinate=e.get("geometry").getCoordinates();var r=new ol.source.Vector({attributions:[new ol.Attribution({html:'POI by <a href="http://www.terracognita.gr/">Terra Cognita</a>'})],format:geoJSONFormat,loader:function(e,t,r){var a="http://localhost:3000/db/uses/"+o.gid,n=this;$.ajax({url:a,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e.property_services_analysis,{featureProjection:"EPSG:3857"}),o=new ol.style.Style({fill:new ol.style.Fill({color:[156,39,176,.1]})});t[0].setStyle(o),n.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.all});PSA.setSource(r),map.getView().setCenter(o.coordinate),map.getView().setResolution(1.2),t.feature=o,dust.render("estateCards",t,function(e,t){$(".estate-cards").html(t),$(".estate-cards").addClass("estate-cards-active")}),$('a[href="#openModal"]').click(function(){dust.render("modalInfo",t,function(e,t){$(".modal-content").html(t)})}),$('a[href="#closeEstateCard"]').click(function(){$(".estate-cards").removeClass("estate-cards-active")})}var center=[3677385,4120949],extent=[3590094,4102833,3855483,4261211],lang=document.documentElement.lang,styleCache={},geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326"}),bing=new ol.layer.Tile({visible:!0,source:new ol.source.BingMaps({key:"Ak2Gq8VUfICsPpuf7LRANXmXt2sHWmSLPhohmVLFtFIEwYjs_5MCyAhAFwRSVpLj",imagerySet:"Aerial"}),maxZoom:19,crossOrigin:"anonymous",preload:1/0,id:"bing"}),mapbox=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'<a href="https://www.mapbox.com/about/maps/" target="_blank">&copy; Mapbox &copy; OpenStreetMap</a>'})],url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA"}),id:"mapbox"}),propertySource=new ol.source.Vector({format:geoJSONFormat,loader:function(e,t,o){console.log(t);var r=ol.proj.transformExtent(e,"EPSG:3857","EPSG:4326"),a="http://localhost:3000/db/property?bbox[x1]="+r[0]+"&bbox[y1]="+r[1]+"&bbox[x2]="+r[2]+"&bbox[y2]="+r[3],n=this;this.clear(),console.log(e),$.ajax({url:a,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});n.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.bbox}),propertyClusterSource=new ol.source.Cluster({distance:40,source:propertySource,attributions:[new ol.Attribution({html:'All maps © <a href="http://www.terracognita.gr/">Terra Cognita</a>'})]}),property=new ol.layer.Vector({source:propertyClusterSource,id:"estates",visible:!0,style:propertyStyleFunction});property.setZIndex(2);var PSAStyleFunction=function(e,t){var o,r=e.get("style");return o="el"===lang?e.get("name_el"):e.get("name_en"),styleCache[r]||(styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/maki/renders/"+r+"-24.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:1}),text:new ol.style.Text({text:o,stroke:new ol.style.Stroke({color:[156,39,176,.8],width:1}),offsetY:12})})]),styleCache},PSA=new ol.layer.Vector({style:PSAStyleFunction,maxResolution:3});PSA.setZIndex(1);var filteredEstates=new ol.layer.Vector({source:new ol.source.Vector({format:geoJSONFormat}),id:"filteredEstates",visible:!0,style:filteredEsateStyle});filteredEstates.setZIndex(2);var selectSource=new ol.source.Vector({}),selectBox=new ol.layer.Vector({source:selectSource,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(227, 72, 27, 0.2)"}),stroke:new ol.style.Stroke({color:"#E3481B",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#E3481B"})})})});selectBox.setZIndex(3);var map=new ol.Map({target:"map",layers:[mapbox,property,PSA,filteredEstates,selectBox],loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",controls:ol.control.defaults({attributionOptions:{collapsible:!1,collapsed:!1}}).extend([new ol.control.ScaleLine({units:"metric"}),new ol.control.OverviewMap({className:"ol-overviewmap ol-custom-overviewmap",collapsible:!0,collapsed:!0,layers:[bing]}),new ol.control.ZoomToExtent({extent:extent})]),view:new ol.View({center:center,projection:"EPSG:3857",zoom:14,maxZoom:19,minZoom:10})});"el"===lang?(bing.set("name","Δορυφορική εικόνα"),mapbox.set("name","Χάρτης"),property.set("name","Ακίνητα")):(bing.set("name","Sattelite Image"),mapbox.set("name","Map"),property.set("name","Properties")),jQuery(document).ready(function(e){e(".spinner").addClass("visuallyhidden"),e(".mdl-spinner").removeClass("is-active")}),window.app||(window.app={});var app=window.app;app.filters=function(e){this.leaseType=void 0!==e.leaseType?e.leaseType:"Rent",this.startPrice=void 0!==e.startPrice?e.startPrice:0,this.endPrice=void 0!==e.endPrice?e.endPrice:1e10,this.parking=void 0!==e.parking?e.parking:!1,this.furnsished=void 0!==e.furnished?e.pakring:!1,this.heating=void 0!==e.heating?e.heating:!1,this.cooling=void 0!==e.cooling?e.cooling:!1,this.view=void 0!==e.view?e.view:!1},app.filters.prototype.setDefaults=function(){var e;PSA.setSource(null),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},e=0===selectSource.getFeatures().length?ol.proj.transformExtent(extent,"EPSG:3857","EPSG:4326"):ol.proj.transformExtent(selectSource.getFeatures()[0].getGeometry().getExtent(),"EPSG:3857","EPSG:4326"),this.extent=e},app.filters.prototype.ajaxCall=function(){$.ajax({url:"http://localhost:3000/db/filteredproperty?bbox[x1]="+this.extent[0]+"&bbox[y1]="+this.extent[1]+"&bbox[x2]="+this.extent[2]+"&bbox[y2]="+this.extent[3],type:"GET",dataType:"json",data:{leaseType:this.leaseType,furnished:this.furnished,heating:this.heating,parking:this.parking,cooling:this.cooling,view:this.view,startPrice:this.startPrice,endPrice:this.endPrice}}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});if(t.length>0){toastr.clear(),filteredEstates.getSource().clear(),filteredEstates.getSource().addFeatures(t),filteredEstates.setVisible(!0),property.setVisible(!1);filteredEstates.getSource().getExtent()}else toastr.error("No Info Found!"),filteredEstates.setVisible(!1),property.setVisible(!0)})},$("#invokeFilters").click(function(){window.options||(window.options={});var e;window.options.leaseType=$("input[name=options]:checked").val(),window.options.startPrice=$("#startPrice").val(),window.options.endPrice=$("#endPrice").val(),window.options.parking=$("#checkbox-1").prop("checked"),window.options.furnished=$("#checkbox-2").prop("checked"),window.options.heating=$("#checkbox-3").prop("checked"),window.options.cooling=$("#checkbox-4").prop("checked"),window.options.view=$("#checkbox-5").prop("checked"),e=new app.filters(window.options),e.setDefaults(),e.ajaxCall()}),$("#clearFilters").click(function(){$("label[for=option-1]").addClass("is-checked"),$("label[for=option-2]").removeClass("is-checked"),$("label[for=checkbox-1]").removeClass("is-checked"),$("label[for=checkbox-2]").removeClass("is-checked"),$("label[for=checkbox-3]").removeClass("is-checked"),$("label[for=checkbox-4]").removeClass("is-checked"),$("label[for=checkbox-5]").removeClass("is-checked"),$("label[for=checkbox-6]").removeClass("is-checked"),filteredEstates.getSource().clear(),property.setVisible(!0),PSA.setSource(null),selectSource.clear(),map.removeInteraction(draw)});var draw;$("#checkbox-6").click(function(){this.checked?addInteraction():(map.removeInteraction(draw),selectSource.clear())}),function(){var e=new ol.Geolocation({projection:map.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),t=new ol.Feature;e.on("change:accuracyGeometry",function(){t.setGeometry(e.getAccuracyGeometry())});var o=new ol.Feature;o.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#3399CC"}),stroke:new ol.style.Stroke({color:"#fff",width:2})})})),e.on("change:position",function(){var t=e.getPosition();o.setGeometry(t?new ol.geom.Point(t):null)}),featuresOverlaySource=new ol.source.Vector({});new ol.layer.Vector({map:map,source:featuresOverlaySource});$(".geolocation").on("change",function(r){r.preventDefault(),$(this).prop("checked")===!0?(e.setTracking(!0),featuresOverlaySource.addFeatures([o,t])):(e.setTracking(!1),featuresOverlaySource.clear())})}(),$(".info").on("change",function(e){e.preventDefault(),PSA.setSource(null),$(this).prop("checked")===!0?map.on("click",handleInfo):map.un("click",handleInfo)}),function(){function e(e){e.preventDefault();var r=n.getSource().getFeatures().length,a=e.coordinate;if(0===r)o.setGeometry(new ol.geom.Point(a)),o.setId("first"),n.getSource().addFeature(o),i[0]=a[0],i[1]=a[1];else if(1===r){var l=o.clone();l.setGeometry(new ol.geom.Point(a)),l.setId("second"),n.getSource().addFeature(l),i[2]=a[0],i[3]=a[1],t(i)}else n.getSource().clear()}function t(e){var t=ol.proj.transform([e[0],e[1]],"EPSG:3857","EPSG:4326"),o=ol.proj.transform([e[2],e[3]],"EPSG:3857","EPSG:4326"),r=t[0],a=t[1],i=o[0],l=o[1];$.ajax({url:"https://api.mapbox.com/v4/directions/mapbox.driving/"+r+","+a+";"+i+","+l+".json?alternatives=false&access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA",type:"GET",dataType:"json"}).done(function(e){var t={};t.type="Feature",t.geometry=e.routes[0].geometry,n.getSource().addFeatures(geoJSONFormat.readFeatures(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})),map.getView().fit(n.getSource().getExtent(),map.getSize())}).fail(function(){}).always(function(){})}var o=new ol.Feature,r=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,scale:1,src:"../images/map-icons/pins/24/pin1.png",snapToPixel:!1}),zIndex:100});o.setStyle(r);var a=new ol.style.Style({stroke:new ol.style.Stroke({color:"#408080",width:5,lineDash:[4,4]})}),n=new ol.layer.Vector({map:map,source:new ol.source.Vector,style:a,id:"route",nameEl:"Διαδρομή",NameEn:"Route"}),i=[];geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326",geometryName:"geometry"}),$(".marker").on("change",function(t){t.preventDefault(),$(this).prop("checked")===!0?map.on("singleclick",e):(map.un("singleclick",e),n.getSource().clear())})}(),function(){$(".weather").change(function(){if($(this).prop("checked")===!0){map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())});var e=ol.proj.transform(map.getView().getCenter(),"EPSG:3857","EPSG:4326"),t=e[1],o=e[0];$.ajax({url:"http://api.openweathermap.org/data/2.5/find?lat="+t+"&lon="+o+"&cnt=5&cluster=no&units=metric&type=accurate&APPID=f9cd9fa2c427c3b115e87e4862619c5c",type:"GET",dataType:"json"}).done(function(e){function t(e,t){var o=document.createElement("div");return o.setAttribute("class","weather-popup default-primary-color mdl-shadow--6dp"),o.setAttribute("id",t),o.setAttribute("data-name","weather"),new ol.Overlay({element:o,position:e})}var o,r,a=e.list;$.each(a,function(e,a){r=ol.proj.transform([a.coord.lon,a.coord.lat],"EPSG:4326","EPSG:3857"),o=t(r,e),map.addOverlay(o),o.set("name","weather"),weatherData={name:a.name,temp:a.main.temp,pressure:a.main.pressure,humidity:a.main.humidity},dust.render("weatherPopup",weatherData,function(t,o){$("#"+e).html(o)})})}).fail(function(){})}else $(this).prop("checked")===!1&&map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyIsImZpbHRlcnMuanMiLCJpbmZvLmpzIiwiZ2VvbG9jYXRpb24uanMiLCJyb3V0aW5nLmpzIiwid2VhdGhlci5qcyJdLCJuYW1lcyI6WyJjcmVhdGVQcm9wZXJ0eVN0eWxlIiwiZmVhdHVyZSIsInNyYyIsImdldCIsIm9sIiwic3R5bGUiLCJTdHlsZSIsImdlb21ldHJ5IiwiZ2V0R2VvbWV0cnkiLCJpbWFnZSIsIkljb24iLCJhbmNob3JPcmlnaW4iLCJhbmNob3IiLCJzY2FsZSIsInByb3BlcnR5U3R5bGVGdW5jdGlvbiIsInJlc29sdXRpb24iLCJzaXplIiwibGVuZ3RoIiwiQ2lyY2xlIiwicmFkaXVzIiwic3Ryb2tlIiwiU3Ryb2tlIiwiY29sb3IiLCJ3aWR0aCIsImZpbGwiLCJGaWxsIiwidGV4dCIsIlRleHQiLCJ0b1N0cmluZyIsInpJbmRleCIsIm9yaWdpbmFsRmVhdHVyZSIsInNlbGVjdFN0eWxlRnVuY3Rpb24iLCJzdHlsZXMiLCJvcmlnaW5hbEZlYXR1cmVzIiwiaSIsInB1c2giLCJmaWx0ZXJlZEVzYXRlU3R5bGUiLCJzdHlsZUNhY2hlIiwiYWRkSW50ZXJhY3Rpb24iLCJzZWxlY3RTb3VyY2UiLCJjbGVhciIsImRyYXciLCJpbnRlcmFjdGlvbiIsIkRyYXciLCJzb3VyY2UiLCJ0eXBlIiwiZ2VvbWV0cnlGdW5jdGlvbiIsIm1heFBvaW50cyIsIm9uIiwibWFwIiwicmVtb3ZlSW50ZXJhY3Rpb24iLCJjb29yZGluYXRlcyIsImdlb20iLCJQb2x5Z29uIiwic3RhcnQiLCJlbmQiLCJzZXRDb29yZGluYXRlcyIsImhhbmRsZUluZm8iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIm9iaiIsImNvb3JkaW5hdGUiLCJ0aXRsZSIsImxhbmciLCJlc3RhdGVDb2RlIiwiYXJlYSIsImFkZHJlc3MiLCJiZWRyb29tcyIsInByaWNlIiwiaXNuZXciLCJwYXJraW5nIiwiZnVybmlzaGVkIiwicGV0cyIsInZpZXciLCJoZWF0aW5nIiwiY29vbGluZyIsImNvbnRhY3RJbmZvIiwibmFtZSIsImxhc3RuYW1lIiwicGhvbmUiLCJlbWFpbCIsImNsaWNrZWRGZWF0dXJlIiwiZm9yRWFjaEZlYXR1cmVBdFBpeGVsIiwicGl4ZWwiLCJsYXllciIsInRoaXMiLCJmIiwiZ2V0UHJvcGVydGllcyIsImZlYXR1cmVzIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZVBTQWFuZENhcmQiLCJQU0EiLCJzZXRTb3VyY2UiLCJnaWQiLCJnZXRDb29yZGluYXRlcyIsIlBTQVNvdXJjZSIsIlZlY3RvciIsImF0dHJpYnV0aW9ucyIsIkF0dHJpYnV0aW9uIiwiaHRtbCIsImZvcm1hdCIsImdlb0pTT05Gb3JtYXQiLCJsb2FkZXIiLCJleHRlbnQiLCJwcm9qZWN0aW9uIiwidXJsIiwic2VsZiIsIiQiLCJhamF4IiwiZGF0YVR5cGUiLCJkb25lIiwicmVzcG9uc2UiLCJyZWFkRmVhdHVyZXMiLCJwcm9wZXJ0eV9zZXJ2aWNlc19hbmFseXNpcyIsImZlYXR1cmVQcm9qZWN0aW9uIiwic2V0U3R5bGUiLCJhZGRGZWF0dXJlcyIsImZhaWwiLCJzdHJhdGVneSIsImxvYWRpbmdzdHJhdGVneSIsImFsbCIsImdldFZpZXciLCJzZXRDZW50ZXIiLCJzZXRSZXNvbHV0aW9uIiwiZHVzdCIsInJlbmRlciIsImVyciIsIm91dCIsImFkZENsYXNzIiwiY2xpY2siLCJyZW1vdmVDbGFzcyIsImNlbnRlciIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiR2VvSlNPTiIsImRlZmF1bHREYXRhUHJvamVjdGlvbiIsImJpbmciLCJUaWxlIiwidmlzaWJsZSIsIkJpbmdNYXBzIiwia2V5IiwiaW1hZ2VyeVNldCIsIm1heFpvb20iLCJjcm9zc09yaWdpbiIsInByZWxvYWQiLCJJbmZpbml0eSIsImlkIiwibWFwYm94IiwiWFlaIiwicHJvcGVydHlTb3VyY2UiLCJlcHNnNDMyNkV4dGVudCIsInByb2oiLCJ0cmFuc2Zvcm1FeHRlbnQiLCJiYm94IiwicHJvcGVydHlDbHVzdGVyU291cmNlIiwiQ2x1c3RlciIsImRpc3RhbmNlIiwicHJvcGVydHkiLCJzZXRaSW5kZXgiLCJQU0FTdHlsZUZ1bmN0aW9uIiwic3ltYm9sIiwib2Zmc2V0WSIsIm1heFJlc29sdXRpb24iLCJmaWx0ZXJlZEVzdGF0ZXMiLCJzZWxlY3RCb3giLCJNYXAiLCJ0YXJnZXQiLCJsYXllcnMiLCJsb2FkVGlsZXNXaGlsZUFuaW1hdGluZyIsImxvYWRUaWxlc1doaWxlSW50ZXJhY3RpbmciLCJyZW5kZXJlciIsImNvbnRyb2xzIiwiY29udHJvbCIsImRlZmF1bHRzIiwiYXR0cmlidXRpb25PcHRpb25zIiwiY29sbGFwc2libGUiLCJjb2xsYXBzZWQiLCJleHRlbmQiLCJTY2FsZUxpbmUiLCJ1bml0cyIsIk92ZXJ2aWV3TWFwIiwiY2xhc3NOYW1lIiwiWm9vbVRvRXh0ZW50IiwiVmlldyIsInpvb20iLCJtaW5ab29tIiwic2V0IiwialF1ZXJ5IiwicmVhZHkiLCJ3aW5kb3ciLCJhcHAiLCJmaWx0ZXJzIiwib3B0aW9ucyIsImxlYXNlVHlwZSIsInVuZGVmaW5lZCIsInN0YXJ0UHJpY2UiLCJlbmRQcmljZSIsImZ1cm5zaXNoZWQiLCJwYWtyaW5nIiwicHJvdG90eXBlIiwic2V0RGVmYXVsdHMiLCJ0b2FzdHIiLCJjbG9zZUJ1dHRvbiIsImRlYnVnIiwibmV3ZXN0T25Ub3AiLCJwcm9ncmVzc0JhciIsInBvc2l0aW9uQ2xhc3MiLCJwcmV2ZW50RHVwbGljYXRlcyIsIm9uY2xpY2siLCJzaG93RHVyYXRpb24iLCJoaWRlRHVyYXRpb24iLCJ0aW1lT3V0IiwiZXh0ZW5kZWRUaW1lT3V0Iiwic2hvd0Vhc2luZyIsImhpZGVFYXNpbmciLCJzaG93TWV0aG9kIiwiaGlkZU1ldGhvZCIsImdldEZlYXR1cmVzIiwiZ2V0RXh0ZW50IiwiYWpheENhbGwiLCJkYXRhIiwiZ2V0U291cmNlIiwic2V0VmlzaWJsZSIsImVycm9yIiwidmFsIiwicHJvcCIsImNoZWNrZWQiLCJnZW9sb2NhdGlvbiIsIkdlb2xvY2F0aW9uIiwiZ2V0UHJvamVjdGlvbiIsInRyYWNraW5nT3B0aW9ucyIsIm1heGltdW1BZ2UiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwiYWNjdXJhY3lGZWF0dXJlIiwiRmVhdHVyZSIsInNldEdlb21ldHJ5IiwiZ2V0QWNjdXJhY3lHZW9tZXRyeSIsInBvc2l0aW9uRmVhdHVyZSIsImdldFBvc2l0aW9uIiwiUG9pbnQiLCJmZWF0dXJlc092ZXJsYXlTb3VyY2UiLCJlIiwic2V0VHJhY2tpbmciLCJ1biIsImhhbmRsZU1hcmtlciIsImV2ZW50IiwiZmVhdHVyZUNvdW50IiwiZmVhdHVyZXNPdmVybGF5IiwibWFya2VyIiwic2V0SWQiLCJhZGRGZWF0dXJlIiwicm91dGVDb29yZHMiLCJjbG9uZSIsImNhbGxSb3V0ZSIsImZpcnN0IiwidHJhbnNmb3JtIiwic2Vjb25kIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyb3V0ZSIsInJvdXRlcyIsImRhdGFQcm9qZWN0aW9uIiwiZml0IiwiZ2V0U2l6ZSIsImFsd2F5cyIsImljb25TdHlsZSIsImFuY2hvclhVbml0cyIsImFuY2hvcllVbml0cyIsIm9wYWNpdHkiLCJzbmFwVG9QaXhlbCIsImZlYXR1cmVzT3ZlcmxheVN0eWxlIiwibGluZURhc2giLCJuYW1lRWwiLCJOYW1lRW4iLCJnZW9tZXRyeU5hbWUiLCJjaGFuZ2UiLCJnZXRPdmVybGF5cyIsImZvckVhY2giLCJvdmwiLCJnZXRFbGVtZW50IiwicGFyZW50IiwicmVtb3ZlIiwiZ2V0Q2VudGVyIiwibGF0IiwibG9uIiwiY3JlYXRlV2VhdGhlck92ZXJsYXkiLCJwb3NpdGlvbiIsImluZGV4IiwiZWxlbSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJPdmVybGF5IiwiZWxlbWVudCIsIm92ZXJsYXkiLCJvYmpzIiwibGlzdCIsImVhY2giLCJjb29yZCIsImFkZE92ZXJsYXkiLCJ3ZWF0aGVyRGF0YSIsInRlbXAiLCJtYWluIiwicHJlc3N1cmUiLCJodW1pZGl0eSJdLCJtYXBwaW5ncyI6IkFBNkJBLFFBQUFBLHFC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R0FBQS9MLEtBQUE0QixTQUdBVixLQUFBLGtCQUdBVixHQUFBdkIsTUFBQTZJLEtBQUEsY0FBQSxHQUNBakwsSUFBQXVPLGNBQUFDLFFBQUEsU0FBQUMsR0FDQSxZQUFBQSxFQUFBdlIsSUFBQSxVQUNBeUcsRUFBQThLLEVBQUFDLGNBQUFDLFNBQUFDLFNBQ0FqTCxFQUFBOEssRUFBQUMsY0FBQUUiLCJmaWxlIjoibWFwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgY2VudGVyID0gWzM2NzczODUsIDQxMjA5NDldLFxyXG4gIGV4dGVudCA9IFszNTkwMDk0LCA0MTAyODMzLCAzODU1NDgzLCA0MjYxMjExXSxcclxuICBsYW5nID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcsXHJcbiAgc3R5bGVDYWNoZSA9IHt9LFxyXG4gIGdlb0pTT05Gb3JtYXQgPSBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oe1xyXG4gICAgZGVmYXVsdERhdGFQcm9qZWN0aW9uOiBcIkVQU0c6NDMyNlwiXHJcbiAgfSk7XHJcbnZhciBiaW5nID0gbmV3IG9sLmxheWVyLlRpbGUoe1xyXG4gIHZpc2libGU6IHRydWUsXHJcbiAgc291cmNlOiBuZXcgb2wuc291cmNlLkJpbmdNYXBzKHtcclxuICAgIGtleTogXCJBazJHcThWVWZJQ3NQcHVmN0xSQU5YbVh0MnNIV21TTFBob2htVkxGdEZJRXdZanNfNU1DeUFoQUZ3UlNWcExqXCIsXHJcbiAgICBpbWFnZXJ5U2V0OiBcIkFlcmlhbFwiXHJcbiAgfSksXHJcbiAgbWF4Wm9vbTogMTksXHJcbiAgY3Jvc3NPcmlnaW46IFwiYW5vbnltb3VzXCIsXHJcbiAgcHJlbG9hZDogSW5maW5pdHksXHJcbiAgaWQ6IFwiYmluZ1wiXHJcbn0pO1xyXG52YXIgbWFwYm94ID0gbmV3IG9sLmxheWVyLlRpbGUoe1xyXG4gIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5YWVooe1xyXG4gICAgYXR0cmlidXRpb25zOiBbbmV3IG9sLkF0dHJpYnV0aW9uKHtcclxuICAgICAgaHRtbDogXCI8YSBocmVmPVxcXCJodHRwczovL3d3dy5tYXBib3guY29tL2Fib3V0L21hcHMvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+JmNvcHk7IE1hcGJveCAmY29weTsgT3BlblN0cmVldE1hcDwvYT5cIlxyXG4gICAgfSldLFxyXG4gICAgdXJsOiBcImh0dHBzOi8vYXBpLm1hcGJveC5jb20vdjQvbWFwYm94LnN0cmVldHMve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj1way5leUoxSWpvaVptbHlkbUZwYmlJc0ltRWlPaUpsT1dZeVlUTTBOVGhpTldNMFlqSmpPREpqTkRFNE9EUXpOekEyTUdReU5pSjkuLU5WRE8yN0h6dC13X25Rb3NVUGZMQVwiXHJcbiAgfSksXHJcbiAgaWQ6IFwibWFwYm94XCJcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eVN0eWxlKGZlYXR1cmUpIHtcclxuICB2YXIgc3JjO1xyXG4gIGlmIChmZWF0dXJlLmdldChcInR5cGVfZW5cIikgPT09IFwiU2FsZVwiKSB7XHJcbiAgICBzcmMgPSBcIi4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy80OC9waW4yLnBuZ1wiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzcmMgPSBcIi4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy80OC9waW41LnBuZ1wiO1xyXG4gIH1cclxuICByZXR1cm4gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGdlb21ldHJ5OiBmZWF0dXJlLmdldEdlb21ldHJ5KCksXHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgc3JjOiBzcmMsXHJcbiAgICAgIGFuY2hvck9yaWdpbjogXCJib3R0b20tbGVmdFwiLFxyXG4gICAgICBhbmNob3I6IFswLCAwXSxcclxuICAgICAgc2NhbGU6IDAuN1xyXG4gICAgfSkpXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb3BlcnR5U3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgdmFyIHNpemUgPSBmZWF0dXJlLmdldChcImZlYXR1cmVzXCIpXHJcbiAgICAubGVuZ3RoO1xyXG4gIGlmIChzaXplID4gMSkge1xyXG4gICAgc3R5bGUgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICAgIHJhZGl1czogMjAsXHJcbiAgICAgICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgICAgIGNvbG9yOiBbMTU2LCAzOSwgMTc2LCAxXSxcclxuICAgICAgICAgIHdpZHRoOiA1XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgY29sb3I6IFs2OCwgMTM4LCAyNTUsIDAuOF1cclxuICAgICAgICB9KVxyXG4gICAgICB9KSxcclxuICAgICAgdGV4dDogbmV3IG9sLnN0eWxlLlRleHQoe1xyXG4gICAgICAgIHRleHQ6IHNpemUudG9TdHJpbmcoKSxcclxuICAgICAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgICAgICBjb2xvcjogXCIjRkZGRkZGXCJcclxuICAgICAgICB9KVxyXG4gICAgICB9KSxcclxuICAgICAgekluZGV4OiAxMDFcclxuICAgIH0pXTtcclxuICB9IGVsc2Uge1xyXG4gICAgdmFyIG9yaWdpbmFsRmVhdHVyZSA9IGZlYXR1cmUuZ2V0KFwiZmVhdHVyZXNcIilbMF07XHJcbiAgICBzdHlsZSA9IFtjcmVhdGVQcm9wZXJ0eVN0eWxlKG9yaWdpbmFsRmVhdHVyZSldO1xyXG4gIH1cclxuICByZXR1cm4gc3R5bGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlbGVjdFN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gIHZhciBzdHlsZXMgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHt9KV07XHJcbiAgdmFyIG9yaWdpbmFsRmVhdHVyZXMgPSBmZWF0dXJlLmdldChcImZlYXR1cmVzXCIpO1xyXG4gIHZhciBvcmlnaW5hRmVhdHVyZTtcclxuICBmb3IgKHZhciBpID0gb3JpZ2luYWxGZWF0dXJlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG4gICAgb3JpZ2luYWxGZWF0dXJlID0gb3JpZ2luYWxGZWF0dXJlc1tpXTtcclxuICAgIHN0eWxlcy5wdXNoKGNyZWF0ZVByb3BlcnR5U3R5bGUob3JpZ2luYWxGZWF0dXJlKSk7XHJcbiAgfVxyXG4gIHJldHVybiBzdHlsZXM7XHJcbn1cclxudmFyIHByb3BlcnR5U291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe1xyXG4gIGZvcm1hdDogZ2VvSlNPTkZvcm1hdCxcclxuICBsb2FkZXI6IGZ1bmN0aW9uKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xyXG4gICAgY29uc29sZS5sb2cocmVzb2x1dGlvbik7XHJcbiAgICB2YXIgZXBzZzQzMjZFeHRlbnQgPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChleHRlbnQsIFwiRVBTRzozODU3XCIsIFwiRVBTRzo0MzI2XCIpO1xyXG4gICAgdmFyIHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2RiL3Byb3BlcnR5P2Jib3hbeDFdPVwiICsgZXBzZzQzMjZFeHRlbnRbMF0gKyBcIiZiYm94W3kxXT1cIiArIGVwc2c0MzI2RXh0ZW50WzFdICsgXCImYmJveFt4Ml09XCIgKyBlcHNnNDMyNkV4dGVudFsyXSArIFwiJmJib3hbeTJdPVwiICsgZXBzZzQzMjZFeHRlbnRbM107XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICBjb25zb2xlLmxvZyhleHRlbnQpO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgdXJsOiB1cmwsXHJcbiAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgfSlcclxuICAgICAgLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSwge1xyXG4gICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246IFwiRVBTRzozODU3XCJcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxmLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgfSlcclxuICAgICAgLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxuICBzdHJhdGVneTogb2wubG9hZGluZ3N0cmF0ZWd5LmJib3hcclxufSk7XHJcbnZhciBwcm9wZXJ0eUNsdXN0ZXJTb3VyY2UgPSBuZXcgb2wuc291cmNlLkNsdXN0ZXIoe1xyXG4gIGRpc3RhbmNlOiA0MCxcclxuICBzb3VyY2U6IHByb3BlcnR5U291cmNlLFxyXG4gIGF0dHJpYnV0aW9uczogW25ldyBvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICBodG1sOiBcIkFsbCBtYXBzIMKpIFwiICsgXCI8YSBocmVmPVxcXCJodHRwOi8vd3d3LnRlcnJhY29nbml0YS5nci9cXFwiPlRlcnJhIENvZ25pdGE8L2E+XCJcclxuICB9KV1cclxufSk7XHJcbnZhciBwcm9wZXJ0eSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gIHNvdXJjZTogcHJvcGVydHlDbHVzdGVyU291cmNlLFxyXG4gIGlkOiBcImVzdGF0ZXNcIixcclxuICB2aXNpYmxlOiB0cnVlLFxyXG4gIHN0eWxlOiBwcm9wZXJ0eVN0eWxlRnVuY3Rpb25cclxufSk7XHJcbnByb3BlcnR5LnNldFpJbmRleCgyKTtcclxudmFyIFBTQVN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgdmFyIHN5bWJvbCA9IGZlYXR1cmUuZ2V0KFwic3R5bGVcIik7XHJcbiAgdmFyIHRleHQ7XHJcbiAgaWYgKGxhbmcgPT09IFwiZWxcIikge1xyXG4gICAgdGV4dCA9IGZlYXR1cmUuZ2V0KFwibmFtZV9lbFwiKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGV4dCA9IGZlYXR1cmUuZ2V0KFwibmFtZV9lblwiKTtcclxuICB9XHJcbiAgaWYgKCFzdHlsZUNhY2hlW3N5bWJvbF0pIHtcclxuICAgIHN0eWxlQ2FjaGUgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5JY29uKCh7XHJcbiAgICAgICAgc3JjOiBcIi4uL2ltYWdlcy9tYWtpL3JlbmRlcnMvXCIgKyBzeW1ib2wgKyBcIi0yNC5wbmdcIixcclxuICAgICAgICBhbmNob3JPcmlnaW46IFwiYm90dG9tLWxlZnRcIixcclxuICAgICAgICBhbmNob3I6IFswLjUsIDAuNV0sXHJcbiAgICAgICAgc2NhbGU6IDFcclxuICAgICAgfSkpLFxyXG4gICAgICB0ZXh0OiBuZXcgb2wuc3R5bGUuVGV4dCh7XHJcbiAgICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgICAgICAgY29sb3I6IFsxNTYsIDM5LCAxNzYsIDAuOF0sXHJcbiAgICAgICAgICB3aWR0aDogMVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIG9mZnNldFk6IDEyXHJcbiAgICAgIH0pXHJcbiAgICB9KV07XHJcbiAgfVxyXG4gIHJldHVybiBzdHlsZUNhY2hlO1xyXG59O1xyXG52YXIgUFNBID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc3R5bGU6IFBTQVN0eWxlRnVuY3Rpb24sXHJcbiAgbWF4UmVzb2x1dGlvbjogM1xyXG59KTtcclxuUFNBLnNldFpJbmRleCgxKTtcclxuXHJcbmZ1bmN0aW9uIGZpbHRlcmVkRXNhdGVTdHlsZShmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgc3R5bGVDYWNoZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5JY29uKCh7XHJcbiAgICAgIHNyYzogXCIuLi9pbWFnZXMvbWFwLWljb25zL3BpbnMvNDgvcGluNC5wbmdcIixcclxuICAgICAgYW5jaG9yT3JpZ2luOiBcImJvdHRvbS1sZWZ0XCIsXHJcbiAgICAgIGFuY2hvcjogWzAuNSwgMC41XSxcclxuICAgICAgc2NhbGU6IDAuN1xyXG4gICAgfSkpXHJcbiAgfSldO1xyXG4gIHJldHVybiBzdHlsZUNhY2hlO1xyXG59XHJcbnZhciBmaWx0ZXJlZEVzdGF0ZXMgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHtcclxuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHtcclxuICAgIGZvcm1hdDogZ2VvSlNPTkZvcm1hdFxyXG4gIH0pLFxyXG4gIGlkOiBcImZpbHRlcmVkRXN0YXRlc1wiLFxyXG4gIHZpc2libGU6IHRydWUsXHJcbiAgc3R5bGU6IGZpbHRlcmVkRXNhdGVTdHlsZVxyXG59KTtcclxuZmlsdGVyZWRFc3RhdGVzLnNldFpJbmRleCgyKTtcclxudmFyIHNlbGVjdFNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHt9KTtcclxudmFyIHNlbGVjdEJveCA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gIHNvdXJjZTogc2VsZWN0U291cmNlLFxyXG4gIHN0eWxlOiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICBjb2xvcjogXCJyZ2JhKDIyNywgNzIsIDI3LCAwLjIpXCJcclxuICAgIH0pLFxyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6IFwiI0UzNDgxQlwiLFxyXG4gICAgICB3aWR0aDogMlxyXG4gICAgfSksXHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkNpcmNsZSh7XHJcbiAgICAgIHJhZGl1czogNyxcclxuICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgIGNvbG9yOiBcIiNFMzQ4MUJcIlxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9KVxyXG59KTtcclxuc2VsZWN0Qm94LnNldFpJbmRleCgzKTtcclxudmFyIG1hcCA9IG5ldyBvbC5NYXAoe1xyXG4gIHRhcmdldDogXCJtYXBcIixcclxuICBsYXllcnM6IFttYXBib3gsIHByb3BlcnR5LCBQU0EsIGZpbHRlcmVkRXN0YXRlcywgc2VsZWN0Qm94XSxcclxuICAvLyBpbnRlcmFjdGlvbnM6IG9sLmludGVyYWN0aW9uLmRlZmF1bHRzKCkuZXh0ZW5kKFtuZXcgb2wuaW50ZXJhY3Rpb24uU2VsZWN0KHtcclxuICAvLyAgIGNvbmRpdGlvbjogZnVuY3Rpb24oZXZ0KSB7XHJcbiAgLy8gICAgIHJldHVybiBldnQudHlwZSA9PT0gJ3NpbmdsZWNsaWNrJyAmJiBvbC5ldmVudHMuY29uZGl0aW9uLnNoaWZ0S2V5T25seShldnQpO1xyXG4gIC8vICAgfSxcclxuICAvLyAgIHN0eWxlOiBzZWxlY3RTdHlsZUZ1bmN0aW9uXHJcbiAgLy8gfSldKSxcclxuICBsb2FkVGlsZXNXaGlsZUFuaW1hdGluZzogdHJ1ZSxcclxuICBsb2FkVGlsZXNXaGlsZUludGVyYWN0aW5nOiB0cnVlLFxyXG4gIHJlbmRlcmVyOiBcImNhbnZhc1wiLFxyXG4gIGNvbnRyb2xzOiBvbC5jb250cm9sLmRlZmF1bHRzKHtcclxuICAgIGF0dHJpYnV0aW9uT3B0aW9uczoge1xyXG4gICAgICBjb2xsYXBzaWJsZTogZmFsc2UsXHJcbiAgICAgIGNvbGxhcHNlZDogZmFsc2VcclxuICAgIH1cclxuICB9KVxyXG4gICAgLmV4dGVuZChbXHJcbiAgICAgIG5ldyBvbC5jb250cm9sLlNjYWxlTGluZSh7XHJcbiAgICAgICAgdW5pdHM6IFwibWV0cmljXCJcclxuICAgICAgfSksIG5ldyBvbC5jb250cm9sLk92ZXJ2aWV3TWFwKHtcclxuICAgICAgICBjbGFzc05hbWU6IFwib2wtb3ZlcnZpZXdtYXAgb2wtY3VzdG9tLW92ZXJ2aWV3bWFwXCIsXHJcbiAgICAgICAgY29sbGFwc2libGU6IHRydWUsXHJcbiAgICAgICAgY29sbGFwc2VkOiB0cnVlLFxyXG4gICAgICAgIGxheWVyczogW2JpbmddXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgb2wuY29udHJvbC5ab29tVG9FeHRlbnQoe1xyXG4gICAgICAgIGV4dGVudDogZXh0ZW50XHJcbiAgICAgIH0pXHJcbiAgICBdKSxcclxuICB2aWV3OiBuZXcgb2wuVmlldyh7XHJcbiAgICBjZW50ZXI6IGNlbnRlcixcclxuICAgIC8vIGV4dGVudDogZXh0ZW50LFxyXG4gICAgcHJvamVjdGlvbjogXCJFUFNHOjM4NTdcIixcclxuICAgIHpvb206IDE0LFxyXG4gICAgbWF4Wm9vbTogMTksXHJcbiAgICBtaW5ab29tOiAxMFxyXG4gIH0pXHJcbn0pO1xyXG5pZiAobGFuZyA9PT0gXCJlbFwiKSB7XHJcbiAgYmluZy5zZXQoXCJuYW1lXCIsIFwizpTOv8+Bz4XPhs6/z4HOuc66zq4gzrXOuc66z4zOvc6xXCIpO1xyXG4gIG1hcGJveC5zZXQoXCJuYW1lXCIsIFwizqfOrM+Bz4TOt8+CXCIpO1xyXG4gIHByb3BlcnR5LnNldChcIm5hbWVcIiwgXCLOkc66zq/Ovc63z4TOsVwiKTtcclxufSBlbHNlIHtcclxuICBiaW5nLnNldChcIm5hbWVcIiwgXCJTYXR0ZWxpdGUgSW1hZ2VcIik7XHJcbiAgbWFwYm94LnNldChcIm5hbWVcIiwgXCJNYXBcIik7XHJcbiAgcHJvcGVydHkuc2V0KFwibmFtZVwiLCBcIlByb3BlcnRpZXNcIik7XHJcbn1cclxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XHJcbiAgJCgnLnNwaW5uZXInKS5hZGRDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAkKCcubWRsLXNwaW5uZXInKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcbn0pO1xyXG4iLCJ3aW5kb3cuYXBwIHx8ICh3aW5kb3cuYXBwID0ge30pO1xyXG52YXIgYXBwID0gd2luZG93LmFwcDtcclxuYXBwLmZpbHRlcnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgdGhpcy5sZWFzZVR5cGUgPSBvcHRpb25zLmxlYXNlVHlwZSAhPT0gdW5kZWZpbmVkXHJcbiAgICA/IG9wdGlvbnMubGVhc2VUeXBlXHJcbiAgICA6IFwiUmVudFwiO1xyXG4gIHRoaXMuc3RhcnRQcmljZSA9IG9wdGlvbnMuc3RhcnRQcmljZSAhPT0gdW5kZWZpbmVkXHJcbiAgICA/IG9wdGlvbnMuc3RhcnRQcmljZVxyXG4gICAgOiAwO1xyXG4gIHRoaXMuZW5kUHJpY2UgPSBvcHRpb25zLmVuZFByaWNlICE9PSB1bmRlZmluZWRcclxuICAgID8gb3B0aW9ucy5lbmRQcmljZVxyXG4gICAgOiAxMDAwMDAwMDAwMDtcclxuICB0aGlzLnBhcmtpbmcgPSBvcHRpb25zLnBhcmtpbmcgIT09IHVuZGVmaW5lZFxyXG4gICAgPyBvcHRpb25zLnBhcmtpbmdcclxuICAgIDogZmFsc2U7XHJcbiAgdGhpcy5mdXJuc2lzaGVkID0gb3B0aW9ucy5mdXJuaXNoZWQgIT09IHVuZGVmaW5lZFxyXG4gICAgPyBvcHRpb25zLnBha3JpbmdcclxuICAgIDogZmFsc2U7XHJcbiAgdGhpcy5oZWF0aW5nID0gb3B0aW9ucy5oZWF0aW5nICE9PSB1bmRlZmluZWRcclxuICAgID8gb3B0aW9ucy5oZWF0aW5nXHJcbiAgICA6IGZhbHNlO1xyXG4gIHRoaXMuY29vbGluZyA9IG9wdGlvbnMuY29vbGluZyAhPT0gdW5kZWZpbmVkXHJcbiAgICA/IG9wdGlvbnMuY29vbGluZ1xyXG4gICAgOiBmYWxzZTtcclxuICB0aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgIT09IHVuZGVmaW5lZFxyXG4gICAgPyBvcHRpb25zLnZpZXdcclxuICAgIDogZmFsc2U7XHJcbn07XHJcbmFwcC5maWx0ZXJzLnByb3RvdHlwZS5zZXREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBlcHNnNDMyNkV4dGVudDtcclxuICBQU0Euc2V0U291cmNlKG51bGwpO1xyXG4gIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgXCJjbG9zZUJ1dHRvblwiOiBmYWxzZSxcclxuICAgIFwiZGVidWdcIjogZmFsc2UsXHJcbiAgICBcIm5ld2VzdE9uVG9wXCI6IGZhbHNlLFxyXG4gICAgXCJwcm9ncmVzc0JhclwiOiBmYWxzZSxcclxuICAgIFwicG9zaXRpb25DbGFzc1wiOiBcInRvYXN0LXRvcC1jZW50ZXJcIixcclxuICAgIFwicHJldmVudER1cGxpY2F0ZXNcIjogZmFsc2UsXHJcbiAgICBcIm9uY2xpY2tcIjogbnVsbCxcclxuICAgIFwic2hvd0R1cmF0aW9uXCI6IFwiMzAwXCIsXHJcbiAgICBcImhpZGVEdXJhdGlvblwiOiBcIjEwMDBcIixcclxuICAgIFwidGltZU91dFwiOiBcIjUwMDBcIixcclxuICAgIFwiZXh0ZW5kZWRUaW1lT3V0XCI6IFwiMTAwMFwiLFxyXG4gICAgXCJzaG93RWFzaW5nXCI6IFwic3dpbmdcIixcclxuICAgIFwiaGlkZUVhc2luZ1wiOiBcImxpbmVhclwiLFxyXG4gICAgXCJzaG93TWV0aG9kXCI6IFwiZmFkZUluXCIsXHJcbiAgICBcImhpZGVNZXRob2RcIjogXCJmYWRlT3V0XCJcclxuICB9O1xyXG4gIGlmIChzZWxlY3RTb3VyY2UuZ2V0RmVhdHVyZXMoKS5sZW5ndGggPT09IDApIHtcclxuICAgIGVwc2c0MzI2RXh0ZW50ID0gb2wucHJvai50cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCBcIkVQU0c6Mzg1N1wiLCBcIkVQU0c6NDMyNlwiKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZXBzZzQzMjZFeHRlbnQgPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChzZWxlY3RTb3VyY2UuZ2V0RmVhdHVyZXMoKVswXS5nZXRHZW9tZXRyeSgpLmdldEV4dGVudCgpLCBcIkVQU0c6Mzg1N1wiLCBcIkVQU0c6NDMyNlwiKTtcclxuICB9XHJcbiAgdGhpcy5leHRlbnQgPSBlcHNnNDMyNkV4dGVudDtcclxufTtcclxuYXBwLmZpbHRlcnMucHJvdG90eXBlLmFqYXhDYWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgJC5hamF4KHtcclxuICAgIHVybDogXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvZmlsdGVyZWRwcm9wZXJ0eT9iYm94W3gxXT1cIiArIHRoaXMuZXh0ZW50WzBdICsgXCImYmJveFt5MV09XCIgKyB0aGlzLmV4dGVudFsxXSArIFwiJmJib3hbeDJdPVwiICsgdGhpcy5leHRlbnRbMl0gKyBcIiZiYm94W3kyXT1cIiArIHRoaXMuZXh0ZW50WzNdLFxyXG4gICAgdHlwZTogXCJHRVRcIixcclxuICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgIGRhdGE6IHtcclxuICAgICAgbGVhc2VUeXBlOiB0aGlzLmxlYXNlVHlwZSxcclxuICAgICAgZnVybmlzaGVkOiB0aGlzLmZ1cm5pc2hlZCxcclxuICAgICAgaGVhdGluZzogdGhpcy5oZWF0aW5nLFxyXG4gICAgICBwYXJraW5nOiB0aGlzLnBhcmtpbmcsXHJcbiAgICAgIGNvb2xpbmc6IHRoaXMuY29vbGluZyxcclxuICAgICAgdmlldzogdGhpcy52aWV3LFxyXG4gICAgICBzdGFydFByaWNlOiB0aGlzLnN0YXJ0UHJpY2UsXHJcbiAgICAgIGVuZFByaWNlOiB0aGlzLmVuZFByaWNlXHJcbiAgICB9XHJcbiAgfSkuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgdmFyIGZlYXR1cmVzID0gZ2VvSlNPTkZvcm1hdC5yZWFkRmVhdHVyZXMocmVzcG9uc2UsIHtmZWF0dXJlUHJvamVjdGlvbjogXCJFUFNHOjM4NTdcIn0pO1xyXG4gICAgaWYgKGZlYXR1cmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgICAgIGZpbHRlcmVkRXN0YXRlcy5nZXRTb3VyY2UoKS5jbGVhcigpO1xyXG4gICAgICBmaWx0ZXJlZEVzdGF0ZXMuZ2V0U291cmNlKCkuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xyXG4gICAgICBmaWx0ZXJlZEVzdGF0ZXMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgcHJvcGVydHkuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgIHZhciBleHRlbnQgPSBmaWx0ZXJlZEVzdGF0ZXMuZ2V0U291cmNlKCkuZ2V0RXh0ZW50KCk7XHJcbiAgICAgIHZhciBjZW50ZXIgPSBbXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRvYXN0ci5lcnJvcihcIk5vIEluZm8gRm91bmQhXCIpO1xyXG4gICAgICBmaWx0ZXJlZEVzdGF0ZXMuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgIHByb3BlcnR5LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcbiQoXCIjaW52b2tlRmlsdGVyc1wiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICB3aW5kb3cub3B0aW9ucyB8fCAod2luZG93Lm9wdGlvbnMgPSB7fSk7XHJcbiAgdmFyIGZpbHRlcnM7XHJcbiAgd2luZG93Lm9wdGlvbnMubGVhc2VUeXBlID0gJChcImlucHV0W25hbWU9b3B0aW9uc106Y2hlY2tlZFwiKS52YWwoKTtcclxuICB3aW5kb3cub3B0aW9ucy5zdGFydFByaWNlID0gJChcIiNzdGFydFByaWNlXCIpLnZhbCgpO1xyXG4gIHdpbmRvdy5vcHRpb25zLmVuZFByaWNlID0gJChcIiNlbmRQcmljZVwiKS52YWwoKTtcclxuICB3aW5kb3cub3B0aW9ucy5wYXJraW5nID0gJChcIiNjaGVja2JveC0xXCIpLnByb3AoXCJjaGVja2VkXCIpO1xyXG4gIHdpbmRvdy5vcHRpb25zLmZ1cm5pc2hlZCA9ICQoXCIjY2hlY2tib3gtMlwiKS5wcm9wKFwiY2hlY2tlZFwiKTtcclxuICB3aW5kb3cub3B0aW9ucy5oZWF0aW5nID0gJChcIiNjaGVja2JveC0zXCIpLnByb3AoXCJjaGVja2VkXCIpO1xyXG4gIHdpbmRvdy5vcHRpb25zLmNvb2xpbmcgPSAkKFwiI2NoZWNrYm94LTRcIikucHJvcChcImNoZWNrZWRcIik7XHJcbiAgd2luZG93Lm9wdGlvbnMudmlldyA9ICQoXCIjY2hlY2tib3gtNVwiKS5wcm9wKFwiY2hlY2tlZFwiKTtcclxuICBmaWx0ZXJzID0gbmV3IGFwcC5maWx0ZXJzKHdpbmRvdy5vcHRpb25zKTtcclxuICBmaWx0ZXJzLnNldERlZmF1bHRzKCk7XHJcbiAgZmlsdGVycy5hamF4Q2FsbCgpO1xyXG59KTtcclxuJChcIiNjbGVhckZpbHRlcnNcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgJChcImxhYmVsW2Zvcj1vcHRpb24tMV1cIikuYWRkQ2xhc3MoXCJpcy1jaGVja2VkXCIpO1xyXG4gICQoXCJsYWJlbFtmb3I9b3B0aW9uLTJdXCIpLnJlbW92ZUNsYXNzKFwiaXMtY2hlY2tlZFwiKTtcclxuICAkKFwibGFiZWxbZm9yPWNoZWNrYm94LTFdXCIpLnJlbW92ZUNsYXNzKFwiaXMtY2hlY2tlZFwiKTtcclxuICAkKFwibGFiZWxbZm9yPWNoZWNrYm94LTJdXCIpLnJlbW92ZUNsYXNzKFwiaXMtY2hlY2tlZFwiKTtcclxuICAkKFwibGFiZWxbZm9yPWNoZWNrYm94LTNdXCIpLnJlbW92ZUNsYXNzKFwiaXMtY2hlY2tlZFwiKTtcclxuICAkKFwibGFiZWxbZm9yPWNoZWNrYm94LTRdXCIpLnJlbW92ZUNsYXNzKFwiaXMtY2hlY2tlZFwiKTtcclxuICAkKFwibGFiZWxbZm9yPWNoZWNrYm94LTVdXCIpLnJlbW92ZUNsYXNzKFwiaXMtY2hlY2tlZFwiKTtcclxuICAkKFwibGFiZWxbZm9yPWNoZWNrYm94LTZdXCIpLnJlbW92ZUNsYXNzKFwiaXMtY2hlY2tlZFwiKTtcclxuICBmaWx0ZXJlZEVzdGF0ZXMuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuICBwcm9wZXJ0eS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gIFBTQS5zZXRTb3VyY2UobnVsbCk7XHJcbiAgc2VsZWN0U291cmNlLmNsZWFyKCk7XHJcbiAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG59KTtcclxudmFyIGRyYXc7XHJcbmZ1bmN0aW9uIGFkZEludGVyYWN0aW9uKCkge1xyXG4gIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gIGRyYXcgPSBuZXcgb2wuaW50ZXJhY3Rpb24uRHJhdyh7c291cmNlOiBzZWxlY3RTb3VyY2UsIHR5cGU6IFwiTGluZVN0cmluZ1wiLCBnZW9tZXRyeUZ1bmN0aW9uOiBnZW9tZXRyeUZ1bmN0aW9uLCBtYXhQb2ludHM6IDJ9KTtcclxuICBkcmF3Lm9uKFwiZHJhd3N0YXJ0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgc2VsZWN0U291cmNlLmNsZWFyKCk7XHJcbiAgfSk7XHJcbiAgZHJhdy5vbihcImRyYXdlbmRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBtYXAucmVtb3ZlSW50ZXJhY3Rpb24oZHJhdyk7XHJcbiAgfSk7XHJcbiAgbWFwLmFkZEludGVyYWN0aW9uKGRyYXcpO1xyXG59XHJcbmZ1bmN0aW9uIGdlb21ldHJ5RnVuY3Rpb24oY29vcmRpbmF0ZXMsIGdlb21ldHJ5KSB7XHJcbiAgaWYgKCFnZW9tZXRyeSkge1xyXG4gICAgZ2VvbWV0cnkgPSBuZXcgb2wuZ2VvbS5Qb2x5Z29uKG51bGwpO1xyXG4gIH1cclxuICB2YXIgc3RhcnQgPSBjb29yZGluYXRlc1swXTtcclxuICB2YXIgZW5kID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgZ2VvbWV0cnkuc2V0Q29vcmRpbmF0ZXMoW1xyXG4gICAgW1xyXG4gICAgICBzdGFydCxcclxuICAgICAgW1xyXG4gICAgICAgIHN0YXJ0WzBdLCBlbmRbMV1cclxuICAgICAgXSxcclxuICAgICAgZW5kLFxyXG4gICAgICBbXHJcbiAgICAgICAgZW5kWzBdLCBzdGFydFsxXVxyXG4gICAgICBdLFxyXG4gICAgICBzdGFydFxyXG4gICAgXVxyXG4gIF0pO1xyXG4gIHJldHVybiBnZW9tZXRyeTtcclxufVxyXG4kKFwiI2NoZWNrYm94LTZcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgaWYgKHRoaXMuY2hlY2tlZCkge1xyXG4gICAgYWRkSW50ZXJhY3Rpb24oKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG4gICAgc2VsZWN0U291cmNlLmNsZWFyKCk7XHJcbiAgfVxyXG59KTtcclxuIiwiZnVuY3Rpb24gaGFuZGxlSW5mbyhldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBtYXAucmVtb3ZlSW50ZXJhY3Rpb24oZHJhdyk7XHJcbiAgdmFyIGNvb3JkaW5hdGUgPSBldnQuY29vcmRpbmF0ZTtcclxuICB2YXIgb2JqID0ge307XHJcbiAgdmFyIHRpdGxlID0ge307XHJcbiAgdmFyIG93bmVyID0ge307XHJcbiAgdmFyIGZlYXR1cmVzID0gW107XHJcbiAgb2JqLnRpdGxlID0gdGl0bGU7XHJcbiAgaWYgKGxhbmcgPT09IFwiZWxcIikge1xyXG4gICAgdGl0bGUuZXN0YXRlQ29kZSA9IFwizprPic60zrnOus+Mz4IgzpnOtM65zr/Ous+EzrfPg86vzrHPglwiO1xyXG4gICAgdGl0bGUudHlwZSA9IFwizqTPjc+Azr/PglwiO1xyXG4gICAgdGl0bGUuYXJlYSA9IFwizpXOvM6yzrHOtM+MXCI7XHJcbiAgICB0aXRsZS5hZGRyZXNzID0gXCLOlM65zrXPhc64z4XOvc+DzrdcIjtcclxuICAgIHRpdGxlLmJlZHJvb21zID0gXCLOpc+Azr3Ov860z4nOvM6sz4TOuc6xXCI7XHJcbiAgICB0aXRsZS5wcmljZSA9IFwizqTOuc68zq5cIjtcclxuICAgIHRpdGxlLmlzbmV3ID0gXCLOnc61z4zOtM68zrfPhM6/XCI7XHJcbiAgICB0aXRsZS5wYXJraW5nID0gXCLOo8+EzqzOuM68zrXPg863XCI7XHJcbiAgICB0aXRsZS5mdXJuaXNoZWQgPSBcIs6Vz4DOuc+AzrvPic68zq3Ovc6/XCI7XHJcbiAgICB0aXRsZS5wZXRzID0gXCLOms6xz4TOv865zrrOr860zrnOsVwiO1xyXG4gICAgdGl0bGUudmlldyA9IFwizpjOrc6xXCI7XHJcbiAgICB0aXRsZS5oZWF0aW5nID0gXCLOmM6tz4HOvM6xzr3Pg863XCI7XHJcbiAgICB0aXRsZS5jb29saW5nID0gXCLOqM+Nzr7Ot1wiO1xyXG4gICAgdGl0bGUuY29udGFjdEluZm8gPSBcIs6jz4TOv865z4fOtc6vzrEgzpXPgM65zrrOv865zr3Pic69zq/Osc+CXCI7XHJcbiAgICB0aXRsZS5uYW1lID0gXCLOjM69zr/OvM6xXCI7XHJcbiAgICB0aXRsZS5sYXN0bmFtZSA9IFwizpXPgM6vzrjOtc+Ezr9cIjtcclxuICAgIHRpdGxlLnBob25lID0gXCLOpM63zrvOrc+Gz4nOvc6/XCI7XHJcbiAgICB0aXRsZS5lbWFpbCA9IFwizpfOu861zrrPhM+Bzr/Ovc65zrrOriDOlM65zrXPjc64z4XOvc+DzrdcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgdGl0bGUuZXN0YXRlQ29kZSA9IFwiRXN0YXRlIENvZGVcIjtcclxuICAgIHRpdGxlLnR5cGUgPSBcIlR5cGVcIjtcclxuICAgIHRpdGxlLmFyZWEgPSBcIlNpemVcIjtcclxuICAgIHRpdGxlLmFkZHJlc3MgPSBcIkFkZHJlc3NcIjtcclxuICAgIHRpdGxlLmJlZHJvb21zID0gXCJCZWRyb29tc1wiO1xyXG4gICAgdGl0bGUucHJpY2UgPSBcIlByaWNlXCI7XHJcbiAgICB0aXRsZS5pc25ldyA9IFwiTmV3bHkgQnVpbGRcIjtcclxuICAgIHRpdGxlLnBhcmtpbmcgPSBcIlBhcmtpbmdcIjtcclxuICAgIHRpdGxlLmZ1cm5pc2hlZCA9IFwiRnVybmlzaGVkXCI7XHJcbiAgICB0aXRsZS5wZXRzID0gXCJQZXRzIEFsbG93ZWRcIjtcclxuICAgIHRpdGxlLnZpZXcgPSBcIlZpZXdcIjtcclxuICAgIHRpdGxlLmhlYXRpbmcgPSBcIkhlYXRpbmdcIjtcclxuICAgIHRpdGxlLmNvb2xpbmcgPSBcIkNvb2xpbmdcIjtcclxuICAgIHRpdGxlLmNvbnRhY3RJbmZvID0gXCJDb250YWN0IEluZm9cIjtcclxuICAgIHRpdGxlLm5hbWUgPSBcIk5hbWVcIjtcclxuICAgIHRpdGxlLmxhc3RuYW1lID0gXCJMYXN0IE5hbWVcIjtcclxuICAgIHRpdGxlLnBob25lID0gXCJUZWxlcGhvbmVcIjtcclxuICAgIHRpdGxlLmVtYWlsID0gXCJFbWFpbFwiO1xyXG4gIH1cclxuICBjbGlja2VkRmVhdHVyZSA9IG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwoZXZ0LnBpeGVsLCBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmVhdHVyZTogZmVhdHVyZSxcclxuICAgICAgbGF5ZXI6IGxheWVyXHJcbiAgICB9O1xyXG4gIH0sIHRoaXMsIGZ1bmN0aW9uKGxheWVyKSB7XHJcbiAgICBpZiAobGF5ZXIuZ2V0KFwiaWRcIikgPT09IFwiZXN0YXRlc1wiIHx8IGxheWVyLmdldChcImlkXCIpID09PSBcImZpbHRlcmVkRXN0YXRlc1wiKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH0sIHRoaXMpO1xyXG4gIHZhciBmO1xyXG4gIGlmIChjbGlja2VkRmVhdHVyZSkge1xyXG4gICAgaWYgKGNsaWNrZWRGZWF0dXJlLmxheWVyLmdldChcImlkXCIpID09PSBcImVzdGF0ZXNcIiAmJiBjbGlja2VkRmVhdHVyZS5mZWF0dXJlLmdldChcImZlYXR1cmVzXCIpLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBmID0gY2xpY2tlZEZlYXR1cmUuZmVhdHVyZS5nZXRQcm9wZXJ0aWVzKCkuZmVhdHVyZXNbMF07XHJcbiAgICAgIGNvbnNvbGUubG9nKGYpO1xyXG4gICAgICBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaik7XHJcbiAgICB9IGVsc2UgaWYgKGNsaWNrZWRGZWF0dXJlLmxheWVyLmdldChcImlkXCIpID09PSBcImZpbHRlcmVkRXN0YXRlc1wiKSB7XHJcbiAgICAgIGYgPSBjbGlja2VkRmVhdHVyZS5mZWF0dXJlO1xyXG4gICAgICBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaik7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIFBTQS5zZXRTb3VyY2UobnVsbCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaikge1xyXG4gIHZhciBmZWF0dXJlID0ge307XHJcbiAgZmVhdHVyZS5naWQgPSBmLmdldChcImdpZFwiKTtcclxuICBmZWF0dXJlLmFyZWEgPSBmLmdldChcImVzdGF0ZWFyZWFcIik7XHJcbiAgaWYgKGxhbmcgPT09IFwiZWxcIikge1xyXG4gICAgZmVhdHVyZS50eXBlID0gZi5nZXQoXCJlc3RhdGV0eXBlXCIpO1xyXG4gICAgZmVhdHVyZS5hZGRyZXNzID0gZi5nZXQoXCJzdHJlZXRfZWxcIikgKyBcIiBcIiArIGYuZ2V0KFwiaF9udW1fZWxcIik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGZlYXR1cmUudHlwZSA9IGYuZ2V0KFwiZXN0YXRldHlwZV9lblwiKTtcclxuICAgIGZlYXR1cmUuYWRkcmVzcyA9IGYuZ2V0KFwic3RyZWV0X2VuXCIpICsgXCIgXCIgKyBmLmdldChcImhfbnVtX2VuXCIpO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZyhmZWF0dXJlLnR5cGUpO1xyXG4gIGZlYXR1cmUuYmVkcm9vbXMgPSBmLmdldChcImJlZHJvb21zXCIpO1xyXG4gIGZlYXR1cmUucHJpY2UgPSBmLmdldChcInByaWNlXCIpO1xyXG4gIGZlYXR1cmUuaXNuZXcgPSBmLmdldChcImlzbmV3XCIpO1xyXG4gIGZlYXR1cmUucGFya2luZyA9IGYuZ2V0KFwicGFya2luZ1wiKTtcclxuICBmZWF0dXJlLmZ1cm5pc2hlZCA9IGYuZ2V0KFwiZnVybmlzaGVkXCIpO1xyXG4gIGZlYXR1cmUucGV0cyA9IGYuZ2V0KFwicGV0c1wiKTtcclxuICBmZWF0dXJlLnZpZXcgPSBmLmdldChcInZpZXdcIik7XHJcbiAgZmVhdHVyZS5oZWF0aW5nID0gZi5nZXQoXCJoZWF0aW5nXCIpO1xyXG4gIGZlYXR1cmUuY29vbGluZyA9IGYuZ2V0KFwiY29vbGluZ1wiKTtcclxuICBpZiAobGFuZyA9PT0gXCJlbFwiKSB7XHJcbiAgICBmZWF0dXJlLm5hbWUgPSBmLmdldChcIm5hbWVfZWxcIik7XHJcbiAgICBmZWF0dXJlLmxhc3RuYW1lID0gZi5nZXQoXCJsYXN0bmFtZV9lbFwiKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZmVhdHVyZS5uYW1lID0gZi5nZXQoXCJuYW1lX2VuXCIpO1xyXG4gICAgZmVhdHVyZS5sYXN0bmFtZSA9IGYuZ2V0KFwibGFzdG5hbWVfZW5cIik7XHJcbiAgfVxyXG4gIGZlYXR1cmUucGhvbmUgPSBmLmdldChcInBob25lMVwiKTtcclxuICBmZWF0dXJlLmVtYWlsID0gZi5nZXQoXCJlbWFpbFwiKTtcclxuICBmZWF0dXJlLmNvb3JkaW5hdGUgPSBmLmdldChcImdlb21ldHJ5XCIpLmdldENvb3JkaW5hdGVzKCk7XHJcbiAgdmFyIFBTQVNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHtcclxuICAgIGF0dHJpYnV0aW9uczogW25ldyBvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICAgIGh0bWw6IFwiUE9JIGJ5IFwiICsgXCI8YSBocmVmPVxcXCJodHRwOi8vd3d3LnRlcnJhY29nbml0YS5nci9cXFwiPlRlcnJhIENvZ25pdGE8L2E+XCJcclxuICAgIH0pXSxcclxuICAgIGZvcm1hdDogZ2VvSlNPTkZvcm1hdCxcclxuICAgIGxvYWRlcjogZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XHJcbiAgICAgIHZhciB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kYi91c2VzL1wiICsgZmVhdHVyZS5naWQ7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgdmFyIGZlYXR1cmVzID0gZ2VvSlNPTkZvcm1hdC5yZWFkRmVhdHVyZXMocmVzcG9uc2UucHJvcGVydHlfc2VydmljZXNfYW5hbHlzaXMsIHtcclxuICAgICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiBcIkVQU0c6Mzg1N1wiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGFyZWEgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMC4xXVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBmZWF0dXJlc1swXS5zZXRTdHlsZShhcmVhKTtcclxuICAgICAgICBzZWxmLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBzdHJhdGVneTogb2wubG9hZGluZ3N0cmF0ZWd5LmFsbFxyXG4gIH0pO1xyXG4gIFBTQS5zZXRTb3VyY2UoUFNBU291cmNlKTtcclxuICBtYXAuZ2V0VmlldygpLnNldENlbnRlcihmZWF0dXJlLmNvb3JkaW5hdGUpO1xyXG4gIG1hcC5nZXRWaWV3KCkuc2V0UmVzb2x1dGlvbigxLjIpO1xyXG4gIG9iai5mZWF0dXJlID0gZmVhdHVyZTtcclxuICBkdXN0LnJlbmRlcihcImVzdGF0ZUNhcmRzXCIsIG9iaiwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICQoXCIuZXN0YXRlLWNhcmRzXCIpLmh0bWwob3V0KTtcclxuICAgICQoXCIuZXN0YXRlLWNhcmRzXCIpLmFkZENsYXNzKFwiZXN0YXRlLWNhcmRzLWFjdGl2ZVwiKTtcclxuICAvLyAkKFwiI2luZm9ib3hcIikuYWRkQ2xhc3MoXCJ2aXN1YWxseWhpZGRlblwiKTtcclxuICB9KTtcclxuICAkKFwiYVtocmVmPVxcXCIjb3Blbk1vZGFsXFxcIl1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBkdXN0LnJlbmRlcihcIm1vZGFsSW5mb1wiLCBvYmosIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAgICQoXCIubW9kYWwtY29udGVudFwiKS5odG1sKG91dCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICAkKFwiYVtocmVmPVxcXCIjY2xvc2VFc3RhdGVDYXJkXFxcIl1cIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKFwiLmVzdGF0ZS1jYXJkc1wiKS5yZW1vdmVDbGFzcyhcImVzdGF0ZS1jYXJkcy1hY3RpdmVcIik7XHJcbiAgfSk7XHJcbn1cclxuJChcIi5pbmZvXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgUFNBLnNldFNvdXJjZShudWxsKTtcclxuICBpZiAoJCh0aGlzKS5wcm9wKFwiY2hlY2tlZFwiKSA9PT0gdHJ1ZSkge1xyXG4gICAgbWFwLm9uKFwiY2xpY2tcIiwgaGFuZGxlSW5mbyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG1hcC51bihcImNsaWNrXCIsIGhhbmRsZUluZm8pO1xyXG4gIH1cclxufSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICB2YXIgZ2VvbG9jYXRpb24gPSBuZXcgb2wuR2VvbG9jYXRpb24oe1xyXG4gICAgLy8gdGFrZSB0aGUgcHJvamVjdGlvbiB0byB1c2UgZnJvbSB0aGUgbWFwJ3Mgdmlld1xyXG4gICAgcHJvamVjdGlvbjogbWFwLmdldFZpZXcoKS5nZXRQcm9qZWN0aW9uKCksXHJcbiAgICB0cmFja2luZ09wdGlvbnM6IHtcclxuICAgICAgbWF4aW11bUFnZTogMTAwMDAsXHJcbiAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgdGltZW91dDogNjAwMDAwXHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgdmFyIGFjY3VyYWN5RmVhdHVyZSA9IG5ldyBvbC5GZWF0dXJlKCk7XHJcbiAgZ2VvbG9jYXRpb24ub24oXCJjaGFuZ2U6YWNjdXJhY3lHZW9tZXRyeVwiLCBmdW5jdGlvbigpIHtcclxuICAgIGFjY3VyYWN5RmVhdHVyZS5zZXRHZW9tZXRyeShnZW9sb2NhdGlvbi5nZXRBY2N1cmFjeUdlb21ldHJ5KCkpO1xyXG4gIH0pO1xyXG4gIHZhciBwb3NpdGlvbkZlYXR1cmUgPSBuZXcgb2wuRmVhdHVyZSgpO1xyXG4gIHBvc2l0aW9uRmVhdHVyZS5zZXRTdHlsZShuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICByYWRpdXM6IDYsXHJcbiAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtjb2xvcjogXCIjMzM5OUNDXCJ9KSxcclxuICAgICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtjb2xvcjogXCIjZmZmXCIsIHdpZHRoOiAyfSlcclxuICAgIH0pXHJcbiAgfSkpO1xyXG4gIC8vIGxpc3RlbiB0byBjaGFuZ2VzIGluIHBvc2l0aW9uXHJcbiAgZ2VvbG9jYXRpb24ub24oXCJjaGFuZ2U6cG9zaXRpb25cIiwgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBnZW9sb2NhdGlvbi5nZXRQb3NpdGlvbigpO1xyXG4gICAgcG9zaXRpb25GZWF0dXJlLnNldEdlb21ldHJ5KGNvb3JkaW5hdGVzXHJcbiAgICAgID8gbmV3IG9sLmdlb20uUG9pbnQoY29vcmRpbmF0ZXMpXHJcbiAgICAgIDogbnVsbCk7XHJcbiAgfSk7XHJcbiAgZmVhdHVyZXNPdmVybGF5U291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe30pO1xyXG4gIHZhciBmZWF0dXJlc092ZXJsYXkgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHttYXA6IG1hcCwgc291cmNlOiBmZWF0dXJlc092ZXJsYXlTb3VyY2V9KTtcclxuICAkKFwiLmdlb2xvY2F0aW9uXCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmICgkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIpID09PSB0cnVlKSB7XHJcbiAgICAgIGdlb2xvY2F0aW9uLnNldFRyYWNraW5nKHRydWUpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXlTb3VyY2UuYWRkRmVhdHVyZXMoW3Bvc2l0aW9uRmVhdHVyZSwgYWNjdXJhY3lGZWF0dXJlXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnZW9sb2NhdGlvbi5zZXRUcmFja2luZyhmYWxzZSk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheVNvdXJjZS5jbGVhcigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgdmFyIG1hcmtlciA9IG5ldyBvbC5GZWF0dXJlKCk7XHJcbiAgdmFyIGljb25TdHlsZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oLyoqIEB0eXBlIHtvbHguc3R5bGUuSWNvbk9wdGlvbnN9ICovXHJcbiAgICAoe1xyXG4gICAgICBhbmNob3I6IFtcclxuICAgICAgICAwLjUsIDFcclxuICAgICAgXSxcclxuICAgICAgYW5jaG9yWFVuaXRzOiBcImZyYWN0aW9uXCIsXHJcbiAgICAgIGFuY2hvcllVbml0czogXCJmcmFjdGlvblwiLFxyXG4gICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICBzY2FsZTogMSxcclxuICAgICAgc3JjOiBcIi4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy8yNC9waW4xLnBuZ1wiLFxyXG4gICAgICBzbmFwVG9QaXhlbDogZmFsc2VcclxuICAgIH0pKSxcclxuICAgIHpJbmRleDogMTAwXHJcbiAgfSk7XHJcbiAgbWFya2VyLnNldFN0eWxlKGljb25TdHlsZSk7XHJcbiAgdmFyIGZlYXR1cmVzT3ZlcmxheVN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgIGNvbG9yOiBcIiM0MDgwODBcIixcclxuICAgICAgd2lkdGg6IDUsXHJcbiAgICAgIGxpbmVEYXNoOiBbNCwgNF1cclxuICAgIH0pXHJcbiAgfSk7XHJcbiAgdmFyIGZlYXR1cmVzT3ZlcmxheSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gICAgbWFwOiBtYXAsXHJcbiAgICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuVmVjdG9yKCksXHJcbiAgICBzdHlsZTogZmVhdHVyZXNPdmVybGF5U3R5bGUsXHJcbiAgICBpZDogXCJyb3V0ZVwiLFxyXG4gICAgbmFtZUVsOiBcIs6UzrnOsc60z4HOv868zq5cIixcclxuICAgIE5hbWVFbjogXCJSb3V0ZVwiXHJcbiAgfSk7XHJcbiAgdmFyIHJvdXRlQ29vcmRzID0gW107XHJcbiAgZnVuY3Rpb24gaGFuZGxlTWFya2VyKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGZlYXR1cmVDb3VudCA9IGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5nZXRGZWF0dXJlcygpLmxlbmd0aDtcclxuICAgIHZhciBjb29yZGluYXRlcyA9IGV2ZW50LmNvb3JkaW5hdGU7XHJcbiAgICBpZiAoZmVhdHVyZUNvdW50ID09PSAwKSB7XHJcbiAgICAgIG1hcmtlci5zZXRHZW9tZXRyeShuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlcykpO1xyXG4gICAgICBtYXJrZXIuc2V0SWQoXCJmaXJzdFwiKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmFkZEZlYXR1cmUobWFya2VyKTtcclxuICAgICAgcm91dGVDb29yZHNbMF0gPSBjb29yZGluYXRlc1swXTtcclxuICAgICAgcm91dGVDb29yZHNbMV0gPSBjb29yZGluYXRlc1sxXTtcclxuICAgIH0gZWxzZSBpZiAoZmVhdHVyZUNvdW50ID09PSAxKSB7XHJcbiAgICAgIHZhciBjbG9uZSA9IG1hcmtlci5jbG9uZSgpO1xyXG4gICAgICBjbG9uZS5zZXRHZW9tZXRyeShuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlcykpO1xyXG4gICAgICBjbG9uZS5zZXRJZChcInNlY29uZFwiKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmFkZEZlYXR1cmUoY2xvbmUpO1xyXG4gICAgICByb3V0ZUNvb3Jkc1syXSA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICByb3V0ZUNvb3Jkc1szXSA9IGNvb3JkaW5hdGVzWzFdO1xyXG4gICAgICBjYWxsUm91dGUocm91dGVDb29yZHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdlb0pTT05Gb3JtYXQgPSBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oe2RlZmF1bHREYXRhUHJvamVjdGlvbjogXCJFUFNHOjQzMjZcIiwgZ2VvbWV0cnlOYW1lOiBcImdlb21ldHJ5XCJ9KTtcclxuICBmdW5jdGlvbiBjYWxsUm91dGUocm91dGVDb29yZHMpIHtcclxuICAgIHZhciBmaXJzdCA9IG9sLnByb2oudHJhbnNmb3JtKFtcclxuICAgICAgcm91dGVDb29yZHNbMF0sIHJvdXRlQ29vcmRzWzFdXHJcbiAgICBdLCBcIkVQU0c6Mzg1N1wiLCBcIkVQU0c6NDMyNlwiKTtcclxuICAgIHZhciBzZWNvbmQgPSBvbC5wcm9qLnRyYW5zZm9ybShbXHJcbiAgICAgIHJvdXRlQ29vcmRzWzJdLCByb3V0ZUNvb3Jkc1szXVxyXG4gICAgXSwgXCJFUFNHOjM4NTdcIiwgXCJFUFNHOjQzMjZcIik7XHJcbiAgICB2YXIgeDEgPSBmaXJzdFswXTtcclxuICAgIHZhciB5MSA9IGZpcnN0WzFdO1xyXG4gICAgdmFyIHgyID0gc2Vjb25kWzBdO1xyXG4gICAgdmFyIHkyID0gc2Vjb25kWzFdO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgdXJsOiBcImh0dHBzOi8vYXBpLm1hcGJveC5jb20vdjQvZGlyZWN0aW9ucy9tYXBib3guZHJpdmluZy9cIiArIHgxICsgXCIsXCIgKyB5MSArIFwiO1wiICsgeDIgKyBcIixcIiArIHkyICsgXCIuanNvbj9hbHRlcm5hdGl2ZXM9ZmFsc2UmYWNjZXNzX3Rva2VuPXBrLmV5SjFJam9pWm1seWRtRnBiaUlzSW1FaU9pSmxPV1l5WVRNME5UaGlOV00wWWpKak9ESmpOREU0T0RRek56QTJNR1F5TmlKOS4tTlZETzI3SHp0LXdfblFvc1VQZkxBXCIsXHJcbiAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgIHZhciByb3V0ZSA9IHt9O1xyXG4gICAgICByb3V0ZS50eXBlID0gXCJGZWF0dXJlXCI7XHJcbiAgICAgIHJvdXRlLmdlb21ldHJ5ID0gZGF0YS5yb3V0ZXNbMF0uZ2VvbWV0cnk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5hZGRGZWF0dXJlcyhnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyb3V0ZSwge1xyXG4gICAgICAgIGRhdGFQcm9qZWN0aW9uOiBcIkVQU0c6NDMyNlwiLFxyXG4gICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiBcIkVQU0c6Mzg1N1wiXHJcbiAgICAgIH0pKTtcclxuICAgICAgbWFwLmdldFZpZXcoKS5maXQoZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmdldEV4dGVudCgpLCBtYXAuZ2V0U2l6ZSgpKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XHJcbiAgICB9KS5hbHdheXMoZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiY29tcGxldGVcIik7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgJChcIi5tYXJrZXJcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvKiBBY3Qgb24gdGhlIGV2ZW50ICovXHJcbiAgICBpZiAoJCh0aGlzKS5wcm9wKFwiY2hlY2tlZFwiKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBtYXAub24oXCJzaW5nbGVjbGlja1wiLCBoYW5kbGVNYXJrZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWFwLnVuKFwic2luZ2xlY2xpY2tcIiwgaGFuZGxlTWFya2VyKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAkKFwiLndlYXRoZXJcIikuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCQodGhpcykucHJvcChcImNoZWNrZWRcIikgPT09IHRydWUpIHtcclxuICAgICAgbWFwLmdldE92ZXJsYXlzKCkuZm9yRWFjaChmdW5jdGlvbihvdmwpIHtcclxuICAgICAgICBpZiAob3ZsLmdldChcIm5hbWVcIikgPT09IFwid2VhdGhlclwiKSB7XHJcbiAgICAgICAgICAoJChvdmwuZ2V0RWxlbWVudCgpKS5wYXJlbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAkKG92bC5nZXRFbGVtZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHZhciBjZW50ZXIgPSBvbC5wcm9qLnRyYW5zZm9ybShtYXAuZ2V0VmlldygpLmdldENlbnRlcigpLCBcIkVQU0c6Mzg1N1wiLCBcIkVQU0c6NDMyNlwiKTtcclxuICAgICAgdmFyIGxhdCA9IGNlbnRlclsxXTtcclxuICAgICAgdmFyIGxvbiA9IGNlbnRlclswXTtcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IFwiaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvZmluZD9sYXQ9XCIgKyBsYXQgKyBcIiZsb249XCIgKyBsb24gKyBcIiZjbnQ9NSZjbHVzdGVyPW5vJnVuaXRzPW1ldHJpYyZ0eXBlPWFjY3VyYXRlJkFQUElEPWY5Y2Q5ZmEyYzQyN2MzYjExNWU4N2U0ODYyNjE5YzVjXCIsXHJcbiAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICBkYXRhVHlwZTogXCJqc29uXCJcclxuICAgICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlV2VhdGhlck92ZXJsYXkocG9zaXRpb24sIGluZGV4KSB7XHJcbiAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwid2VhdGhlci1wb3B1cCBkZWZhdWx0LXByaW1hcnktY29sb3IgbWRsLXNoYWRvdy0tNmRwXCIpO1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpbmRleCk7XHJcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiLCBcIndlYXRoZXJcIik7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IG9sLk92ZXJsYXkoe2VsZW1lbnQ6IGVsZW0sIHBvc2l0aW9uOiBwb3NpdGlvbn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2JqcyA9IGRhdGEubGlzdDtcclxuICAgICAgICB2YXIgb3ZlcmxheSxcclxuICAgICAgICAgIGNvb3JkaW5hdGVzO1xyXG4gICAgICAgICQuZWFjaChvYmpzLCBmdW5jdGlvbihpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICBjb29yZGluYXRlcyA9IG9sLnByb2oudHJhbnNmb3JtKFtcclxuICAgICAgICAgICAgdmFsLmNvb3JkLmxvbiwgdmFsLmNvb3JkLmxhdFxyXG4gICAgICAgICAgXSwgXCJFUFNHOjQzMjZcIiwgXCJFUFNHOjM4NTdcIik7XHJcbiAgICAgICAgICBvdmVybGF5ID0gY3JlYXRlV2VhdGhlck92ZXJsYXkoY29vcmRpbmF0ZXMsIGluZGV4KTtcclxuICAgICAgICAgIG1hcC5hZGRPdmVybGF5KG92ZXJsYXkpO1xyXG4gICAgICAgICAgb3ZlcmxheS5zZXQoXCJuYW1lXCIsIFwid2VhdGhlclwiKTtcclxuICAgICAgICAgIHdlYXRoZXJEYXRhID0ge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogdmFsLm5hbWUsXHJcbiAgICAgICAgICAgIFwidGVtcFwiOiB2YWwubWFpbi50ZW1wLFxyXG4gICAgICAgICAgICBcInByZXNzdXJlXCI6IHZhbC5tYWluLnByZXNzdXJlLFxyXG4gICAgICAgICAgICBcImh1bWlkaXR5XCI6IHZhbC5tYWluLmh1bWlkaXR5XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgZHVzdC5yZW5kZXIoXCJ3ZWF0aGVyUG9wdXBcIiwgd2VhdGhlckRhdGEsIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAgICAgICAgICQoXCIjXCIgKyBpbmRleCkuaHRtbChvdXQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gdG9hc3RyLmVycm9yKFwizpTOtc69IM6yz4HOrc64zrfOus6xzr0gz4DOu863z4HOv8+Gzr/Pgc6vzrXPgiDOs865zrEgz4TOuc+CIM66zrHOuc+BzrnOus6tz4Igz4PPhc69zrjOrs66zrXPgiFcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICgkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIpID09PSBmYWxzZSkge1xyXG4gICAgICBtYXAuZ2V0T3ZlcmxheXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG92bCkge1xyXG4gICAgICAgIGlmIChvdmwuZ2V0KFwibmFtZVwiKSA9PT0gXCJ3ZWF0aGVyXCIpIHtcclxuICAgICAgICAgICgkKG92bC5nZXRFbGVtZW50KCkpLnBhcmVudCgpKS5yZW1vdmUoKTtcclxuICAgICAgICAgICQob3ZsLmdldEVsZW1lbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxufSgpKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
