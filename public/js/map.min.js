function getIconType(e){var t={Apartment:function(){return"apartment"},Store:function(){return"store"},"Detached House":function(){return"detached"}};return t[e]()}function getIconPath(e){var t={"true":function(){return"./images/pins/sale/"},"false":function(){return"./images/pins/rent/"}};return t[e]()}function createPropertyStyle(e){var t;return t=getIconPath(e.get("sale"))+getIconType(e.get("estatetype_en"))+"-48.png",new ol.style.Style({geometry:e.getGeometry(),image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[.5,0],scale:1})})}function propertyStyleFunction(e,t){var s,o,n=e.get("features").length;return n>1?s=[new ol.style.Style({image:new ol.style.Circle({radius:20,stroke:new ol.style.Stroke({color:[156,39,176,1],width:5}),fill:new ol.style.Fill({color:[68,138,255,.8]})}),text:new ol.style.Text({text:n.toString(),fill:new ol.style.Fill({color:"#FFFFFF"})}),zIndex:101})]:(o=e.get("features")[0],s=[createPropertyStyle(o)]),s}function filteredEsateStyle(e,t){var s;return s=getIconPath(e.get("sale"))+getIconType(e.get("estatetype_en"))+"-64.png",styleCache=[new ol.style.Style({image:new ol.style.Icon({src:s,anchorOrigin:"bottom-left",anchor:[.5,0],scale:1})})]}function addInteraction(){selectSource.clear(),draw=new ol.interaction.Draw({source:selectSource,type:"LineString",geometryFunction:geometryFunction,maxPoints:2}),draw.on("drawstart",function(){selectSource.clear()}),draw.on("drawend",function(){map.removeInteraction(draw)}),map.addInteraction(draw)}function geometryFunction(e,t){t||(t=new ol.geom.Polygon(null));var s=e[0],o=e[1];return t.setCoordinates([[s,[s[0],o[1]],o,[o[0],s[1]],s]]),t}function handleInfo(e){var t,s,o=(e.coordinate,{}),n={};map.removeInteraction(draw),e.preventDefault(),o.title=n,"el"===lang?(n.gid="Κωδικός Ιδιοκτησίας",n.type="Είδος Ιδιοκτησίας",n.listing_type="Τύπος Αγγελίας",n.area="Εμβαδό",n.address="Διευθυνση",n.bedrooms="Υπνοδωμάτια",n.price="Τιμή",n.isnew="Νεόδμητο",n.parking="Στάθμεση",n.furnished="Επιπλωμένο",n.pets="Κατοικίδια",n.view="Θέα",n.heating="Θέρμανση",n.cooling="Ψύξη",n.contactInfo="Στοιχεία Επικοινωνίας",n.name="Όνομα",n.lastname="Επίθετο",n.phone="Τηλέφωνο",n.email="Ηλεκτρονική Διεύθυνση"):(n.gid="Estate Code",n.type="Property Type",n.listing_type="Listing Type",n.area="Size",n.address="Address",n.bedrooms="Bedrooms",n.price="Price",n.isnew="Newly Build",n.parking="Parking",n.furnished="Furnished",n.pets="Pets Allowed",n.view="View",n.heating="Heating",n.cooling="Cooling",n.contactInfo="Contact Info",n.name="Name",n.lastname="Last Name",n.phone="Telephone",n.email="Email"),t=map.forEachFeatureAtPixel(e.pixel,function(e,t){return{feature:e,layer:t}},this,function(e){return"estates"===e.get("id")||"filteredEstates"===e.get("id")?!0:void 0},this),t?"estates"===t.layer.get("id")&&1===t.feature.get("features").length?(s=t.feature.getProperties().features[0],console.log(s),createPSAandCard(s,o)):"filteredEstates"===t.layer.get("id")&&(s=t.feature,createPSAandCard(s,o)):PSA.setSource(null)}function createPSAandCard(e,t){var s={};s.gid=e.get("gid"),s.area=e.get("estatearea"),"el"===lang?(s.type=e.get("estatetype"),s.address=e.get("street_el")+" "+e.get("street_number"),s.name=e.get("name_el"),s.lastname=e.get("lastname_el"),e.get("sale")===!0?s.listing_type="Πώληση":s.listing_type="Ενοικίαση",s.btns={info:"πληροφοριες",close:"κλεισιμο"}):(s.type=e.get("estatetype_en"),s.address=e.get("street_en")+" "+e.get("street_number"),s.name=e.get("name_en"),s.lastname=e.get("lastname_en"),e.get("sale")===!0?s.listing_type="Sale":s.listing_type="Rent",s.btns={info:"info",close:"close"}),s.bedrooms=e.get("bedrooms"),s.price=e.get("price"),s.isnew=e.get("isnew"),s.parking=e.get("parking"),s.furnished=e.get("furnished"),s.pets=e.get("pets"),s.view=e.get("view"),s.heating=e.get("heating"),s.cooling=e.get("cooling"),s.phone=e.get("phone1"),s.email=e.get("email"),s.coordinate=e.get("geometry").getCoordinates();var o=new ol.source.Vector({attributions:[new ol.Attribution({html:'POI by <a href="http://www.terracognita.gr/">Terra Cognita</a>'})],format:geoJSONFormat,loader:function(e,t,o){var n="http://localhost:3000/db/uses/"+s.gid,i=this;$.ajax({url:n,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e.property_services_analysis,{featureProjection:"EPSG:3857"}),s=new ol.style.Style({fill:new ol.style.Fill({color:[156,39,176,.1]})});t[0].setStyle(s),i.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.all});PSA.setSource(o),map.getView().setCenter(s.coordinate),map.getView().setResolution(1.2),t.feature=s,dust.render("estateCards",t,function(e,t){$(".estate-cards").html(t),$(".estate-cards").addClass("estate-cards-active")}),$('a[href="#openModal"]').click(function(){dust.render("modalInfo",t,function(e,t){$(".modal-content").html(t)})}),$('a[href="#closeEstateCard"]').click(function(){$(".estate-cards").removeClass("estate-cards-active")})}function handleSelect(){"use strict";var e=function(e){this.element_=e,this.setDefaults_(),this.init()};window.MaterialSelectfield=e,e.prototype.CssClasses_={LABEL:"mdl-selectfield__label",SELECT:"mdl-selectfield__select",SELECTED_BOX:"mdl-selectfield__box",SELECTED_BOX_VALUE:"mdl-selectfield__box-value",LIST_OPTION_BOX:"mdl-selectfield__list-option-box",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",IS_SELECTED:"is-selected"},e.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},e.prototype.setDefaults_=function(){this.options_=[],this.optionsMap_={},this.optionsArr_=[],this.closing_=!0,this.keyDownTimerId_=null},e.prototype.onFocus_=function(e){this.closing_&&this.show_(e)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onSelected_=function(e){if(e.target&&"LI"==e.target.nodeName){var t=this.options_[e.target.getAttribute("data-value")];this.selectedOptionValue_.textContent=t.textContent,t.selected=!0;var s;if("function"==typeof window.Event?s=new Event("change",{bubbles:!0,cancelable:!0}):"function"==typeof document.createEvent&&(s=document.createEvent("HTMLEvents"),s.initEvent("change",!0,!0)),s&&this.select_.dispatchEvent(s),""!==t.textContent){this.element_.classList.add(this.CssClasses_.IS_DIRTY);var o=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);o&&o.classList.remove(this.CssClasses_.IS_SELECTED),e.target.classList.add(this.CssClasses_.IS_SELECTED)}else{this.element_.classList.remove(this.CssClasses_.IS_DIRTY);var o=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);o&&o.classList.remove(this.CssClasses_.IS_SELECTED)}}},e.prototype.onclick_=function(e){this.toggle(e)},e.prototype.update_=function(){var e;if(this.options_&&this.options_.length>0)for(var t=0;t<this.options_.length;t++){var s=this.options_[t];if(s.selected&&""!==s.value){var e=!0;this.element_.classList.add(this.CssClasses_.IS_DIRTY),this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED).classList.remove(this.CssClasses_.IS_SELECTED),this.listOptionBox_.querySelectorAll("LI")[t].classList.add(this.CssClasses_.IS_SELECTED)}}e||this.element_.classList.remove(this.CssClasses_.IS_DIRTY),this.checkDisabled(),this.checkValidity()},e.prototype.checkValidity=function(){this.select_.validity&&(this.select_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDisabled=function(){this.select_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.disable=function(){this.select_.disabled=!0,this.update_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.select_.disabled=!1,this.update_()},e.prototype.enable=e.prototype.enable,e.prototype.toggle=function(e){this.element_.classList.contains(this.CssClasses_.IS_FOCUSED)?this.hide_():this.show_(e)},e.prototype.show_=function(e){if(this.checkDisabled(),!this.element_.classList.contains(this.CssClasses_.IS_DISABLED)){this.element_.classList.add(this.CssClasses_.IS_FOCUSED),this.closing_=!1,this.strSearch_="";var t=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);t&&(t.parentElement.parentElement.scrollTop=t.offsetTop),this.boundKeyDownHandler_=this.onKeyDown_.bind(this),this.boundClickDocHandler_=function(t){t===e||this.closing_||t.target.parentNode===this.element_||t.target.parentNode===this.selectedOption_||this.hide_()}.bind(this),document.addEventListener("keydown",this.boundKeyDownHandler_),document.addEventListener("click",this.boundClickDocHandler_)}},e.prototype.onKeyDown_=function(e){var t=this.listOptionBox_.querySelectorAll("li:not([disabled])");if(t&&t.length>0&&!this.closing_){var s,o=Array.prototype.slice.call(t).indexOf(this.listOptionBox_.querySelectorAll("."+this.CssClasses_.IS_SELECTED)[0]);if(e.keyCode===this.Keycodes_.UP_ARROW||e.keyCode===this.Keycodes_.DOWN_ARROW)-1!=o&&t[o].classList.remove(this.CssClasses_.IS_SELECTED),e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),s=o>0?t[o-1]:t[t.length-1]):(e.preventDefault(),s=t.length>o+1?t[o+1]:t[0]),s&&(s.classList.add(this.CssClasses_.IS_SELECTED),this.listOptionBox_.scrollTop=s.offsetTop,this.lastSelectedItem_=s);else if(e.keyCode!==this.Keycodes_.SPACE&&e.keyCode!==this.Keycodes_.ENTER||!this.lastSelectedItem_){if(e.keyCode===this.Keycodes_.ESCAPE){e.preventDefault();var n;document.createEvent?(n=document.createEvent("MouseEvent"),n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):n=new MouseEvent("mousedown"),document.body.dispatchEvent(n),document.createEvent||(n=new MouseEvent("mouseup"),document.body.dispatchEvent(n)),document.body.click()}else if(this.validKeyCode_(e.keyCode)){var i=e.which||e.keyCode;this.strSearch_+=String.fromCharCode(i),this.keyDownTimerId_&&clearTimeout(this.keyDownTimerId_),this.keyDownTimerId_=setTimeout(function(){this.keyDownTimerId_=null,this.strSearch_=""}.bind(this),300);var a=this.searchByStrIndex_(0);a>-1&&(-1!=o&&t[o].classList.remove(this.CssClasses_.IS_SELECTED),s=t[a],s.classList.add(this.CssClasses_.IS_SELECTED),this.listOptionBox_.scrollTop=s.offsetTop,this.lastSelectedItem_=s)}}else{e.preventDefault();var n;document.createEvent?(n=document.createEvent("MouseEvent"),n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):n=new MouseEvent("mousedown"),this.lastSelectedItem_.dispatchEvent(n),document.createEvent||(n=new MouseEvent("mouseup"),this.lastSelectedItem_.dispatchEvent(n))}}},e.prototype.searchByStrIndex_=function(e){for(var t=this.strSearch_,s=new RegExp("^"+t+"."),o=-1,n=this.optionsArr_,i=0;i<n.length;i++)if(s.test(n[i])){o=i;break}return-1!=o?this.optionsMap_[this.optionsArr_[o]]:-1},e.prototype.validKeyCode_=function(e){return e>47&&58>e||32==e||13==e||e>64&&91>e||e>95&&112>e||e>185&&193>e||e>218&&223>e},e.prototype.hide_=function(){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED),this.closing_=!0,this.strSearch_="",this.boundClickDocHandler_&&document.removeEventListener("click",this.boundClickDocHandler_),this.boundKeyDownHandler_&&document.removeEventListener("keydown",this.boundKeyDownHandler_),this.update_()},e.prototype.init=function(){if(this.element_){this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.select_=this.element_.querySelector("."+this.CssClasses_.SELECT);var e=document.createElement("div");e.classList.add(this.CssClasses_.SELECTED_BOX),e.tabIndex=1,this.selectedOption_=e;var t=document.createElement("i");t.classList.add("material-icons"),t.tabIndex=-1,t.textContent="keyboard_arrow_down",e.appendChild(t);var s=document.createElement("span");s.classList.add(this.CssClasses_.SELECTED_BOX_VALUE),s.tabIndex=0,e.appendChild(s),this.selectedOptionValue_=s,this.element_.appendChild(this.selectedOption_);var o=this.element_.classList.contains(this.CssClasses_.IS_INVALID);if(this.select_&&(this.options_=this.select_.querySelectorAll("option"),this.select_.style.visibility="hidden",this.options_.length)){this.boundSelectedHandler=this.onSelected_.bind(this);var n=document.createElement("div");n.classList.add(this.CssClasses_.LIST_OPTION_BOX),n.tabIndex="-1";var i=document.createElement("ul");i.tabIndex="-1";for(var a=0;a<this.options_.length;a++){var r=this.options_[a],l=(r.textContent||"").toUpperCase().replace(/( )|(\n)/g,"");this.optionsMap_[l]=a,this.optionsArr_.push(l);var c=document.createElement("li");c.textContent=r.textContent,c.setAttribute("data-value",a),c.tabIndex="-1",c.addEventListener("click",this.boundSelectedHandler),i.appendChild(c),r.selected&&""!==r.textContent&&(this.element_.classList.add(this.CssClasses_.IS_DIRTY),this.selectedOptionValue_.textContent=r.textContent,c.classList.add(this.CssClasses_.IS_SELECTED))}n.appendChild(i),this.element_.appendChild(n),this.listOptionBox_=n}this.boundClickHandler=this.onclick_.bind(this),this.element_.addEventListener("click",this.boundClickHandler),o&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.checkDisabled()}},e.prototype.mdlDowngrade_=function(){if(this.element_.removeEventListener("click",this.boundClickHandler),this.boundSelectedHandler&&this.options_.length)for(var e=this.listOptionBox_.querySelectorAll("li"),t=0;t<e.length;t++)e[t].removeEventListener("click",this.boundSelectedHandler)},e.prototype.mdlDowngrade=e.prototype.mdlDowngrade_,e.prototype.mdlDowngrade=e.prototype.mdlDowngrade,componentHandler.register({constructor:e,classAsString:"MaterialSelectfield",cssClass:"mdl-js-selectfield",widget:!0})}var $loading=$(".mdl-spinner"),center=[3677385,4120949],extent=[3590094,4102833,3855483,4261211],lang=document.documentElement.lang,styleCache={},geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326"}),bing=new ol.layer.Tile({visible:!0,source:new ol.source.BingMaps({key:"Ak2Gq8VUfICsPpuf7LRANXmXt2sHWmSLPhohmVLFtFIEwYjs_5MCyAhAFwRSVpLj",imagerySet:"Aerial"}),maxZoom:19,crossOrigin:"anonymous",preload:1/0,id:"bing"}),mapbox=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'<a href="https://www.mapbox.com/about/maps/" target="_blank">&copy; Mapbox &copy; OpenStreetMap</a>'})],url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA"}),id:"mapbox"}),propertySource=new ol.source.Vector({format:geoJSONFormat,loader:function(e,t,s){console.log(t);var o=ol.proj.transformExtent(e,"EPSG:3857","EPSG:4326"),n="http://localhost:3000/db/property?bbox[x1]="+o[0]+"&bbox[y1]="+o[1]+"&bbox[x2]="+o[2]+"&bbox[y2]="+o[3],i=this;this.clear(),console.log(e),$.ajax({url:n,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});i.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.bbox}),propertyClusterSource=new ol.source.Cluster({distance:40,source:propertySource,attributions:[new ol.Attribution({html:'All maps © <a href="http://www.terracognita.gr/">Terra Cognita</a>'})]}),property=new ol.layer.Vector({source:propertyClusterSource,id:"estates",visible:!0,style:propertyStyleFunction});property.setZIndex(2);var PSAStyleFunction=function(e,t){var s,o=e.get("style");return s="el"===lang?e.get("name_el"):e.get("name_en"),styleCache[o]||(styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/maki/renders/"+o+"-24.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:1}),text:new ol.style.Text({text:s,stroke:new ol.style.Stroke({color:[156,39,176,.8],width:1}),offsetY:12})})]),styleCache},PSA=new ol.layer.Vector({style:PSAStyleFunction,maxResolution:3});PSA.setZIndex(1);var filteredEstates=new ol.layer.Vector({source:new ol.source.Vector({format:geoJSONFormat}),id:"filteredEstates",visible:!0,style:filteredEsateStyle});filteredEstates.setZIndex(2);var selectSource=new ol.source.Vector({}),selectBox=new ol.layer.Vector({source:selectSource,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(227, 72, 27, 0.2)"}),stroke:new ol.style.Stroke({color:"#E3481B",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#E3481B"})})})});selectBox.setZIndex(3);var map=new ol.Map({target:"map",layers:[mapbox,property,PSA,filteredEstates,selectBox],loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",controls:ol.control.defaults({attributionOptions:{collapsible:!1,collapsed:!1}}).extend([new ol.control.ScaleLine({units:"metric"}),new ol.control.OverviewMap({className:"ol-overviewmap ol-custom-overviewmap",collapsible:!0,collapsed:!0,layers:[bing]}),new ol.control.ZoomToExtent({extent:extent})]),view:new ol.View({center:center,projection:"EPSG:3857",zoom:14,maxZoom:19,minZoom:10})});"el"===lang?(bing.set("name","Δορυφορική εικόνα"),mapbox.set("name","Χάρτης"),property.set("name","Ακίνητα")):(bing.set("name","Sattelite Image"),mapbox.set("name","Map"),property.set("name","Properties")),jQuery(document).ready(function(e){e(".spinner").addClass("visuallyhidden"),e(".mdl-spinner").removeClass("is-active"),handleSelect()}),$(document).ajaxStart(function(){$loading.addClass("is-active")}).ajaxStop(function(){$loading.removeClass("is-active")}),window.app||(window.app={});var app=window.app;app.filters=function(e){this.estateType=e.estateType,this.leaseType=void 0!==e.leaseType?e.leaseType:"Rent",this.startPrice=void 0!==e.startPrice?e.startPrice:0,this.endPrice=void 0!==e.endPrice?e.endPrice:2147483647,this.parking=void 0!==e.parking?e.parking:!1,this.furnished=void 0!==e.furnished?e.furnished:!1,this.heating=void 0!==e.heating?e.heating:!1,this.cooling=void 0!==e.cooling?e.cooling:!1,this.view=void 0!==e.view?e.view:!1},app.filters.prototype.createValidator=function(){var e=$("form[name=filters]").parsley();return e},app.filters.prototype.setDefaults=function(){var e;PSA.setSource(null),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},e=0===selectSource.getFeatures().length?ol.proj.transformExtent(extent,"EPSG:3857","EPSG:4326"):ol.proj.transformExtent(selectSource.getFeatures()[0].getGeometry().getExtent(),"EPSG:3857","EPSG:4326"),this.extent=e,this.p=this.createValidator()},app.filters.prototype.ajaxCall=function(){console.log(this.estateType),this.p.validate()===!0&&$.ajax({url:"http://localhost:3000/db/filteredproperty?bbox[x1]="+this.extent[0]+"&bbox[y1]="+this.extent[1]+"&bbox[x2]="+this.extent[2]+"&bbox[y2]="+this.extent[3],type:"GET",dataType:"json",data:{estateType:this.estateType,leaseType:this.leaseType,furnished:this.furnished,heating:this.heating,parking:this.parking,cooling:this.cooling,view:this.view,startPrice:this.startPrice,endPrice:this.endPrice}}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});t.length>0?(toastr.clear(),filteredEstates.getSource().clear(),filteredEstates.getSource().addFeatures(t),filteredEstates.setVisible(!0),property.setVisible(!1)):(toastr.error("No Info Found!"),filteredEstates.setVisible(!1),property.setVisible(!0))})},$("#invokeFilters").click(function(){var e,t={};t.estateType=$("#estateType").val(),t.leaseType=$("input[name=options]:checked").val(),t.startPrice=$("#startPrice").val(),t.endPrice=$("#endPrice").val(),t.parking=$("#checkbox-1").prop("checked"),t.furnished=$("#checkbox-2").prop("checked"),t.heating=$("#checkbox-3").prop("checked"),t.cooling=$("#checkbox-4").prop("checked"),t.view=$("#checkbox-5").prop("checked"),e=new app.filters(t),e.setDefaults(),e.ajaxCall()}),$("#clearFilters").click(function(){var e=$("#estateType option").val();$("label[for=option-1]").addClass("is-checked"),$("label[for=option-2]").removeClass("is-checked"),$("label[for=checkbox-1]").removeClass("is-checked"),$("label[for=checkbox-2]").removeClass("is-checked"),$("label[for=checkbox-3]").removeClass("is-checked"),$("label[for=checkbox-4]").removeClass("is-checked"),$("label[for=checkbox-5]").removeClass("is-checked"),$("label[for=checkbox-6]").removeClass("is-checked"),$(".mdl-selectfield__box-value").html(e),filteredEstates.getSource().clear(),property.setVisible(!0),PSA.setSource(null),selectSource.clear(),map.removeInteraction(draw)});var draw;$("#checkbox-6").click(function(){this.checked?addInteraction():(map.removeInteraction(draw),selectSource.clear())}),function(){var e=new ol.Geolocation({projection:map.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),t=new ol.Feature;e.on("change:accuracyGeometry",function(){t.setGeometry(e.getAccuracyGeometry())});var s=new ol.Feature;s.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#3399CC"}),stroke:new ol.style.Stroke({color:"#fff",width:2})})})),e.on("change:position",function(){var t=e.getPosition();s.setGeometry(t?new ol.geom.Point(t):null)}),featuresOverlaySource=new ol.source.Vector({});new ol.layer.Vector({map:map,source:featuresOverlaySource});$(".geolocation").on("change",function(o){o.preventDefault(),$(this).prop("checked")===!0?(e.setTracking(!0),featuresOverlaySource.addFeatures([s,t])):(e.setTracking(!1),featuresOverlaySource.clear())})}(),$(".info").on("change",function(e){e.preventDefault(),PSA.setSource(null),$(this).prop("checked")===!0?map.on("click",handleInfo):map.un("click",handleInfo)}),function(){function e(e){e.preventDefault();var o=i.getSource().getFeatures().length,n=e.coordinate;if(0===o)s.setGeometry(new ol.geom.Point(n)),s.setId("first"),i.getSource().addFeature(s),a[0]=n[0],a[1]=n[1];else if(1===o){var r=s.clone();r.setGeometry(new ol.geom.Point(n)),r.setId("second"),i.getSource().addFeature(r),a[2]=n[0],a[3]=n[1],t(a)}else i.getSource().clear()}function t(e){var t=ol.proj.transform([e[0],e[1]],"EPSG:3857","EPSG:4326"),s=ol.proj.transform([e[2],e[3]],"EPSG:3857","EPSG:4326"),o=t[0],n=t[1],a=s[0],r=s[1];$.ajax({url:"https://api.mapbox.com/v4/directions/mapbox.driving/"+o+","+n+";"+a+","+r+".json?alternatives=false&access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA",type:"GET",dataType:"json"}).done(function(e){var t={};t.type="Feature",t.geometry=e.routes[0].geometry,i.getSource().addFeatures(geoJSONFormat.readFeatures(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})),map.getView().fit(i.getSource().getExtent(),map.getSize())}).fail(function(){}).always(function(){})}var s=new ol.Feature,o=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,scale:1,src:"../images/map-icons/pins/24/pin1.png",snapToPixel:!1}),zIndex:100});s.setStyle(o);var n=new ol.style.Style({stroke:new ol.style.Stroke({color:"#408080",width:5,lineDash:[4,4]})}),i=new ol.layer.Vector({map:map,source:new ol.source.Vector,style:n,id:"route",nameEl:"Διαδρομή",NameEn:"Route"}),a=[];geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326",geometryName:"geometry"}),$(".marker").on("change",function(t){t.preventDefault(),$(this).prop("checked")===!0?map.on("singleclick",e):(map.un("singleclick",e),i.getSource().clear())})}(),function(){$(".weather").change(function(){if($(this).prop("checked")===!0){map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())});var e=ol.proj.transform(map.getView().getCenter(),"EPSG:3857","EPSG:4326"),t=e[1],s=e[0];$.ajax({url:"http://api.openweathermap.org/data/2.5/find?lat="+t+"&lon="+s+"&cnt=5&cluster=no&units=metric&type=accurate&APPID=f9cd9fa2c427c3b115e87e4862619c5c",type:"GET",dataType:"json"}).done(function(e){function t(e,t){var s=document.createElement("div");return s.setAttribute("class","weather-popup  mdl-shadow--6dp"),s.setAttribute("id",t),s.setAttribute("data-name","weather"),new ol.Overlay({element:s,position:e})}var s,o,n=e.list;$.each(n,function(e,n){o=ol.proj.transform([n.coord.lon,n.coord.lat],"EPSG:4326","EPSG:3857"),s=t(o,e),map.addOverlay(s),s.set("name","weather"),weatherData={name:n.name,temp:n.main.temp,pressure:n.main.pressure,humidity:n.main.humidity},dust.render("weatherPopup",weatherData,function(t,s){$("#"+e).html(s)})})}).fail(function(){})}else $(this).prop("checked")===!1&&map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyIsImZpbHRlcnMuanMiLCJpbmZvLmpzIiwibWRsLXNlbGVjdGZpZWxkLmpzIiwiZ2VvbG9jYXRpb24uanMiLCJyb3V0aW5nLmpzIiwid2VhdGhlci5qcyJdLCJuYW1lcyI6WyJnZXRJY29uVHlwZSIsImVzdGF0ZVR5cGUiLCJpY29uVHlwZSIsIkFwYXJ0bWVudCIsIlN0b3JlIiwiRGV0YWNoZWQgSG91c2UiLCJnZXRJY29uUGF0aCIsImxpc3RpbmdUeXBlIiwiaWNvblBhdGgiLCJ0cnVlIiwiZmFsc2UiLCJjcmVhdGVQcm9wZXJ0eVN0eWxlIiwiZmVhdHVyZSIsInNyYyIsImdldCIsIm9sIiwic3R5bGUiLCJTdHlsZSIsImdlb21ldHJ5IiwiZ2V0R2VvbWV0cnkiLCJpbWFnZSIsIkljb24iLCJhbmNob3JPcmlnaW4iLCJhbmNob3IiLCJzY2FsZSIsInByb3BlcnR5U3R5bGVGdW5jdGlvbiIsInJlc29sdXRpb24iLCJvcmlnaW5hbEZlYXR1cmUiLCJzaXplIiwibGVuZ3RoIiwiQ2lyY2xlIiwicmFkaXVzIiwic3Ryb2tlIiwiU3Ryb2tlIiwiY29sb3IiLCJ3aWR0aCIsImZpbGwiLCJGaWxsIiwidGV4dCIsIlRleHQiLCJ0b1N0cmluZyIsInpJbmRleCIsImZpbHRlcmVkRXNhdGVTdHlsZSIsInN0eWxlQ2FjaGUiLCJhZGRJbnRlcmFjdGlvbiIsInNlbGVjdFNvdXJjZSIsImNsZWFyIiwiZHJhdyIsImludGVyYWN0aW9uIiwiRHJhdyIsInNvdXJjZSIsInR5cGUiLCJnZW9tZXRyeUZ1bmN0aW9uIiwibWF4UG9pbnRzIiwib24iLCJtYXAiLCJyZW1vdmVJbnRlcmFjdGlvbiIsImNvb3JkaW5hdGVzIiwiZ2VvbSIsIlBvbHlnb24iLCJzdGFydCIsImVuZCIsInNldENvb3JkaW5hdGVzIiwiaGFuZGxlSW5mbyIsImV2dCIsImNsaWNrZWRGZWF0dXJlIiwiZiIsIm9iaiIsImNvb3JkaW5hdGUiLCJ0aXRsZSIsInByZXZlbnREZWZhdWx0IiwibGFuZyIsImdpZCIsImxpc3RpbmdfdHlwZSIsImFyZWEiLCJhZGRyZXNzIiwiYmVkcm9vbXMiLCJwcmljZSIsImlzbmV3IiwicGFya2luZyIsImZ1cm5pc2hlZCIsInBldHMiLCJ2aWV3IiwiaGVhdGluZyIsImNvb2xpbmciLCJjb250YWN0SW5mbyIsIm5hbWUiLCJsYXN0bmFtZSIsInBob25lIiwiZW1haWwiLCJmb3JFYWNoRmVhdHVyZUF0UGl4ZWwiLCJwaXhlbCIsImxheWVyIiwidGhpcyIsImdldFByb3BlcnRpZXMiLCJmZWF0dXJlcyIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVQU0FhbmRDYXJkIiwiUFNBIiwic2V0U291cmNlIiwiYnRucyIsImluZm8iLCJjbG9zZSIsImdldENvb3JkaW5hdGVzIiwiUFNBU291cmNlIiwiVmVjdG9yIiwiYXR0cmlidXRpb25zIiwiQXR0cmlidXRpb24iLCJodG1sIiwiZm9ybWF0IiwiZ2VvSlNPTkZvcm1hdCIsImxvYWRlciIsImV4dGVudCIsInByb2plY3Rpb24iLCJ1cmwiLCJzZWxmIiwiJCIsImFqYXgiLCJkYXRhVHlwZSIsImRvbmUiLCJyZXNwb25zZSIsInJlYWRGZWF0dXJlcyIsInByb3BlcnR5X3NlcnZpY2VzX2FuYWx5c2lzIiwiZmVhdHVyZVByb2plY3Rpb24iLCJzZXRTdHlsZSIsImFkZEZlYXR1cmVzIiwiZmFpbCIsInN0cmF0ZWd5IiwibG9hZGluZ3N0cmF0ZWd5IiwiYWxsIiwiZ2V0VmlldyIsInNldENlbnRlciIsInNldFJlc29sdXRpb24iLCJkdXN0IiwicmVuZGVyIiwiZXJyIiwib3V0IiwiYWRkQ2xhc3MiLCJjbGljayIsInJlbW92ZUNsYXNzIiwiaGFuZGxlU2VsZWN0IiwiZSIsImVsZW1lbnRfIiwic2V0RGVmYXVsdHNfIiwiaW5pdCIsIndpbmRvdyIsIk1hdGVyaWFsU2VsZWN0ZmllbGQiLCJwcm90b3R5cGUiLCJDc3NDbGFzc2VzXyIsIkxBQkVMIiwiU0VMRUNUIiwiU0VMRUNURURfQk9YIiwiU0VMRUNURURfQk9YX1ZBTFVFIiwiTElTVF9PUFRJT05fQk9YIiwiSVNfRElSVFkiLCJJU19GT0NVU0VEIiwiSVNfRElTQUJMRUQiLCJJU19JTlZBTElEIiwiSVNfVVBHUkFERUQiLCJJU19TRUxFQ1RFRCIsIktleWNvZGVzXyIsIkVOVEVSIiwiRVNDQVBFIiwiU1BBQ0UiLCJVUF9BUlJPVyIsIkRPV05fQVJST1ciLCJvcHRpb25zXyIsIm9wdGlvbnNNYXBfIiwib3B0aW9uc0Fycl8iLCJjbG9zaW5nXyIsImtleURvd25UaW1lcklkXyIsIm9uRm9jdXNfIiwic2hvd18iLCJvbkJsdXJfIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwib25TZWxlY3RlZF8iLCJ0YXJnZXQiLCJub2RlTmFtZSIsInQiLCJnZXRBdHRyaWJ1dGUiLCJzZWxlY3RlZE9wdGlvblZhbHVlXyIsInRleHRDb250ZW50Iiwic2VsZWN0ZWQiLCJzIiwiRXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRvY3VtZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJzZWxlY3RfIiwiZGlzcGF0Y2hFdmVudCIsImFkZCIsImkiLCJsaXN0T3B0aW9uQm94XyIsInF1ZXJ5U2VsZWN0b3IiLCJvbmNsaWNrXyIsInRvZ2dsZSIsInVwZGF0ZV8iLCJ2YWx1ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGVja0Rpc2FibGVkIiwiY2hlY2tWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJkaXNhYmxlZCIsImRpc2FibGUiLCJlbmFibGUiLCJjb250YWlucyIsImhpZGVfIiwic3RyU2VhcmNoXyIsInBhcmVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJvZmZzZXRUb3AiLCJib3VuZEtleURvd25IYW5kbGVyXyIsIm9uS2V5RG93bl8iLCJiaW5kIiwiYm91bmRDbGlja0RvY0hhbmRsZXJfIiwicGFyZW50Tm9kZSIsInNlbGVjdGVkT3B0aW9uXyIsImFkZEV2ZW50TGlzdGVuZXIiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsImluZGV4T2YiLCJrZXlDb2RlIiwibGFzdFNlbGVjdGVkSXRlbV8iLCJvIiwiaW5pdE1vdXNlRXZlbnQiLCJNb3VzZUV2ZW50IiwiYm9keSIsInZhbGlkS2V5Q29kZV8iLCJuIiwid2hpY2giLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibCIsInNlYXJjaEJ5U3RySW5kZXhfIiwiUmVnRXhwIiwidGVzdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsYWJlbF8iLCJjcmVhdGVFbGVtZW50IiwidGFiSW5kZXgiLCJhcHBlbmRDaGlsZCIsInZpc2liaWxpdHkiLCJib3VuZFNlbGVjdGVkSGFuZGxlciIsImEiLCJkIiwidG9VcHBlckNhc2UiLCJyZXBsYWNlIiwicHVzaCIsImMiLCJzZXRBdHRyaWJ1dGUiLCJib3VuZENsaWNrSGFuZGxlciIsIm1kbERvd25ncmFkZV8iLCJtZGxEb3duZ3JhZGUiLCJjb21wb25lbnRIYW5kbGVyIiwicmVnaXN0ZXIiLCJjb25zdHJ1Y3RvciIsImNsYXNzQXNTdHJpbmciLCJjc3NDbGFzcyIsIndpZGdldCIsIiRsb2FkaW5nIiwiY2VudGVyIiwiZG9jdW1lbnRFbGVtZW50IiwiR2VvSlNPTiIsImRlZmF1bHREYXRhUHJvamVjdGlvbiIsImJpbmciLCJUaWxlIiwidmlzaWJsZSIsIkJpbmdNYXBzIiwia2V5IiwiaW1hZ2VyeVNldCIsIm1heFpvb20iLCJjcm9zc09yaWdpbiIsInByZWxvYWQiLCJJbmZpbml0eSIsImlkIiwibWFwYm94IiwiWFlaIiwicHJvcGVydHlTb3VyY2UiLCJlcHNnNDMyNkV4dGVudCIsInByb2oiLCJ0cmFuc2Zvcm1FeHRlbnQiLCJiYm94IiwicHJvcGVydHlDbHVzdGVyU291cmNlIiwiQ2x1c3RlciIsImRpc3RhbmNlIiwicHJvcGVydHkiLCJzZXRaSW5kZXgiLCJQU0FTdHlsZUZ1bmN0aW9uIiwic3ltYm9sIiwib2Zmc2V0WSIsIm1heFJlc29sdXRpb24iLCJmaWx0ZXJlZEVzdGF0ZXMiLCJzZWxlY3RCb3giLCJNYXAiLCJsYXllcnMiLCJsb2FkVGlsZXNXaGlsZUFuaW1hdGluZyIsImxvYWRUaWxlc1doaWxlSW50ZXJhY3RpbmciLCJyZW5kZXJlciIsImNvbnRyb2xzIiwiY29udHJvbCIsImRlZmF1bHRzIiwiYXR0cmlidXRpb25PcHRpb25zIiwiY29sbGFwc2libGUiLCJjb2xsYXBzZWQiLCJleHRlbmQiLCJTY2FsZUxpbmUiLCJ1bml0cyIsIk92ZXJ2aWV3TWFwIiwiY2xhc3NOYW1lIiwiWm9vbVRvRXh0ZW50IiwiVmlldyIsInpvb20iLCJtaW5ab29tIiwic2V0IiwialF1ZXJ5IiwicmVhZHkiLCJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFwcCIsImZpbHRlcnMiLCJvcHRpb25zIiwibGVhc2VUeXBlIiwidW5kZWZpbmVkIiwic3RhcnRQcmljZSIsImVuZFByaWNlIiwiY3JlYXRlVmFsaWRhdG9yIiwicCIsInBhcnNsZXkiLCJzZXREZWZhdWx0cyIsInRvYXN0ciIsImNsb3NlQnV0dG9uIiwiZGVidWciLCJuZXdlc3RPblRvcCIsInByb2dyZXNzQmFyIiwicG9zaXRpb25DbGFzcyIsInByZXZlbnREdXBsaWNhdGVzIiwib25jbGljayIsInNob3dEdXJhdGlvbiIsImhpZGVEdXJhdGlvbiIsInRpbWVPdXQiLCJleHRlbmRlZFRpbWVPdXQiLCJzaG93RWFzaW5nIiwiaGlkZUVhc2luZyIsInNob3dNZXRob2QiLCJoaWRlTWV0aG9kIiwiZ2V0RmVhdHVyZXMiLCJnZXRFeHRlbnQiLCJhamF4Q2FsbCIsInZhbGlkYXRlIiwiZGF0YSIsImdldFNvdXJjZSIsInNldFZpc2libGUiLCJlcnJvciIsInZhbCIsInByb3AiLCJvcmlnbmFsVmFsdWUiLCJjaGVja2VkIiwiZ2VvbG9jYXRpb24iLCJHZW9sb2NhdGlvbiIsImdldFByb2plY3Rpb24iLCJ0cmFja2luZ09wdGlvbnMiLCJtYXhpbXVtQWdlIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidGltZW91dCIsImFjY3VyYWN5RmVhdHVyZSIsIkZlYXR1cmUiLCJzZXRHZW9tZXRyeSIsImdldEFjY3VyYWN5R2VvbWV0cnkiLCJwb3NpdGlvbkZlYXR1cmUiLCJnZXRQb3NpdGlvbiIsIlBvaW50IiwiZmVhdHVyZXNPdmVybGF5U291cmNlIiwic2V0VHJhY2tpbmciLCJ1biIsImhhbmRsZU1hcmtlciIsImV2ZW50IiwiZmVhdHVyZUNvdW50IiwiZmVhdHVyZXNPdmVybGF5IiwibWFya2VyIiwic2V0SWQiLCJhZGRGZWF0dXJlIiwicm91dGVDb29yZHMiLCJjbG9uZSIsImNhbGxSb3V0ZSIsImZpcnN0IiwidHJhbnNmb3JtIiwic2Vjb25kIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyb3V0ZSIsInJvdXRlcyIsImRhdGFQcm9qZWN0aW9uIiwiZml0IiwiZ2V0U2l6ZSIsImFsd2F5cyIsImljb25TdHlsZSIsImFuY2hvclhVbml0cyIsImFuY2hvcllVbml0cyIsIm9wYWNpdHkiLCJzbmFwVG9QaXhlbCIsImZlYXR1cmVzT3ZlcmxheVN0eWxlIiwibGluZURhc2giLCJuYW1lRWwiLCJOYW1lRW4iLCJnZW9tZXRyeU5hbWUiLCJjaGFuZ2UiLCJnZXRPdmVybGF5cyIsImZvckVhY2giLCJvdmwiLCJnZXRFbGVtZW50IiwicGFyZW50IiwiZ2V0Q2VudGVyIiwibGF0IiwibG9uIiwiY3JlYXRlV2VhdGhlck92ZXJsYXkiLCJwb3NpdGlvbiIsImluZGV4IiwiZWxlbSIsIk92ZXJsYXkiLCJlbGVtZW50Iiwib3ZlcmxheSIsIm9ianMiLCJsaXN0IiwiZWFjaCIsImNvb3JkIiwiYWRkT3ZlcmxheSIsIndlYXRoZXJEYXRhIiwidGVtcCIsIm1haW4iLCJwcmVzc3VyZSIsImh1bWlkaXR5Il0sIm1hcHBpbmdzIjoiQUE2QkEsUUFBQUEsYUFBQUMsR0FDQSxHQUFBQyxJQUNBQyxVQUFBLFdBQ0EsTUFBQSxhQUVBQyxNQUFBLFdBQ0EsTUFBQSxTQUVBQyxpQkFBQSxXQUNBLE1BQUEsWUFHQSxPQUFBSCxHQUFBRCxLQUdBLFFBQUFLLGFBQUFDLEdBQ0EsR0FBQUMsSUFDQUMsT0FBQSxXQUNBLE1BQUEsdUJBRUFDLFFBQUEsV0FDQSxNQUFBLHVCQUdBLE9BQUFGLEdBQUFELEtBR0EsUUFBQUkscUJBQUFDLEdBQ0EsR0FBQUMsRUFFQSxPQURBQSxHQUFBUCxZQUFBTSxFQUFBRSxJQUFBLFNBQUFkLFlBQUFZLEVBQUFFLElBQUEsa0JBQUEsVUFDQSxHQUFBQyxJQUFBQyxNQUFBQyxPQUNBQyxTQUFBTixFQUFBTyxjQUNBQyxNQUFBLEdBQUFMLElBQUFDLE1BQUFLLE1BQ0FSLElBQUFBLEVBQ0FTLGFBQUEsY0FDQUMsUUFBQSxHQUFBLEdBQ0FDLE1BQUEsTUFLQSxRQUFBQyx1QkFBQWIsRUFBQWMsR0FDQSxHQUVBVixHQUFBVyxFQUZBQyxFQUFBaEIsRUFBQUUsSUFBQSxZQUNBZSxNQTBCQSxPQXhCQUQsR0FBQSxFQUNBWixHQUFBLEdBQUFELElBQUFDLE1BQUFDLE9BQ0FHLE1BQUEsR0FBQUwsSUFBQUMsTUFBQWMsUUFDQUMsT0FBQSxHQUNBQyxPQUFBLEdBQUFqQixJQUFBQyxNQUFBaUIsUUFDQUMsT0FBQSxJQUFBLEdBQUEsSUFBQSxHQUNBQyxNQUFBLElBRUFDLEtBQUEsR0FBQXJCLElBQUFDLE1BQUFxQixNQUNBSCxPQUFBLEdBQUEsSUFBQSxJQUFBLFFBR0FJLEtBQUEsR0FBQXZCLElBQUFDLE1BQUF1QixNQUNBRCxLQUFBVixFQUFBWSxXQUNBSixLQUFBLEdBQUFyQixJQUFBQyxNQUFBcUIsTUFDQUgsTUFBQSxjQUdBTyxPQUFBLFFBR0FkLEVBQUFmLEVBQUFFLElBQUEsWUFBQSxHQUNBRSxHQUFBTCxvQkFBQWdCLEtBRUFYLEVBdUZBLFFBQUEwQixvQkFBQTlCLEVBQUFjLEdBQ0EsR0FBQWIsRUFVQSxPQVRBQSxHQUFBUCxZQUFBTSxFQUFBRSxJQUFBLFNBQUFkLFlBQUFZLEVBQUFFLElBQUEsa0JBQUEsVUFDQTZCLFlBQUEsR0FBQTVCLElBQUFDLE1BQUFDLE9BQ0FHLE1BQUEsR0FBQUwsSUFBQUMsTUFBQUssTUFDQVIsSUFBQUEsRUFDQVMsYUFBQSxjQUNBQyxRQUFBLEdBQUEsR0FDQUMsTUFBQSxPQ3hFQSxRQUFBb0Isa0JBQ0FDLGFBQUFDLFFBQ0FDLEtBQUEsR0FBQWhDLElBQUFpQyxZQUFBQyxNQUNBQyxPQUFBTCxhQUNBTSxLQUFBLGFBQ0FDLGlCQUFBQSxpQkFDQUMsVUFBQSxJQUVBTixLQUFBTyxHQUFBLFlBQUEsV0FDQVQsYUFBQUMsVUFFQUMsS0FBQU8sR0FBQSxVQUFBLFdBQ0FDLElBQUFDLGtCQUFBVCxRQUVBUSxJQUFBWCxlQUFBRyxNQUVBLFFBQUFLLGtCQUFBSyxFQUFBdkMsR0FDQUEsSUFDQUEsRUFBQSxHQUFBSCxJQUFBMkMsS0FBQUMsUUFBQSxNQUVBLElBQUFDLEdBQUFILEVBQUEsR0FDQUksRUFBQUosRUFBQSxFQWNBLE9BYkF2QyxHQUFBNEMsaUJBRUFGLEdBRUFBLEVBQUEsR0FBQUMsRUFBQSxJQUVBQSxHQUVBQSxFQUFBLEdBQUFELEVBQUEsSUFFQUEsS0FHQTFDLEVDNUpBLFFBQUE2QyxZQUFBQyxHQUNBLEdBS0FDLEdBQ0FDLEVBTEFDLEdBREFILEVBQUFJLGVBRUFDLElBS0FkLEtBQUFDLGtCQUFBVCxNQUNBaUIsRUFBQU0saUJBQ0FILEVBQUFFLE1BQUFBLEVBQ0EsT0FBQUUsTUFDQUYsRUFBQUcsSUFBQSxzQkFDQUgsRUFBQWxCLEtBQUEsb0JBQ0FrQixFQUFBSSxhQUFBLGlCQUNBSixFQUFBSyxLQUFBLFNBQ0FMLEVBQUFNLFFBQUEsWUFDQU4sRUFBQU8sU0FBQSxjQUNBUCxFQUFBUSxNQUFBLE9BQ0FSLEVBQUFTLE1BQUEsV0FDQVQsRUFBQVUsUUFBQSxXQUNBVixFQUFBVyxVQUFBLGFBQ0FYLEVBQUFZLEtBQUEsYUFDQVosRUFBQWEsS0FBQSxNQUNBYixFQUFBYyxRQUFBLFdBQ0FkLEVBQUFlLFFBQUEsT0FDQWYsRUFBQWdCLFlBQUEsd0JBQ0FoQixFQUFBaUIsS0FBQSxRQUNBakIsRUFBQWtCLFNBQUEsVUFDQWxCLEVBQUFtQixNQUFBLFdBQ0FuQixFQUFBb0IsTUFBQSwwQkFFQXBCLEVBQUFHLElBQUEsY0FDQUgsRUFBQWxCLEtBQUEsZ0JBQ0FrQixFQUFBSSxhQUFBLGVBQ0FKLEVBQUFLLEtBQUEsT0FDQUwsRUFBQU0sUUFBQSxVQUNBTixFQUFBTyxTQUFBLFdBQ0FQLEVBQUFRLE1BQUEsUUFDQVIsRUFBQVMsTUFBQSxjQUNBVCxFQUFBVSxRQUFBLFVBQ0FWLEVBQUFXLFVBQUEsWUFDQVgsRUFBQVksS0FBQSxlQUNBWixFQUFBYSxLQUFBLE9BQ0FiLEVBQUFjLFFBQUEsVUFDQWQsRUFBQWUsUUFBQSxVQUNBZixFQUFBZ0IsWUFBQSxlQUNBaEIsRUFBQWlCLEtBQUEsT0FDQWpCLEVBQUFrQixTQUFBLFlBQ0FsQixFQUFBbUIsTUFBQSxZQUNBbkIsRUFBQW9CLE1BQUEsU0FFQXhCLEVBQUFWLElBQUFtQyxzQkFBQTFCLEVBQUEyQixNQUFBLFNBQUEvRSxFQUFBZ0YsR0FDQSxPQUNBaEYsUUFBQUEsRUFDQWdGLE1BQUFBLElBRUFDLEtBQUEsU0FBQUQsR0FDQSxNQUFBLFlBQUFBLEVBQUE5RSxJQUFBLE9BQUEsb0JBQUE4RSxFQUFBOUUsSUFBQSxPQUNBLEVBREEsUUFHQStFLE1BQ0E1QixFQUNBLFlBQUFBLEVBQUEyQixNQUFBOUUsSUFBQSxPQUFBLElBQUFtRCxFQUFBckQsUUFBQUUsSUFBQSxZQUFBZSxRQUNBcUMsRUFBQUQsRUFBQXJELFFBQUFrRixnQkFBQUMsU0FBQSxHQUNBQyxRQUFBQyxJQUFBL0IsR0FDQWdDLGlCQUFBaEMsRUFBQUMsSUFDQSxvQkFBQUYsRUFBQTJCLE1BQUE5RSxJQUFBLFFBQ0FvRCxFQUFBRCxFQUFBckQsUUFDQXNGLGlCQUFBaEMsRUFBQUMsSUFHQWdDLElBQUFDLFVBQUEsTUFJQSxRQUFBRixrQkFBQWhDLEVBQUFDLEdBQ0EsR0FBQXZELEtBQ0FBLEdBQUE0RCxJQUFBTixFQUFBcEQsSUFBQSxPQUNBRixFQUFBOEQsS0FBQVIsRUFBQXBELElBQUEsY0FDQSxPQUFBeUQsTUFDQTNELEVBQUF1QyxLQUFBZSxFQUFBcEQsSUFBQSxjQUNBRixFQUFBK0QsUUFBQVQsRUFBQXBELElBQUEsYUFBQSxJQUFBb0QsRUFBQXBELElBQUEsaUJBQ0FGLEVBQUEwRSxLQUFBcEIsRUFBQXBELElBQUEsV0FDQUYsRUFBQTJFLFNBQUFyQixFQUFBcEQsSUFBQSxlQUNBb0QsRUFBQXBELElBQUEsV0FBQSxFQUNBRixFQUFBNkQsYUFBQSxTQUVBN0QsRUFBQTZELGFBQUEsWUFFQTdELEVBQUF5RixNQUNBQyxLQUFBLGNBQ0FDLE1BQUEsY0FHQTNGLEVBQUF1QyxLQUFBZSxFQUFBcEQsSUFBQSxpQkFDQUYsRUFBQStELFFBQUFULEVBQUFwRCxJQUFBLGFBQUEsSUFBQW9ELEVBQUFwRCxJQUFBLGlCQUNBRixFQUFBMEUsS0FBQXBCLEVBQUFwRCxJQUFBLFdBQ0FGLEVBQUEyRSxTQUFBckIsRUFBQXBELElBQUEsZUFDQW9ELEVBQUFwRCxJQUFBLFdBQUEsRUFDQUYsRUFBQTZELGFBQUEsT0FFQTdELEVBQUE2RCxhQUFBLE9BRUE3RCxFQUFBeUYsTUFDQUMsS0FBQSxPQUNBQyxNQUFBLFVBR0EzRixFQUFBZ0UsU0FBQVYsRUFBQXBELElBQUEsWUFDQUYsRUFBQWlFLE1BQUFYLEVBQUFwRCxJQUFBLFNBQ0FGLEVBQUFrRSxNQUFBWixFQUFBcEQsSUFBQSxTQUNBRixFQUFBbUUsUUFBQWIsRUFBQXBELElBQUEsV0FDQUYsRUFBQW9FLFVBQUFkLEVBQUFwRCxJQUFBLGFBQ0FGLEVBQUFxRSxLQUFBZixFQUFBcEQsSUFBQSxRQUNBRixFQUFBc0UsS0FBQWhCLEVBQUFwRCxJQUFBLFFBQ0FGLEVBQUF1RSxRQUFBakIsRUFBQXBELElBQUEsV0FDQUYsRUFBQXdFLFFBQUFsQixFQUFBcEQsSUFBQSxXQUNBRixFQUFBNEUsTUFBQXRCLEVBQUFwRCxJQUFBLFVBQ0FGLEVBQUE2RSxNQUFBdkIsRUFBQXBELElBQUEsU0FDQUYsRUFBQXdELFdBQUFGLEVBQUFwRCxJQUFBLFlBQUEwRixnQkFFQSxJQUFBQyxHQUFBLEdBQUExRixJQUFBbUMsT0FBQXdELFFBQ0FDLGNBQUEsR0FBQTVGLElBQUE2RixhQUNBQyxLQUFBLG9FQUVBQyxPQUFBQyxjQUNBQyxPQUFBLFNBQUFDLEVBQUF2RixFQUFBd0YsR0FDQSxHQUFBQyxHQUFBLGlDQUFBdkcsRUFBQTRELElBQ0E0QyxFQUFBdkIsSUFDQXdCLEdBQUFDLE1BQ0FILElBQUFBLEVBQ0FoRSxLQUFBLE1BQ0FvRSxTQUFBLFNBQ0FDLEtBQUEsU0FBQUMsR0FDQSxHQUFBMUIsR0FBQWdCLGNBQUFXLGFBQUFELEVBQUFFLDRCQUNBQyxrQkFBQSxjQUVBbEQsRUFBQSxHQUFBM0QsSUFBQUMsTUFBQUMsT0FDQW1CLEtBQUEsR0FBQXJCLElBQUFDLE1BQUFxQixNQUNBSCxPQUFBLElBQUEsR0FBQSxJQUFBLE9BR0E2RCxHQUFBLEdBQUE4QixTQUFBbkQsR0FDQTBDLEVBQUFVLFlBQUEvQixLQUNBZ0MsS0FBQSxXQUNBL0IsUUFBQUMsSUFBQSxZQUdBK0IsU0FBQWpILEdBQUFrSCxnQkFBQUMsS0FFQS9CLEtBQUFDLFVBQUFLLEdBQ0FsRCxJQUFBNEUsVUFBQUMsVUFBQXhILEVBQUF3RCxZQUNBYixJQUFBNEUsVUFBQUUsY0FBQSxLQUNBbEUsRUFBQXZELFFBQUFBLEVBRUEwSCxLQUFBQyxPQUFBLGNBQUFwRSxFQUFBLFNBQUFxRSxFQUFBQyxHQUNBcEIsRUFBQSxpQkFBQVIsS0FBQTRCLEdBQ0FwQixFQUFBLGlCQUFBcUIsU0FBQSx5QkFHQXJCLEVBQUEsd0JBQUFzQixNQUFBLFdBQ0FMLEtBQUFDLE9BQUEsWUFBQXBFLEVBQUEsU0FBQXFFLEVBQUFDLEdBQ0FwQixFQUFBLGtCQUFBUixLQUFBNEIsT0FHQXBCLEVBQUEsOEJBQUFzQixNQUFBLFdBQ0F0QixFQUFBLGlCQUFBdUIsWUFBQSx5QkN2S0EsUUFBQUMsZ0JBQ0EsWUFDQSxJQUFBQyxHQUFBLFNBQUFBLEdBQ0FqRCxLQUFBa0QsU0FBQUQsRUFBQWpELEtBQUFtRCxlQUFBbkQsS0FBQW9ELE9BRUFDLFFBQUFDLG9CQUFBTCxFQUFBQSxFQUFBTSxVQUFBQyxhQUNBQyxNQUFBLHlCQUNBQyxPQUFBLDBCQUNBQyxhQUFBLHVCQUNBQyxtQkFBQSw2QkFDQUMsZ0JBQUEsbUNBQ0FDLFNBQUEsV0FDQUMsV0FBQSxhQUNBQyxZQUFBLGNBQ0FDLFdBQUEsYUFDQUMsWUFBQSxjQUNBQyxZQUFBLGVBQ0FsQixFQUFBTSxVQUFBYSxXQUNBQyxNQUFBLEdBQ0FDLE9BQUEsR0FDQUMsTUFBQSxHQUNBQyxTQUFBLEdBQ0FDLFdBQUEsSUFDQXhCLEVBQUFNLFVBQUFKLGFBQUEsV0FDQW5ELEtBQUEwRSxZQUFBMUUsS0FBQTJFLGVBQUEzRSxLQUFBNEUsZUFBQTVFLEtBQUE2RSxVQUFBLEVBQUE3RSxLQUFBOEUsZ0JBQUEsTUFDQTdCLEVBQUFNLFVBQUF3QixTQUFBLFNBQUE5QixHQUNBakQsS0FBQTZFLFVBQUE3RSxLQUFBZ0YsTUFBQS9CLElBQ0FBLEVBQUFNLFVBQUEwQixRQUFBLFNBQUFoQyxHQUNBakQsS0FBQWtELFNBQUFnQyxVQUFBQyxPQUFBbkYsS0FBQXdELFlBQUFPLGFBQ0FkLEVBQUFNLFVBQUE2QixZQUFBLFNBQUFuQyxHQUNBLEdBQUFBLEVBQUFvQyxRQUFBLE1BQUFwQyxFQUFBb0MsT0FBQUMsU0FBQSxDQUNBLEdBQUFDLEdBQUF2RixLQUFBMEUsU0FBQXpCLEVBQUFvQyxPQUFBRyxhQUFBLGNBQ0F4RixNQUFBeUYscUJBQUFDLFlBQUFILEVBQUFHLFlBQUFILEVBQUFJLFVBQUEsQ0FDQSxJQUFBQyxFQUNBLElBQUEsa0JBQUF2QyxRQUFBd0MsTUFBQUQsRUFBQSxHQUFBQyxPQUFBLFVBQ0FDLFNBQUEsRUFDQUMsWUFBQSxJQUNBLGtCQUFBQyxVQUFBQyxjQUFBTCxFQUFBSSxTQUFBQyxZQUFBLGNBQUFMLEVBQUFNLFVBQUEsVUFBQSxHQUFBLElBQUFOLEdBQUE1RixLQUFBbUcsUUFBQUMsY0FBQVIsR0FBQSxLQUFBTCxFQUFBRyxZQUFBLENBQ0ExRixLQUFBa0QsU0FBQWdDLFVBQUFtQixJQUFBckcsS0FBQXdELFlBQUFNLFNBQ0EsSUFBQXdDLEdBQUF0RyxLQUFBdUcsZUFBQUMsY0FBQSxJQUFBeEcsS0FBQXdELFlBQUFXLFlBQ0FtQyxJQUFBQSxFQUFBcEIsVUFBQUMsT0FBQW5GLEtBQUF3RCxZQUFBVyxhQUFBbEIsRUFBQW9DLE9BQUFILFVBQUFtQixJQUFBckcsS0FBQXdELFlBQUFXLGlCQUNBLENBQ0FuRSxLQUFBa0QsU0FBQWdDLFVBQUFDLE9BQUFuRixLQUFBd0QsWUFBQU0sU0FDQSxJQUFBd0MsR0FBQXRHLEtBQUF1RyxlQUFBQyxjQUFBLElBQUF4RyxLQUFBd0QsWUFBQVcsWUFDQW1DLElBQUFBLEVBQUFwQixVQUFBQyxPQUFBbkYsS0FBQXdELFlBQUFXLGdCQUdBbEIsRUFBQU0sVUFBQWtELFNBQUEsU0FBQXhELEdBQ0FqRCxLQUFBMEcsT0FBQXpELElBQ0FBLEVBQUFNLFVBQUFvRCxRQUFBLFdBQ0EsR0FBQTFELEVBQ0EsSUFBQWpELEtBQUEwRSxVQUFBMUUsS0FBQTBFLFNBQUExSSxPQUFBLEVBQ0EsSUFBQSxHQUFBdUosR0FBQSxFQUFBQSxFQUFBdkYsS0FBQTBFLFNBQUExSSxPQUFBdUosSUFBQSxDQUNBLEdBQUFLLEdBQUE1RixLQUFBMEUsU0FBQWEsRUFDQSxJQUFBSyxFQUFBRCxVQUFBLEtBQUFDLEVBQUFnQixNQUFBLENBQ0EsR0FBQTNELElBQUEsQ0FDQWpELE1BQUFrRCxTQUFBZ0MsVUFBQW1CLElBQUFyRyxLQUFBd0QsWUFBQU0sVUFBQTlELEtBQUF1RyxlQUFBQyxjQUFBLElBQUF4RyxLQUFBd0QsWUFBQVcsYUFBQWUsVUFBQUMsT0FBQW5GLEtBQUF3RCxZQUFBVyxhQUFBbkUsS0FBQXVHLGVBQUFNLGlCQUFBLE1BQUF0QixHQUFBTCxVQUFBbUIsSUFBQXJHLEtBQUF3RCxZQUFBVyxjQUdBbEIsR0FBQWpELEtBQUFrRCxTQUFBZ0MsVUFBQUMsT0FBQW5GLEtBQUF3RCxZQUFBTSxVQUFBOUQsS0FBQThHLGdCQUFBOUcsS0FBQStHLGlCQUNBOUQsRUFBQU0sVUFBQXdELGNBQUEsV0FDQS9HLEtBQUFtRyxRQUFBYSxXQUFBaEgsS0FBQW1HLFFBQUFhLFNBQUFDLE1BQUFqSCxLQUFBa0QsU0FBQWdDLFVBQUFDLE9BQUFuRixLQUFBd0QsWUFBQVMsWUFBQWpFLEtBQUFrRCxTQUFBZ0MsVUFBQW1CLElBQUFyRyxLQUFBd0QsWUFBQVMsY0FDQWhCLEVBQUFNLFVBQUF3RCxjQUFBOUQsRUFBQU0sVUFBQXdELGNBQUE5RCxFQUFBTSxVQUFBdUQsY0FBQSxXQUNBOUcsS0FBQW1HLFFBQUFlLFNBQUFsSCxLQUFBa0QsU0FBQWdDLFVBQUFtQixJQUFBckcsS0FBQXdELFlBQUFRLGFBQUFoRSxLQUFBa0QsU0FBQWdDLFVBQUFDLE9BQUFuRixLQUFBd0QsWUFBQVEsY0FDQWYsRUFBQU0sVUFBQXVELGNBQUE3RCxFQUFBTSxVQUFBdUQsY0FBQTdELEVBQUFNLFVBQUE0RCxRQUFBLFdBQ0FuSCxLQUFBbUcsUUFBQWUsVUFBQSxFQUFBbEgsS0FBQTJHLFdBQ0ExRCxFQUFBTSxVQUFBNEQsUUFBQWxFLEVBQUFNLFVBQUE0RCxRQUFBbEUsRUFBQU0sVUFBQTZELE9BQUEsV0FDQXBILEtBQUFtRyxRQUFBZSxVQUFBLEVBQUFsSCxLQUFBMkcsV0FDQTFELEVBQUFNLFVBQUE2RCxPQUFBbkUsRUFBQU0sVUFBQTZELE9BQUFuRSxFQUFBTSxVQUFBbUQsT0FBQSxTQUFBekQsR0FDQWpELEtBQUFrRCxTQUFBZ0MsVUFBQW1DLFNBQUFySCxLQUFBd0QsWUFBQU8sWUFBQS9ELEtBQUFzSCxRQUFBdEgsS0FBQWdGLE1BQUEvQixJQUNBQSxFQUFBTSxVQUFBeUIsTUFBQSxTQUFBL0IsR0FDQSxHQUFBakQsS0FBQThHLGlCQUFBOUcsS0FBQWtELFNBQUFnQyxVQUFBbUMsU0FBQXJILEtBQUF3RCxZQUFBUSxhQUFBLENBQ0FoRSxLQUFBa0QsU0FBQWdDLFVBQUFtQixJQUFBckcsS0FBQXdELFlBQUFPLFlBQUEvRCxLQUFBNkUsVUFBQSxFQUFBN0UsS0FBQXVILFdBQUEsRUFDQSxJQUFBaEMsR0FBQXZGLEtBQUF1RyxlQUFBQyxjQUFBLElBQUF4RyxLQUFBd0QsWUFBQVcsWUFDQW9CLEtBQUFBLEVBQUFpQyxjQUFBQSxjQUFBQyxVQUFBbEMsRUFBQW1DLFdBQUExSCxLQUFBMkgscUJBQUEzSCxLQUFBNEgsV0FBQUMsS0FBQTdILE1BQUFBLEtBQUE4SCxzQkFBQSxTQUFBdkMsR0FDQUEsSUFBQXRDLEdBQUFqRCxLQUFBNkUsVUFBQVUsRUFBQUYsT0FBQTBDLGFBQUEvSCxLQUFBa0QsVUFBQXFDLEVBQUFGLE9BQUEwQyxhQUFBL0gsS0FBQWdJLGlCQUFBaEksS0FBQXNILFNBQ0FPLEtBQUE3SCxNQUFBZ0csU0FBQWlDLGlCQUFBLFVBQUFqSSxLQUFBMkgsc0JBQUEzQixTQUFBaUMsaUJBQUEsUUFBQWpJLEtBQUE4SCx5QkFFQTdFLEVBQUFNLFVBQUFxRSxXQUFBLFNBQUEzRSxHQUNBLEdBQUFzQyxHQUFBdkYsS0FBQXVHLGVBQUFNLGlCQUFBLHFCQUNBLElBQUF0QixHQUFBQSxFQUFBdkosT0FBQSxJQUFBZ0UsS0FBQTZFLFNBQUEsQ0FDQSxHQUFBZSxHQUNBVSxFQUFBNEIsTUFBQTNFLFVBQUE0RSxNQUFBQyxLQUFBN0MsR0FBQThDLFFBQUFySSxLQUFBdUcsZUFBQU0saUJBQUEsSUFBQTdHLEtBQUF3RCxZQUFBVyxhQUFBLEdBQ0EsSUFBQWxCLEVBQUFxRixVQUFBdEksS0FBQW9FLFVBQUFJLFVBQUF2QixFQUFBcUYsVUFBQXRJLEtBQUFvRSxVQUFBSyxXQUFBLElBQUE2QixHQUFBZixFQUFBZSxHQUFBcEIsVUFBQUMsT0FBQW5GLEtBQUF3RCxZQUFBVyxhQUFBbEIsRUFBQXFGLFVBQUF0SSxLQUFBb0UsVUFBQUksVUFBQXZCLEVBQUF4RSxpQkFBQW1ILEVBQUFVLEVBQUEsRUFBQWYsRUFBQWUsRUFBQSxHQUFBZixFQUFBQSxFQUFBdkosT0FBQSxLQUFBaUgsRUFBQXhFLGlCQUFBbUgsRUFBQUwsRUFBQXZKLE9BQUFzSyxFQUFBLEVBQUFmLEVBQUFlLEVBQUEsR0FBQWYsRUFBQSxJQUFBSyxJQUFBQSxFQUFBVixVQUFBbUIsSUFBQXJHLEtBQUF3RCxZQUFBVyxhQUFBbkUsS0FBQXVHLGVBQUFrQixVQUFBN0IsRUFBQThCLFVBQUExSCxLQUFBdUksa0JBQUEzQyxPQUFBLElBQUEzQyxFQUFBcUYsVUFBQXRJLEtBQUFvRSxVQUFBRyxPQUFBdEIsRUFBQXFGLFVBQUF0SSxLQUFBb0UsVUFBQUMsUUFBQXJFLEtBQUF1SSxtQkFDQSxHQUFBdEYsRUFBQXFGLFVBQUF0SSxLQUFBb0UsVUFBQUUsT0FBQSxDQUNBckIsRUFBQXhFLGdCQUNBLElBQUErSixFQUNBeEMsVUFBQUMsYUFBQXVDLEVBQUF4QyxTQUFBQyxZQUFBLGNBQUF1QyxFQUFBQyxlQUFBLFNBQUEsR0FBQSxFQUFBcEYsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUFtRixFQUFBLEdBQUFFLFlBQUEsYUFBQTFDLFNBQUEyQyxLQUFBdkMsY0FBQW9DLEdBQUF4QyxTQUFBQyxjQUFBdUMsRUFBQSxHQUFBRSxZQUFBLFdBQUExQyxTQUFBMkMsS0FBQXZDLGNBQUFvQyxJQUFBeEMsU0FBQTJDLEtBQUE3RixZQUNBLElBQUE5QyxLQUFBNEksY0FBQTNGLEVBQUFxRixTQUFBLENBQ0EsR0FBQU8sR0FBQTVGLEVBQUE2RixPQUFBN0YsRUFBQXFGLE9BQ0F0SSxNQUFBdUgsWUFBQXdCLE9BQUFDLGFBQUFILEdBQUE3SSxLQUFBOEUsaUJBQUFtRSxhQUFBakosS0FBQThFLGlCQUFBOUUsS0FBQThFLGdCQUFBb0UsV0FBQSxXQUNBbEosS0FBQThFLGdCQUFBLEtBQUE5RSxLQUFBdUgsV0FBQSxJQUNBTSxLQUFBN0gsTUFBQSxJQUNBLElBQUFtSixHQUFBbkosS0FBQW9KLGtCQUFBLEVBQ0FELEdBQUEsS0FBQSxJQUFBN0MsR0FBQWYsRUFBQWUsR0FBQXBCLFVBQUFDLE9BQUFuRixLQUFBd0QsWUFBQVcsYUFBQXlCLEVBQUFMLEVBQUE0RCxHQUFBdkQsRUFBQVYsVUFBQW1CLElBQUFyRyxLQUFBd0QsWUFBQVcsYUFBQW5FLEtBQUF1RyxlQUFBa0IsVUFBQTdCLEVBQUE4QixVQUFBMUgsS0FBQXVJLGtCQUFBM0MsUUFFQSxDQUNBM0MsRUFBQXhFLGdCQUNBLElBQUErSixFQUNBeEMsVUFBQUMsYUFBQXVDLEVBQUF4QyxTQUFBQyxZQUFBLGNBQUF1QyxFQUFBQyxlQUFBLFNBQUEsR0FBQSxFQUFBcEYsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUFtRixFQUFBLEdBQUFFLFlBQUEsYUFBQTFJLEtBQUF1SSxrQkFBQW5DLGNBQUFvQyxHQUFBeEMsU0FBQUMsY0FBQXVDLEVBQUEsR0FBQUUsWUFBQSxXQUFBMUksS0FBQXVJLGtCQUFBbkMsY0FBQW9DLE9BR0F2RixFQUFBTSxVQUFBNkYsa0JBQUEsU0FBQW5HLEdBQ0EsSUFBQSxHQUFBc0MsR0FBQXZGLEtBQUF1SCxXQUFBM0IsRUFBQSxHQUFBeUQsUUFBQSxJQUFBOUQsRUFBQSxLQUFBZSxFQUFBLEdBQUFrQyxFQUFBeEksS0FBQTRFLFlBQUFpRSxFQUFBLEVBQUFBLEVBQUFMLEVBQUF4TSxPQUFBNk0sSUFDQSxHQUFBakQsRUFBQTBELEtBQUFkLEVBQUFLLElBQUEsQ0FDQXZDLEVBQUF1QyxDQUFBLE9BRUEsTUFBQSxJQUFBdkMsRUFBQXRHLEtBQUEyRSxZQUFBM0UsS0FBQTRFLFlBQUEwQixJQUFBLElBQ0FyRCxFQUFBTSxVQUFBcUYsY0FBQSxTQUFBM0YsR0FDQSxNQUFBQSxHQUFBLElBQUEsR0FBQUEsR0FBQSxJQUFBQSxHQUFBLElBQUFBLEdBQUFBLEVBQUEsSUFBQSxHQUFBQSxHQUFBQSxFQUFBLElBQUEsSUFBQUEsR0FBQUEsRUFBQSxLQUFBLElBQUFBLEdBQUFBLEVBQUEsS0FBQSxJQUFBQSxHQUNBQSxFQUFBTSxVQUFBK0QsTUFBQSxXQUNBdEgsS0FBQWtELFNBQUFnQyxVQUFBQyxPQUFBbkYsS0FBQXdELFlBQUFPLFlBQUEvRCxLQUFBNkUsVUFBQSxFQUFBN0UsS0FBQXVILFdBQUEsR0FBQXZILEtBQUE4SCx1QkFBQTlCLFNBQUF1RCxvQkFBQSxRQUFBdkosS0FBQThILHVCQUFBOUgsS0FBQTJILHNCQUFBM0IsU0FBQXVELG9CQUFBLFVBQUF2SixLQUFBMkgsc0JBQUEzSCxLQUFBMkcsV0FDQTFELEVBQUFNLFVBQUFILEtBQUEsV0FDQSxHQUFBcEQsS0FBQWtELFNBQUEsQ0FDQWxELEtBQUF3SixPQUFBeEosS0FBQWtELFNBQUFzRCxjQUFBLElBQUF4RyxLQUFBd0QsWUFBQUMsT0FBQXpELEtBQUFtRyxRQUFBbkcsS0FBQWtELFNBQUFzRCxjQUFBLElBQUF4RyxLQUFBd0QsWUFBQUUsT0FDQSxJQUFBVCxHQUFBK0MsU0FBQXlELGNBQUEsTUFDQXhHLEdBQUFpQyxVQUFBbUIsSUFBQXJHLEtBQUF3RCxZQUFBRyxjQUFBVixFQUFBeUcsU0FBQSxFQUFBMUosS0FBQWdJLGdCQUFBL0UsQ0FDQSxJQUFBc0MsR0FBQVMsU0FBQXlELGNBQUEsSUFDQWxFLEdBQUFMLFVBQUFtQixJQUFBLGtCQUFBZCxFQUFBbUUsU0FBQSxHQUFBbkUsRUFBQUcsWUFBQSxzQkFBQXpDLEVBQUEwRyxZQUFBcEUsRUFDQSxJQUFBSyxHQUFBSSxTQUFBeUQsY0FBQSxPQUNBN0QsR0FBQVYsVUFBQW1CLElBQUFyRyxLQUFBd0QsWUFBQUksb0JBQUFnQyxFQUFBOEQsU0FBQSxFQUFBekcsRUFBQTBHLFlBQUEvRCxHQUFBNUYsS0FBQXlGLHFCQUFBRyxFQUFBNUYsS0FBQWtELFNBQUF5RyxZQUFBM0osS0FBQWdJLGdCQUNBLElBQUExQixHQUFBdEcsS0FBQWtELFNBQUFnQyxVQUFBbUMsU0FBQXJILEtBQUF3RCxZQUFBUyxXQUNBLElBQUFqRSxLQUFBbUcsVUFBQW5HLEtBQUEwRSxTQUFBMUUsS0FBQW1HLFFBQUFVLGlCQUFBLFVBQUE3RyxLQUFBbUcsUUFBQWhMLE1BQUF5TyxXQUFBLFNBQUE1SixLQUFBMEUsU0FBQTFJLFFBQUEsQ0FDQWdFLEtBQUE2SixxQkFBQTdKLEtBQUFvRixZQUFBeUMsS0FBQTdILEtBQ0EsSUFBQXdJLEdBQUF4QyxTQUFBeUQsY0FBQSxNQUNBakIsR0FBQXRELFVBQUFtQixJQUFBckcsS0FBQXdELFlBQUFLLGlCQUFBMkUsRUFBQWtCLFNBQUEsSUFDQSxJQUFBYixHQUFBN0MsU0FBQXlELGNBQUEsS0FDQVosR0FBQWEsU0FBQSxJQUNBLEtBQUEsR0FBQVAsR0FBQSxFQUFBQSxFQUFBbkosS0FBQTBFLFNBQUExSSxPQUFBbU4sSUFBQSxDQUNBLEdBQUFXLEdBQUE5SixLQUFBMEUsU0FBQXlFLEdBQ0FZLEdBQUFELEVBQUFwRSxhQUFBLElBQUFzRSxjQUFBQyxRQUFBLFlBQUEsR0FBQWpLLE1BQUEyRSxZQUFBb0YsR0FBQVosRUFBQW5KLEtBQUE0RSxZQUFBc0YsS0FBQUgsRUFBQSxJQUFBSSxHQUFBbkUsU0FBQXlELGNBQUEsS0FBQVUsR0FBQXpFLFlBQUFvRSxFQUFBcEUsWUFBQXlFLEVBQUFDLGFBQUEsYUFBQWpCLEdBQUFnQixFQUFBVCxTQUFBLEtBQUFTLEVBQUFsQyxpQkFBQSxRQUFBakksS0FBQTZKLHNCQUFBaEIsRUFBQWMsWUFBQVEsR0FBQUwsRUFBQW5FLFVBQUEsS0FBQW1FLEVBQUFwRSxjQUFBMUYsS0FBQWtELFNBQUFnQyxVQUFBbUIsSUFBQXJHLEtBQUF3RCxZQUFBTSxVQUFBOUQsS0FBQXlGLHFCQUFBQyxZQUFBb0UsRUFBQXBFLFlBQUF5RSxFQUFBakYsVUFBQW1CLElBQUFyRyxLQUFBd0QsWUFBQVcsY0FFQXFFLEVBQUFtQixZQUFBZCxHQUFBN0ksS0FBQWtELFNBQUF5RyxZQUFBbkIsR0FBQXhJLEtBQUF1RyxlQUFBaUMsRUFFQXhJLEtBQUFxSyxrQkFBQXJLLEtBQUF5RyxTQUFBb0IsS0FBQTdILE1BQUFBLEtBQUFrRCxTQUFBK0UsaUJBQUEsUUFBQWpJLEtBQUFxSyxtQkFBQS9ELEdBQUF0RyxLQUFBa0QsU0FBQWdDLFVBQUFtQixJQUFBckcsS0FBQXdELFlBQUFTLFlBQUFqRSxLQUFBOEcsa0JBRUE3RCxFQUFBTSxVQUFBK0csY0FBQSxXQUNBLEdBQUF0SyxLQUFBa0QsU0FBQXFHLG9CQUFBLFFBQUF2SixLQUFBcUssbUJBQUFySyxLQUFBNkosc0JBQUE3SixLQUFBMEUsU0FBQTFJLE9BQ0EsSUFBQSxHQUFBaUgsR0FBQWpELEtBQUF1RyxlQUFBTSxpQkFBQSxNQUFBdEIsRUFBQSxFQUFBQSxFQUFBdEMsRUFBQWpILE9BQUF1SixJQUFBdEMsRUFBQXNDLEdBQUFnRSxvQkFBQSxRQUFBdkosS0FBQTZKLHVCQUNBNUcsRUFBQU0sVUFBQWdILGFBQUF0SCxFQUFBTSxVQUFBK0csY0FBQXJILEVBQUFNLFVBQUFnSCxhQUFBdEgsRUFBQU0sVUFBQWdILGFBQUFDLGlCQUFBQyxVQUNBQyxZQUFBekgsRUFDQTBILGNBQUEsc0JBQ0FDLFNBQUEscUJBQ0FDLFFBQUEsSUgvSUEsR0FBQUMsVUFBQXRKLEVBQUEsZ0JBQ0F1SixRQUFBLFFBQUEsU0FDQTNKLFFBQUEsUUFBQSxRQUFBLFFBQUEsU0FDQTFDLEtBQUFzSCxTQUFBZ0YsZ0JBQUF0TSxLQUNBNUIsY0FDQW9FLGNBQUEsR0FBQWhHLElBQUErRixPQUFBZ0ssU0FDQUMsc0JBQUEsY0FFQUMsS0FBQSxHQUFBalEsSUFBQTZFLE1BQUFxTCxNQUNBQyxTQUFBLEVBQ0FoTyxPQUFBLEdBQUFuQyxJQUFBbUMsT0FBQWlPLFVBQ0FDLElBQUEsbUVBQ0FDLFdBQUEsV0FFQUMsUUFBQSxHQUNBQyxZQUFBLFlBQ0FDLFFBQUFDLEVBQUFBLEVBQ0FDLEdBQUEsU0FFQUMsT0FBQSxHQUFBNVEsSUFBQTZFLE1BQUFxTCxNQUNBL04sT0FBQSxHQUFBbkMsSUFBQW1DLE9BQUEwTyxLQUNBakwsY0FBQSxHQUFBNUYsSUFBQTZGLGFBQ0FDLEtBQUEseUdBRUFNLElBQUEsNktBRUF1SyxHQUFBLFdBcUZBRyxlQUFBLEdBQUE5USxJQUFBbUMsT0FBQXdELFFBQ0FJLE9BQUFDLGNBQ0FDLE9BQUEsU0FBQUMsRUFBQXZGLEVBQUF3RixHQUNBbEIsUUFBQUMsSUFBQXZFLEVBQ0EsSUFBQW9RLEdBQUEvUSxHQUFBZ1IsS0FBQUMsZ0JBQUEvSyxFQUFBLFlBQUEsYUFDQUUsRUFBQSw4Q0FBQTJLLEVBQUEsR0FBQSxhQUFBQSxFQUFBLEdBQUEsYUFBQUEsRUFBQSxHQUFBLGFBQUFBLEVBQUEsR0FDQTFLLEVBQUF2QixJQUNBQSxNQUFBL0MsUUFDQWtELFFBQUFDLElBQUFnQixHQUNBSSxFQUFBQyxNQUNBSCxJQUFBQSxFQUNBaEUsS0FBQSxNQUNBb0UsU0FBQSxTQUVBQyxLQUFBLFNBQUFDLEdBQ0EsR0FBQTFCLEdBQUFnQixjQUFBVyxhQUFBRCxHQUNBRyxrQkFBQSxhQUVBUixHQUFBVSxZQUFBL0IsS0FFQWdDLEtBQUEsV0FDQS9CLFFBQUFDLElBQUEsWUFHQStCLFNBQUFqSCxHQUFBa0gsZ0JBQUFnSyxPQUVBQyxzQkFBQSxHQUFBblIsSUFBQW1DLE9BQUFpUCxTQUNBQyxTQUFBLEdBQ0FsUCxPQUFBMk8sZUFDQWxMLGNBQUEsR0FBQTVGLElBQUE2RixhQUNBQyxLQUFBLDBFQUdBd0wsU0FBQSxHQUFBdFIsSUFBQTZFLE1BQUFjLFFBQ0F4RCxPQUFBZ1Asc0JBQ0FSLEdBQUEsVUFDQVIsU0FBQSxFQUNBbFEsTUFBQVMsdUJBRUE0USxVQUFBQyxVQUFBLEVBQ0EsSUFBQUMsa0JBQUEsU0FBQTNSLEVBQUFjLEdBQ0EsR0FDQVksR0FEQWtRLEVBQUE1UixFQUFBRSxJQUFBLFFBeUJBLE9BdEJBd0IsR0FEQSxPQUFBaUMsS0FDQTNELEVBQUFFLElBQUEsV0FFQUYsRUFBQUUsSUFBQSxXQUVBNkIsV0FBQTZQLEtBQ0E3UCxZQUFBLEdBQUE1QixJQUFBQyxNQUFBQyxPQUNBRyxNQUFBLEdBQUFMLElBQUFDLE1BQUFLLE1BQ0FSLElBQUEsMEJBQUEyUixFQUFBLFVBQ0FsUixhQUFBLGNBQ0FDLFFBQUEsR0FBQSxJQUNBQyxNQUFBLElBRUFjLEtBQUEsR0FBQXZCLElBQUFDLE1BQUF1QixNQUNBRCxLQUFBQSxFQUNBTixPQUFBLEdBQUFqQixJQUFBQyxNQUFBaUIsUUFDQUMsT0FBQSxJQUFBLEdBQUEsSUFBQSxJQUNBQyxNQUFBLElBRUFzUSxRQUFBLFNBSUE5UCxZQUVBd0QsSUFBQSxHQUFBcEYsSUFBQTZFLE1BQUFjLFFBQ0ExRixNQUFBdVIsaUJBQ0FHLGNBQUEsR0FFQXZNLEtBQUFtTSxVQUFBLEVBZUEsSUFBQUssaUJBQUEsR0FBQTVSLElBQUE2RSxNQUFBYyxRQUNBeEQsT0FBQSxHQUFBbkMsSUFBQW1DLE9BQUF3RCxRQUNBSSxPQUFBQyxnQkFFQTJLLEdBQUEsa0JBQ0FSLFNBQUEsRUFDQWxRLE1BQUEwQixvQkFFQWlRLGlCQUFBTCxVQUFBLEVBQ0EsSUFBQXpQLGNBQUEsR0FBQTlCLElBQUFtQyxPQUFBd0QsV0FDQWtNLFVBQUEsR0FBQTdSLElBQUE2RSxNQUFBYyxRQUNBeEQsT0FBQUwsYUFDQTdCLE1BQUEsR0FBQUQsSUFBQUMsTUFBQUMsT0FDQW1CLEtBQUEsR0FBQXJCLElBQUFDLE1BQUFxQixNQUNBSCxNQUFBLDJCQUVBRixPQUFBLEdBQUFqQixJQUFBQyxNQUFBaUIsUUFDQUMsTUFBQSxVQUNBQyxNQUFBLElBRUFmLE1BQUEsR0FBQUwsSUFBQUMsTUFBQWMsUUFDQUMsT0FBQSxFQUNBSyxLQUFBLEdBQUFyQixJQUFBQyxNQUFBcUIsTUFDQUgsTUFBQSxpQkFLQTBRLFdBQUFOLFVBQUEsRUFDQSxJQUFBL08sS0FBQSxHQUFBeEMsSUFBQThSLEtBQ0EzSCxPQUFBLE1BQ0E0SCxRQUFBbkIsT0FBQVUsU0FBQWxNLElBQUF3TSxnQkFBQUMsV0FPQUcseUJBQUEsRUFDQUMsMkJBQUEsRUFDQUMsU0FBQSxTQUNBQyxTQUFBblMsR0FBQW9TLFFBQUFDLFVBQ0FDLG9CQUNBQyxhQUFBLEVBQ0FDLFdBQUEsS0FHQUMsUUFDQSxHQUFBelMsSUFBQW9TLFFBQUFNLFdBQ0FDLE1BQUEsV0FDQSxHQUFBM1MsSUFBQW9TLFFBQUFRLGFBQ0FDLFVBQUEsdUNBQ0FOLGFBQUEsRUFDQUMsV0FBQSxFQUNBVCxRQUFBOUIsUUFFQSxHQUFBalEsSUFBQW9TLFFBQUFVLGNBQ0E1TSxPQUFBQSxXQUdBL0IsS0FBQSxHQUFBbkUsSUFBQStTLE1BQ0FsRCxPQUFBQSxPQUVBMUosV0FBQSxZQUNBNk0sS0FBQSxHQUNBekMsUUFBQSxHQUNBMEMsUUFBQSxNQUdBLFFBQUF6UCxNQUNBeU0sS0FBQWlELElBQUEsT0FBQSxxQkFDQXRDLE9BQUFzQyxJQUFBLE9BQUEsVUFDQTVCLFNBQUE0QixJQUFBLE9BQUEsYUFFQWpELEtBQUFpRCxJQUFBLE9BQUEsbUJBQ0F0QyxPQUFBc0MsSUFBQSxPQUFBLE9BQ0E1QixTQUFBNEIsSUFBQSxPQUFBLGVBRUFDLE9BQUFySSxVQUFBc0ksTUFBQSxTQUFBOU0sR0FDQUEsRUFBQSxZQUFBcUIsU0FBQSxrQkFDQXJCLEVBQUEsZ0JBQUF1QixZQUFBLGFBQ0FDLGlCQUVBeEIsRUFBQXdFLFVBQ0F1SSxVQUFBLFdBQ0F6RCxTQUFBakksU0FBQSxlQUVBMkwsU0FBQSxXQUNBMUQsU0FBQS9ILFlBQUEsZUM5UkFNLE9BQUFvTCxNQUFBcEwsT0FBQW9MLE9BQ0EsSUFBQUEsS0FBQXBMLE9BQUFvTCxHQUNBQSxLQUFBQyxRQUFBLFNBQUFDLEdBQ0EzTyxLQUFBNUYsV0FBQXVVLEVBQUF2VSxXQUNBNEYsS0FBQTRPLFVBQUFDLFNBQUFGLEVBQUFDLFVBQUFELEVBQUFDLFVBQUEsT0FDQTVPLEtBQUE4TyxXQUFBRCxTQUFBRixFQUFBRyxXQUFBSCxFQUFBRyxXQUFBLEVBQ0E5TyxLQUFBK08sU0FBQUYsU0FBQUYsRUFBQUksU0FBQUosRUFBQUksU0FBQSxXQUNBL08sS0FBQWQsUUFBQTJQLFNBQUFGLEVBQUF6UCxRQUFBeVAsRUFBQXpQLFNBQUEsRUFDQWMsS0FBQWIsVUFBQTBQLFNBQUFGLEVBQUF4UCxVQUFBd1AsRUFBQXhQLFdBQUEsRUFDQWEsS0FBQVYsUUFBQXVQLFNBQUFGLEVBQUFyUCxRQUFBcVAsRUFBQXJQLFNBQUEsRUFDQVUsS0FBQVQsUUFBQXNQLFNBQUFGLEVBQUFwUCxRQUFBb1AsRUFBQXBQLFNBQUEsRUFDQVMsS0FBQVgsS0FBQXdQLFNBQUFGLEVBQUF0UCxLQUFBc1AsRUFBQXRQLE1BQUEsR0FFQW9QLElBQUFDLFFBQUFuTCxVQUFBeUwsZ0JBQUEsV0FDQSxHQUFBQyxHQUFBek4sRUFBQSxzQkFBQTBOLFNBQ0EsT0FBQUQsSUFFQVIsSUFBQUMsUUFBQW5MLFVBQUE0TCxZQUFBLFdBQ0EsR0FBQWxELEVBQ0EzTCxLQUFBQyxVQUFBLE1BQ0E2TyxPQUFBVCxTQUNBVSxhQUFBLEVBQ0FDLE9BQUEsRUFDQUMsYUFBQSxFQUNBQyxhQUFBLEVBQ0FDLGNBQUEsbUJBQ0FDLG1CQUFBLEVBQ0FDLFFBQUEsS0FDQUMsYUFBQSxNQUNBQyxhQUFBLE9BQ0FDLFFBQUEsT0FDQUMsZ0JBQUEsT0FDQUMsV0FBQSxRQUNBQyxXQUFBLFNBQ0FDLFdBQUEsU0FDQUMsV0FBQSxXQUdBbEUsRUFEQSxJQUFBalAsYUFBQW9ULGNBQUFwVSxPQUNBZCxHQUFBZ1IsS0FBQUMsZ0JBQUEvSyxPQUFBLFlBQUEsYUFFQWxHLEdBQUFnUixLQUFBQyxnQkFBQW5QLGFBQUFvVCxjQUFBLEdBQUE5VSxjQUFBK1UsWUFBQSxZQUFBLGFBRUFyUSxLQUFBb0IsT0FBQTZLLEVBQ0FqTSxLQUFBaVAsRUFBQWpQLEtBQUFnUCxtQkFHQVAsSUFBQUMsUUFBQW5MLFVBQUErTSxTQUFBLFdBQ0FuUSxRQUFBQyxJQUFBSixLQUFBNUYsWUFDQTRGLEtBQUFpUCxFQUFBc0IsY0FBQSxHQUNBL08sRUFBQUMsTUFDQUgsSUFBQSxzREFBQXRCLEtBQUFvQixPQUFBLEdBQUEsYUFBQXBCLEtBQUFvQixPQUFBLEdBQUEsYUFBQXBCLEtBQUFvQixPQUFBLEdBQUEsYUFBQXBCLEtBQUFvQixPQUFBLEdBQ0E5RCxLQUFBLE1BQ0FvRSxTQUFBLE9BQ0E4TyxNQUNBcFcsV0FBQTRGLEtBQUE1RixXQUNBd1UsVUFBQTVPLEtBQUE0TyxVQUNBelAsVUFBQWEsS0FBQWIsVUFDQUcsUUFBQVUsS0FBQVYsUUFDQUosUUFBQWMsS0FBQWQsUUFDQUssUUFBQVMsS0FBQVQsUUFDQUYsS0FBQVcsS0FBQVgsS0FDQXlQLFdBQUE5TyxLQUFBOE8sV0FDQUMsU0FBQS9PLEtBQUErTyxZQUVBcE4sS0FBQSxTQUFBQyxHQUNBLEdBQUExQixHQUFBZ0IsY0FBQVcsYUFBQUQsR0FDQUcsa0JBQUEsYUFFQTdCLEdBQUFsRSxPQUFBLEdBQ0FvVCxPQUFBblMsUUFDQTZQLGdCQUFBMkQsWUFBQXhULFFBQ0E2UCxnQkFBQTJELFlBQUF4TyxZQUFBL0IsR0FDQTRNLGdCQUFBNEQsWUFBQSxHQUNBbEUsU0FBQWtFLFlBQUEsS0FJQXRCLE9BQUF1QixNQUFBLGtCQUNBN0QsZ0JBQUE0RCxZQUFBLEdBQ0FsRSxTQUFBa0UsWUFBQSxPQU1BbFAsRUFBQSxrQkFBQXNCLE1BQUEsV0FDQSxHQUFBNEwsR0FDQUMsSUFDQUEsR0FBQXZVLFdBQUFvSCxFQUFBLGVBQUFvUCxNQUNBakMsRUFBQUMsVUFBQXBOLEVBQUEsK0JBQUFvUCxNQUNBakMsRUFBQUcsV0FBQXROLEVBQUEsZUFBQW9QLE1BQ0FqQyxFQUFBSSxTQUFBdk4sRUFBQSxhQUFBb1AsTUFDQWpDLEVBQUF6UCxRQUFBc0MsRUFBQSxlQUFBcVAsS0FBQSxXQUNBbEMsRUFBQXhQLFVBQUFxQyxFQUFBLGVBQUFxUCxLQUFBLFdBQ0FsQyxFQUFBclAsUUFBQWtDLEVBQUEsZUFBQXFQLEtBQUEsV0FDQWxDLEVBQUFwUCxRQUFBaUMsRUFBQSxlQUFBcVAsS0FBQSxXQUNBbEMsRUFBQXRQLEtBQUFtQyxFQUFBLGVBQUFxUCxLQUFBLFdBQ0FuQyxFQUFBLEdBQUFELEtBQUFDLFFBQUFDLEdBQ0FELEVBQUFTLGNBRUFULEVBQUE0QixhQUdBOU8sRUFBQSxpQkFBQXNCLE1BQUEsV0FDQSxHQUFBZ08sR0FBQXRQLEVBQUEsc0JBQUFvUCxLQUNBcFAsR0FBQSx1QkFBQXFCLFNBQUEsY0FDQXJCLEVBQUEsdUJBQUF1QixZQUFBLGNBQ0F2QixFQUFBLHlCQUFBdUIsWUFBQSxjQUNBdkIsRUFBQSx5QkFBQXVCLFlBQUEsY0FDQXZCLEVBQUEseUJBQUF1QixZQUFBLGNBQ0F2QixFQUFBLHlCQUFBdUIsWUFBQSxjQUNBdkIsRUFBQSx5QkFBQXVCLFlBQUEsY0FDQXZCLEVBQUEseUJBQUF1QixZQUFBLGNBQ0F2QixFQUFBLCtCQUFBUixLQUFBOFAsR0FDQWhFLGdCQUFBMkQsWUFBQXhULFFBQ0F1UCxTQUFBa0UsWUFBQSxHQUNBcFEsSUFBQUMsVUFBQSxNQUNBdkQsYUFBQUMsUUFDQVMsSUFBQUMsa0JBQUFULE9BRUEsSUFBQUEsS0FzQ0FzRSxHQUFBLGVBQUFzQixNQUFBLFdBQ0E5QyxLQUFBK1EsUUFDQWhVLGtCQUVBVyxJQUFBQyxrQkFBQVQsTUFDQUYsYUFBQUMsV0duS0EsV0FDQSxHQUFBK1QsR0FBQSxHQUFBOVYsSUFBQStWLGFBRUE1UCxXQUFBM0QsSUFBQTRFLFVBQUE0TyxnQkFDQUMsaUJBQ0FDLFdBQUEsSUFDQUMsb0JBQUEsRUFDQUMsUUFBQSxPQUdBQyxFQUFBLEdBQUFyVyxJQUFBc1csT0FDQVIsR0FBQXZULEdBQUEsMEJBQUEsV0FDQThULEVBQUFFLFlBQUFULEVBQUFVLHdCQUVBLElBQUFDLEdBQUEsR0FBQXpXLElBQUFzVyxPQUNBRyxHQUFBM1AsU0FBQSxHQUFBOUcsSUFBQUMsTUFBQUMsT0FDQUcsTUFBQSxHQUFBTCxJQUFBQyxNQUFBYyxRQUNBQyxPQUFBLEVBQ0FLLEtBQUEsR0FBQXJCLElBQUFDLE1BQUFxQixNQUFBSCxNQUFBLFlBQ0FGLE9BQUEsR0FBQWpCLElBQUFDLE1BQUFpQixRQUFBQyxNQUFBLE9BQUFDLE1BQUEsU0FJQTBVLEVBQUF2VCxHQUFBLGtCQUFBLFdBQ0EsR0FBQUcsR0FBQW9ULEVBQUFZLGFBQ0FELEdBQUFGLFlBQUE3VCxFQUNBLEdBQUExQyxJQUFBMkMsS0FBQWdVLE1BQUFqVSxHQUNBLFFBRUFrVSxzQkFBQSxHQUFBNVcsSUFBQW1DLE9BQUF3RCxVQUNBLElBQUEzRixJQUFBNkUsTUFBQWMsUUFBQW5ELElBQUFBLElBQUFMLE9BQUF5VSx1QkFDQXRRLEdBQUEsZ0JBQUEvRCxHQUFBLFNBQUEsU0FBQXdGLEdBQ0FBLEVBQUF4RSxpQkFDQStDLEVBQUF4QixNQUFBNlEsS0FBQSxjQUFBLEdBQ0FHLEVBQUFlLGFBQUEsR0FDQUQsc0JBQUE3UCxhQUFBMFAsRUFBQUosTUFFQVAsRUFBQWUsYUFBQSxHQUNBRCxzQkFBQTdVLGNGb0lBdUUsRUFBQSxTQUFBL0QsR0FBQSxTQUFBLFNBQUF3RixHQUNBQSxFQUFBeEUsaUJBQ0E2QixJQUFBQyxVQUFBLE1BQ0FpQixFQUFBeEIsTUFBQTZRLEtBQUEsY0FBQSxFQUNBblQsSUFBQUQsR0FBQSxRQUFBUyxZQUVBUixJQUFBc1UsR0FBQSxRQUFBOVQsY0doTEEsV0FrQ0EsUUFBQStULEdBQUFDLEdBQ0FBLEVBQUF6VCxnQkFDQSxJQUFBMFQsR0FBQUMsRUFBQTNCLFlBQUFMLGNBQUFwVSxPQUNBNEIsRUFBQXNVLEVBQUEzVCxVQUNBLElBQUEsSUFBQTRULEVBQ0FFLEVBQUFaLFlBQUEsR0FBQXZXLElBQUEyQyxLQUFBZ1UsTUFBQWpVLElBQ0F5VSxFQUFBQyxNQUFBLFNBQ0FGLEVBQUEzQixZQUFBOEIsV0FBQUYsR0FDQUcsRUFBQSxHQUFBNVUsRUFBQSxHQUNBNFUsRUFBQSxHQUFBNVUsRUFBQSxPQUNBLElBQUEsSUFBQXVVLEVBQUEsQ0FDQSxHQUFBTSxHQUFBSixFQUFBSSxPQUNBQSxHQUFBaEIsWUFBQSxHQUFBdlcsSUFBQTJDLEtBQUFnVSxNQUFBalUsSUFDQTZVLEVBQUFILE1BQUEsVUFDQUYsRUFBQTNCLFlBQUE4QixXQUFBRSxHQUNBRCxFQUFBLEdBQUE1VSxFQUFBLEdBQ0E0VSxFQUFBLEdBQUE1VSxFQUFBLEdBQ0E4VSxFQUFBRixPQUVBSixHQUFBM0IsWUFBQXhULFFBSUEsUUFBQXlWLEdBQUFGLEdBQ0EsR0FBQUcsR0FBQXpYLEdBQUFnUixLQUFBMEcsV0FDQUosRUFBQSxHQUFBQSxFQUFBLElBQ0EsWUFBQSxhQUNBSyxFQUFBM1gsR0FBQWdSLEtBQUEwRyxXQUNBSixFQUFBLEdBQUFBLEVBQUEsSUFDQSxZQUFBLGFBQ0FNLEVBQUFILEVBQUEsR0FDQUksRUFBQUosRUFBQSxHQUNBSyxFQUFBSCxFQUFBLEdBQ0FJLEVBQUFKLEVBQUEsRUFDQXJSLEdBQUFDLE1BQ0FILElBQUEsdURBQUF3UixFQUFBLElBQUFDLEVBQUEsSUFBQUMsRUFBQSxJQUFBQyxFQUFBLDJJQUNBM1YsS0FBQSxNQUNBb0UsU0FBQSxTQUNBQyxLQUFBLFNBQUE2TyxHQUNBLEdBQUEwQyxLQUNBQSxHQUFBNVYsS0FBQSxVQUNBNFYsRUFBQTdYLFNBQUFtVixFQUFBMkMsT0FBQSxHQUFBOVgsU0FDQStXLEVBQUEzQixZQUFBeE8sWUFBQWYsY0FBQVcsYUFBQXFSLEdBQ0FFLGVBQUEsWUFDQXJSLGtCQUFBLGVBRUFyRSxJQUFBNEUsVUFBQStRLElBQUFqQixFQUFBM0IsWUFBQUosWUFBQTNTLElBQUE0VixhQUNBcFIsS0FBQSxjQUVBcVIsT0FBQSxjQWxGQSxHQUFBbEIsR0FBQSxHQUFBblgsSUFBQXNXLFFBQ0FnQyxFQUFBLEdBQUF0WSxJQUFBQyxNQUFBQyxPQUNBRyxNQUFBLEdBQUFMLElBQUFDLE1BQUFLLE1BRUFFLFFBQ0EsR0FBQSxHQUVBK1gsYUFBQSxXQUNBQyxhQUFBLFdBQ0FDLFFBQUEsRUFDQWhZLE1BQUEsRUFDQVgsSUFBQSx1Q0FDQTRZLGFBQUEsSUFFQWhYLE9BQUEsS0FFQXlWLEdBQUFyUSxTQUFBd1IsRUFDQSxJQUFBSyxHQUFBLEdBQUEzWSxJQUFBQyxNQUFBQyxPQUNBZSxPQUFBLEdBQUFqQixJQUFBQyxNQUFBaUIsUUFDQUMsTUFBQSxVQUNBQyxNQUFBLEVBQ0F3WCxVQUFBLEVBQUEsT0FHQTFCLEVBQUEsR0FBQWxYLElBQUE2RSxNQUFBYyxRQUNBbkQsSUFBQUEsSUFDQUwsT0FBQSxHQUFBbkMsSUFBQW1DLE9BQUF3RCxPQUNBMUYsTUFBQTBZLEVBQ0FoSSxHQUFBLFFBQ0FrSSxPQUFBLFdBQ0FDLE9BQUEsVUFFQXhCLElBdUJBdFIsZUFBQSxHQUFBaEcsSUFBQStGLE9BQUFnSyxTQUFBQyxzQkFBQSxZQUFBK0ksYUFBQSxhQStCQXpTLEVBQUEsV0FBQS9ELEdBQUEsU0FBQSxTQUFBeVUsR0FDQUEsRUFBQXpULGlCQUVBK0MsRUFBQXhCLE1BQUE2USxLQUFBLGNBQUEsRUFDQW5ULElBQUFELEdBQUEsY0FBQXdVLElBRUF2VSxJQUFBc1UsR0FBQSxjQUFBQyxHQUNBRyxFQUFBM0IsWUFBQXhULGNDOUZBLFdBQ0F1RSxFQUFBLFlBQUEwUyxPQUFBLFdBQ0EsR0FBQTFTLEVBQUF4QixNQUFBNlEsS0FBQSxjQUFBLEVBQUEsQ0FDQW5ULElBQUF5VyxjQUFBQyxRQUFBLFNBQUFDLEdBQ0EsWUFBQUEsRUFBQXBaLElBQUEsVUFDQXVHLEVBQUE2UyxFQUFBQyxjQUFBQyxTQUFBcFAsU0FDQTNELEVBQUE2UyxFQUFBQyxjQUFBblAsV0FHQSxJQUFBNEYsR0FBQTdQLEdBQUFnUixLQUFBMEcsVUFBQWxWLElBQUE0RSxVQUFBa1MsWUFBQSxZQUFBLGFBQ0FDLEVBQUExSixFQUFBLEdBQ0EySixFQUFBM0osRUFBQSxFQUNBdkosR0FBQUMsTUFDQUgsSUFBQSxtREFBQW1ULEVBQUEsUUFBQUMsRUFBQSxzRkFDQXBYLEtBQUEsTUFDQW9FLFNBQUEsU0FDQUMsS0FBQSxTQUFBNk8sR0FDQSxRQUFBbUUsR0FBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBOU8sU0FBQXlELGNBQUEsTUFJQSxPQUhBcUwsR0FBQTFLLGFBQUEsUUFBQSxrQ0FDQTBLLEVBQUExSyxhQUFBLEtBQUF5SyxHQUNBQyxFQUFBMUssYUFBQSxZQUFBLFdBQ0EsR0FBQWxQLElBQUE2WixTQUFBQyxRQUFBRixFQUFBRixTQUFBQSxJQUVBLEdBQ0FLLEdBQ0FyWCxFQUZBc1gsRUFBQTFFLEVBQUEyRSxJQUdBM1QsR0FBQTRULEtBQUFGLEVBQUEsU0FBQUwsRUFBQWpFLEdBQ0FoVCxFQUFBMUMsR0FBQWdSLEtBQUEwRyxXQUNBaEMsRUFBQXlFLE1BQUFYLElBQUE5RCxFQUFBeUUsTUFBQVosS0FDQSxZQUFBLGFBQ0FRLEVBQUFOLEVBQUEvVyxFQUFBaVgsR0FDQW5YLElBQUE0WCxXQUFBTCxHQUNBQSxFQUFBN0csSUFBQSxPQUFBLFdBQ0FtSCxhQUNBOVYsS0FBQW1SLEVBQUFuUixLQUNBK1YsS0FBQTVFLEVBQUE2RSxLQUFBRCxLQUNBRSxTQUFBOUUsRUFBQTZFLEtBQUFDLFNBQ0FDLFNBQUEvRSxFQUFBNkUsS0FBQUUsVUFFQWxULEtBQUFDLE9BQUEsZUFBQTZTLFlBQUEsU0FBQTVTLEVBQUFDLEdBQ0FwQixFQUFBLElBQUFxVCxHQUFBN1QsS0FBQTRCLFNBR0FWLEtBQUEsa0JBR0FWLEdBQUF4QixNQUFBNlEsS0FBQSxjQUFBLEdBQ0FuVCxJQUFBeVcsY0FBQUMsUUFBQSxTQUFBQyxHQUNBLFlBQUFBLEVBQUFwWixJQUFBLFVBQ0F1RyxFQUFBNlMsRUFBQUMsY0FBQUMsU0FBQXBQLFNBQ0EzRCxFQUFBNlMsRUFBQUMsY0FBQW5QIiwiZmlsZSI6Im1hcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgJGxvYWRpbmcgPSAkKCcubWRsLXNwaW5uZXInKTtcclxudmFyIGNlbnRlciA9IFszNjc3Mzg1LCA0MTIwOTQ5XSxcclxuICAgIGV4dGVudCA9IFszNTkwMDk0LCA0MTAyODMzLCAzODU1NDgzLCA0MjYxMjExXSxcclxuICAgIGxhbmcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZyxcclxuICAgIHN0eWxlQ2FjaGUgPSB7fSxcclxuICAgIGdlb0pTT05Gb3JtYXQgPSBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oe1xyXG4gICAgICBkZWZhdWx0RGF0YVByb2plY3Rpb246ICdFUFNHOjQzMjYnXHJcbiAgICB9KTtcclxudmFyIGJpbmcgPSBuZXcgb2wubGF5ZXIuVGlsZSh7XHJcbiAgdmlzaWJsZTogdHJ1ZSxcclxuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuQmluZ01hcHMoe1xyXG4gICAga2V5OiAnQWsyR3E4VlVmSUNzUHB1ZjdMUkFOWG1YdDJzSFdtU0xQaG9obVZMRnRGSUV3WWpzXzVNQ3lBaEFGd1JTVnBMaicsXHJcbiAgICBpbWFnZXJ5U2V0OiAnQWVyaWFsJ1xyXG4gIH0pLFxyXG4gIG1heFpvb206IDE5LFxyXG4gIGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJyxcclxuICBwcmVsb2FkOiBJbmZpbml0eSxcclxuICBpZDogJ2JpbmcnXHJcbn0pO1xyXG52YXIgbWFwYm94ID0gbmV3IG9sLmxheWVyLlRpbGUoe1xyXG4gIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5YWVooe1xyXG4gICAgYXR0cmlidXRpb25zOiBbbmV3IG9sLkF0dHJpYnV0aW9uKHtcclxuICAgICAgaHRtbDogJzxhIGhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL2Fib3V0L21hcHMvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JmNvcHk7IE1hcGJveCAmY29weTsgT3BlblN0cmVldE1hcDwvYT4nXHJcbiAgICB9KV0sXHJcbiAgICB1cmw6ICdodHRwczovL2FwaS5tYXBib3guY29tL3Y0L21hcGJveC5zdHJlZXRzL3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2labWx5ZG1GcGJpSXNJbUVpT2lKbE9XWXlZVE0wTlRoaU5XTTBZakpqT0RKak5ERTRPRFF6TnpBMk1HUXlOaUo5Li1OVkRPMjdIenQtd19uUW9zVVBmTEEnXHJcbiAgfSksXHJcbiAgaWQ6ICdtYXBib3gnXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gZ2V0SWNvblR5cGUoZXN0YXRlVHlwZSkge1xyXG4gIHZhciBpY29uVHlwZSA9IHtcclxuICAgICdBcGFydG1lbnQnOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICdhcGFydG1lbnQnXHJcbiAgICB9LFxyXG4gICAgJ1N0b3JlJzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiAnc3RvcmUnXHJcbiAgICB9LFxyXG4gICAgJ0RldGFjaGVkIEhvdXNlJzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiAnZGV0YWNoZWQnXHJcbiAgICB9XHJcbiAgfTtcclxuICByZXR1cm4gKGljb25UeXBlW2VzdGF0ZVR5cGVdKSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRJY29uUGF0aChsaXN0aW5nVHlwZSkge1xyXG4gIHZhciBpY29uUGF0aCA9IHtcclxuICAgIHRydWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gJy4vaW1hZ2VzL3BpbnMvc2FsZS8nXHJcbiAgICB9LFxyXG4gICAgZmFsc2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gJy4vaW1hZ2VzL3BpbnMvcmVudC8nXHJcbiAgICB9XHJcbiAgfTtcclxuICByZXR1cm4gKGljb25QYXRoW2xpc3RpbmdUeXBlXSkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlTdHlsZShmZWF0dXJlKSB7XHJcbiAgdmFyIHNyYztcclxuICBzcmMgPSBnZXRJY29uUGF0aChmZWF0dXJlLmdldCgnc2FsZScpKSArIGdldEljb25UeXBlKGZlYXR1cmUuZ2V0KCdlc3RhdGV0eXBlX2VuJykpICsgJy00OC5wbmcnO1xyXG4gIHJldHVybiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgZ2VvbWV0cnk6IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKSxcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xyXG4gICAgICBzcmM6IHNyYyxcclxuICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICBhbmNob3I6IFswLjUsIDBdLFxyXG4gICAgICBzY2FsZTogMVxyXG4gICAgfSkpXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb3BlcnR5U3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgdmFyIHNpemUgPSBmZWF0dXJlLmdldCgnZmVhdHVyZXMnKVxyXG4gICAgLmxlbmd0aDtcclxuICB2YXIgc3R5bGUsIG9yaWdpbmFsRmVhdHVyZTtcclxuICBpZiAoc2l6ZSA+IDEpIHtcclxuICAgIHN0eWxlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcclxuICAgICAgICByYWRpdXM6IDIwLFxyXG4gICAgICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMV0sXHJcbiAgICAgICAgICB3aWR0aDogNVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICAgIGNvbG9yOiBbNjgsIDEzOCwgMjU1LCAwLjhdXHJcbiAgICAgICAgfSlcclxuICAgICAgfSksXHJcbiAgICAgIHRleHQ6IG5ldyBvbC5zdHlsZS5UZXh0KHtcclxuICAgICAgICB0ZXh0OiBzaXplLnRvU3RyaW5nKCksXHJcbiAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgY29sb3I6ICcjRkZGRkZGJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pLFxyXG4gICAgICB6SW5kZXg6IDEwMVxyXG4gICAgfSldO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvcmlnaW5hbEZlYXR1cmUgPSBmZWF0dXJlLmdldCgnZmVhdHVyZXMnKVswXTtcclxuICAgIHN0eWxlID0gW2NyZWF0ZVByb3BlcnR5U3R5bGUob3JpZ2luYWxGZWF0dXJlKV07XHJcbiAgfVxyXG4gIHJldHVybiBzdHlsZTtcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gc2VsZWN0U3R5bGVGdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbi8vICAgdmFyIHN0eWxlcyA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe30pXTtcclxuLy8gICB2YXIgb3JpZ2luYWxGZWF0dXJlcyA9IGZlYXR1cmUuZ2V0KCdmZWF0dXJlcycpO1xyXG4vLyAgIHZhciBvcmlnaW5hRmVhdHVyZTtcclxuLy8gICBmb3IgKHZhciBpID0gb3JpZ2luYWxGZWF0dXJlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG4vLyAgICAgb3JpZ2luYWxGZWF0dXJlID0gb3JpZ2luYWxGZWF0dXJlc1tpXTtcclxuLy8gICAgIHN0eWxlcy5wdXNoKGNyZWF0ZVByb3BlcnR5U3R5bGUob3JpZ2luYWxGZWF0dXJlKSk7XHJcbi8vICAgfVxyXG4vLyAgIHJldHVybiBzdHlsZXM7XHJcbi8vIH1cclxudmFyIHByb3BlcnR5U291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe1xyXG4gIGZvcm1hdDogZ2VvSlNPTkZvcm1hdCxcclxuICBsb2FkZXI6IGZ1bmN0aW9uKGV4dGVudCwgcmVzb2x1dGlvbiwgcHJvamVjdGlvbikge1xyXG4gICAgY29uc29sZS5sb2cocmVzb2x1dGlvbik7XHJcbiAgICB2YXIgZXBzZzQzMjZFeHRlbnQgPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChleHRlbnQsICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgICB2YXIgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kYi9wcm9wZXJ0eT9iYm94W3gxXT0nICsgZXBzZzQzMjZFeHRlbnRbMF0gKyAnJmJib3hbeTFdPScgKyBlcHNnNDMyNkV4dGVudFsxXSArICcmYmJveFt4Ml09JyArIGVwc2c0MzI2RXh0ZW50WzJdICsgJyZiYm94W3kyXT0nICsgZXBzZzQzMjZFeHRlbnRbM107XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICBjb25zb2xlLmxvZyhleHRlbnQpO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgdXJsOiB1cmwsXHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICB9KVxyXG4gICAgICAuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIHZhciBmZWF0dXJlcyA9IGdlb0pTT05Gb3JtYXQucmVhZEZlYXR1cmVzKHJlc3BvbnNlLCB7XHJcbiAgICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogJ0VQU0c6Mzg1NydcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxmLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgfSlcclxuICAgICAgLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbiAgc3RyYXRlZ3k6IG9sLmxvYWRpbmdzdHJhdGVneS5iYm94XHJcbn0pO1xyXG52YXIgcHJvcGVydHlDbHVzdGVyU291cmNlID0gbmV3IG9sLnNvdXJjZS5DbHVzdGVyKHtcclxuICBkaXN0YW5jZTogNDAsXHJcbiAgc291cmNlOiBwcm9wZXJ0eVNvdXJjZSxcclxuICBhdHRyaWJ1dGlvbnM6IFtuZXcgb2wuQXR0cmlidXRpb24oe1xyXG4gICAgaHRtbDogJ0FsbCBtYXBzIMKpICcgKyAnPGEgaHJlZj1cImh0dHA6Ly93d3cudGVycmFjb2duaXRhLmdyL1wiPlRlcnJhIENvZ25pdGE8L2E+J1xyXG4gIH0pXVxyXG59KTtcclxudmFyIHByb3BlcnR5ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc291cmNlOiBwcm9wZXJ0eUNsdXN0ZXJTb3VyY2UsXHJcbiAgaWQ6ICdlc3RhdGVzJyxcclxuICB2aXNpYmxlOiB0cnVlLFxyXG4gIHN0eWxlOiBwcm9wZXJ0eVN0eWxlRnVuY3Rpb25cclxufSk7XHJcbnByb3BlcnR5LnNldFpJbmRleCgyKTtcclxudmFyIFBTQVN0eWxlRnVuY3Rpb24gPSBmdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgdmFyIHN5bWJvbCA9IGZlYXR1cmUuZ2V0KCdzdHlsZScpO1xyXG4gIHZhciB0ZXh0O1xyXG4gIGlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgICB0ZXh0ID0gZmVhdHVyZS5nZXQoJ25hbWVfZWwnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGV4dCA9IGZlYXR1cmUuZ2V0KCduYW1lX2VuJyk7XHJcbiAgfVxyXG4gIGlmICghc3R5bGVDYWNoZVtzeW1ib2xdKSB7XHJcbiAgICBzdHlsZUNhY2hlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigoe1xyXG4gICAgICAgIHNyYzogJy4uL2ltYWdlcy9tYWtpL3JlbmRlcnMvJyArIHN5bWJvbCArICctMjQucG5nJyxcclxuICAgICAgICBhbmNob3JPcmlnaW46ICdib3R0b20tbGVmdCcsXHJcbiAgICAgICAgYW5jaG9yOiBbMC41LCAwLjVdLFxyXG4gICAgICAgIHNjYWxlOiAxXHJcbiAgICAgIH0pKSxcclxuICAgICAgdGV4dDogbmV3IG9sLnN0eWxlLlRleHQoe1xyXG4gICAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgICAgIGNvbG9yOiBbMTU2LCAzOSwgMTc2LCAwLjhdLFxyXG4gICAgICAgICAgd2lkdGg6IDFcclxuICAgICAgICB9KSxcclxuICAgICAgICBvZmZzZXRZOiAxMlxyXG4gICAgICB9KVxyXG4gICAgfSldO1xyXG4gIH1cclxuICByZXR1cm4gc3R5bGVDYWNoZTtcclxufTtcclxudmFyIFBTQSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gIHN0eWxlOiBQU0FTdHlsZUZ1bmN0aW9uLFxyXG4gIG1heFJlc29sdXRpb246IDNcclxufSk7XHJcblBTQS5zZXRaSW5kZXgoMSk7XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJlZEVzYXRlU3R5bGUoZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gIHZhciBzcmM7XHJcbiAgc3JjID0gZ2V0SWNvblBhdGgoZmVhdHVyZS5nZXQoJ3NhbGUnKSkgKyBnZXRJY29uVHlwZShmZWF0dXJlLmdldCgnZXN0YXRldHlwZV9lbicpKSArICctNjQucG5nJztcclxuICBzdHlsZUNhY2hlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgc3JjOiBzcmMsXHJcbiAgICAgIGFuY2hvck9yaWdpbjogJ2JvdHRvbS1sZWZ0JyxcclxuICAgICAgYW5jaG9yOiBbMC41LCAwXSxcclxuICAgICAgc2NhbGU6IDFcclxuICAgIH0pKVxyXG4gIH0pXTtcclxuICByZXR1cm4gc3R5bGVDYWNoZTtcclxufVxyXG52YXIgZmlsdGVyZWRFc3RhdGVzID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc291cmNlOiBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgICBmb3JtYXQ6IGdlb0pTT05Gb3JtYXRcclxuICB9KSxcclxuICBpZDogJ2ZpbHRlcmVkRXN0YXRlcycsXHJcbiAgdmlzaWJsZTogdHJ1ZSxcclxuICBzdHlsZTogZmlsdGVyZWRFc2F0ZVN0eWxlXHJcbn0pO1xyXG5maWx0ZXJlZEVzdGF0ZXMuc2V0WkluZGV4KDIpO1xyXG52YXIgc2VsZWN0U291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe30pO1xyXG52YXIgc2VsZWN0Qm94ID0gbmV3IG9sLmxheWVyLlZlY3Rvcih7XHJcbiAgc291cmNlOiBzZWxlY3RTb3VyY2UsXHJcbiAgc3R5bGU6IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgIGNvbG9yOiAncmdiYSgyMjcsIDcyLCAyNywgMC4yKSdcclxuICAgIH0pLFxyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6ICcjRTM0ODFCJyxcclxuICAgICAgd2lkdGg6IDJcclxuICAgIH0pLFxyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICByYWRpdXM6IDcsXHJcbiAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICBjb2xvcjogJyNFMzQ4MUInXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcbn0pO1xyXG5zZWxlY3RCb3guc2V0WkluZGV4KDMpO1xyXG52YXIgbWFwID0gbmV3IG9sLk1hcCh7XHJcbiAgdGFyZ2V0OiAnbWFwJyxcclxuICBsYXllcnM6IFttYXBib3gsIHByb3BlcnR5LCBQU0EsIGZpbHRlcmVkRXN0YXRlcywgc2VsZWN0Qm94XSxcclxuICAvLyBpbnRlcmFjdGlvbnM6IG9sLmludGVyYWN0aW9uLmRlZmF1bHRzKCkuZXh0ZW5kKFtuZXcgb2wuaW50ZXJhY3Rpb24uU2VsZWN0KHtcclxuICAvLyAgIGNvbmRpdGlvbjogZnVuY3Rpb24oZXZ0KSB7XHJcbiAgLy8gICAgIHJldHVybiBldnQudHlwZSA9PT0gJ3NpbmdsZWNsaWNrJyAmJiBvbC5ldmVudHMuY29uZGl0aW9uLnNoaWZ0S2V5T25seShldnQpO1xyXG4gIC8vICAgfSxcclxuICAvLyAgIHN0eWxlOiBzZWxlY3RTdHlsZUZ1bmN0aW9uXHJcbiAgLy8gfSldKSxcclxuICBsb2FkVGlsZXNXaGlsZUFuaW1hdGluZzogdHJ1ZSxcclxuICBsb2FkVGlsZXNXaGlsZUludGVyYWN0aW5nOiB0cnVlLFxyXG4gIHJlbmRlcmVyOiAnY2FudmFzJyxcclxuICBjb250cm9sczogb2wuY29udHJvbC5kZWZhdWx0cyh7XHJcbiAgICBhdHRyaWJ1dGlvbk9wdGlvbnM6IHtcclxuICAgICAgY29sbGFwc2libGU6IGZhbHNlLFxyXG4gICAgICBjb2xsYXBzZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfSlcclxuICAgIC5leHRlbmQoW1xyXG4gICAgICBuZXcgb2wuY29udHJvbC5TY2FsZUxpbmUoe1xyXG4gICAgICAgIHVuaXRzOiAnbWV0cmljJ1xyXG4gICAgICB9KSwgbmV3IG9sLmNvbnRyb2wuT3ZlcnZpZXdNYXAoe1xyXG4gICAgICAgIGNsYXNzTmFtZTogJ29sLW92ZXJ2aWV3bWFwIG9sLWN1c3RvbS1vdmVydmlld21hcCcsXHJcbiAgICAgICAgY29sbGFwc2libGU6IHRydWUsXHJcbiAgICAgICAgY29sbGFwc2VkOiB0cnVlLFxyXG4gICAgICAgIGxheWVyczogW2JpbmddXHJcbiAgICAgIH0pLFxyXG4gICAgICBuZXcgb2wuY29udHJvbC5ab29tVG9FeHRlbnQoe1xyXG4gICAgICAgIGV4dGVudDogZXh0ZW50XHJcbiAgICAgIH0pXHJcbiAgICBdKSxcclxuICB2aWV3OiBuZXcgb2wuVmlldyh7XHJcbiAgICBjZW50ZXI6IGNlbnRlcixcclxuICAgIC8vIGV4dGVudDogZXh0ZW50LFxyXG4gICAgcHJvamVjdGlvbjogJ0VQU0c6Mzg1NycsXHJcbiAgICB6b29tOiAxNCxcclxuICAgIG1heFpvb206IDE5LFxyXG4gICAgbWluWm9vbTogMTBcclxuICB9KVxyXG59KTtcclxuaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICBiaW5nLnNldCgnbmFtZScsICfOlM6/z4HPhc+Gzr/Pgc65zrrOriDOtc65zrrPjM69zrEnKTtcclxuICBtYXBib3guc2V0KCduYW1lJywgJ86nzqzPgc+EzrfPgicpO1xyXG4gIHByb3BlcnR5LnNldCgnbmFtZScsICfOkc66zq/Ovc63z4TOsScpO1xyXG59IGVsc2Uge1xyXG4gIGJpbmcuc2V0KCduYW1lJywgJ1NhdHRlbGl0ZSBJbWFnZScpO1xyXG4gIG1hcGJveC5zZXQoJ25hbWUnLCAnTWFwJyk7XHJcbiAgcHJvcGVydHkuc2V0KCduYW1lJywgJ1Byb3BlcnRpZXMnKTtcclxufVxyXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHtcclxuICAkKCcuc3Bpbm5lcicpLmFkZENsYXNzKCd2aXN1YWxseWhpZGRlbicpO1xyXG4gICQoJy5tZGwtc3Bpbm5lcicpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuICBoYW5kbGVTZWxlY3QoKTtcclxufSk7XHJcbiQoZG9jdW1lbnQpXHJcbiAgLmFqYXhTdGFydChmdW5jdGlvbigpIHtcclxuICAgICRsb2FkaW5nLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcclxuICB9KVxyXG4gIC5hamF4U3RvcChmdW5jdGlvbigpIHtcclxuICAgICRsb2FkaW5nLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuICB9KTtcclxuIiwid2luZG93LmFwcCB8fCAod2luZG93LmFwcCA9IHt9KTtcclxudmFyIGFwcCA9IHdpbmRvdy5hcHA7XHJcbmFwcC5maWx0ZXJzID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gIHRoaXMuZXN0YXRlVHlwZSA9IG9wdGlvbnMuZXN0YXRlVHlwZTtcclxuICB0aGlzLmxlYXNlVHlwZSA9IG9wdGlvbnMubGVhc2VUeXBlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmxlYXNlVHlwZSA6ICdSZW50JztcclxuICB0aGlzLnN0YXJ0UHJpY2UgPSBvcHRpb25zLnN0YXJ0UHJpY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3RhcnRQcmljZSA6IDA7XHJcbiAgdGhpcy5lbmRQcmljZSA9IG9wdGlvbnMuZW5kUHJpY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZW5kUHJpY2UgOiAyMTQ3NDgzNjQ3O1xyXG4gIHRoaXMucGFya2luZyA9IG9wdGlvbnMucGFya2luZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5wYXJraW5nIDogZmFsc2U7XHJcbiAgdGhpcy5mdXJuaXNoZWQgPSBvcHRpb25zLmZ1cm5pc2hlZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5mdXJuaXNoZWQgOiBmYWxzZTtcclxuICB0aGlzLmhlYXRpbmcgPSBvcHRpb25zLmhlYXRpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaGVhdGluZyA6IGZhbHNlO1xyXG4gIHRoaXMuY29vbGluZyA9IG9wdGlvbnMuY29vbGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb29saW5nIDogZmFsc2U7XHJcbiAgdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnZpZXcgOiBmYWxzZTtcclxufTtcclxuYXBwLmZpbHRlcnMucHJvdG90eXBlLmNyZWF0ZVZhbGlkYXRvciA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBwID0gJCgnZm9ybVtuYW1lPWZpbHRlcnNdJykucGFyc2xleSgpO1xyXG4gIHJldHVybiBwO1xyXG59XHJcbmFwcC5maWx0ZXJzLnByb3RvdHlwZS5zZXREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBlcHNnNDMyNkV4dGVudDtcclxuICBQU0Euc2V0U291cmNlKG51bGwpO1xyXG4gIHRvYXN0ci5vcHRpb25zID0ge1xyXG4gICAgJ2Nsb3NlQnV0dG9uJzogZmFsc2UsXHJcbiAgICAnZGVidWcnOiBmYWxzZSxcclxuICAgICduZXdlc3RPblRvcCc6IGZhbHNlLFxyXG4gICAgJ3Byb2dyZXNzQmFyJzogZmFsc2UsXHJcbiAgICAncG9zaXRpb25DbGFzcyc6ICd0b2FzdC10b3AtY2VudGVyJyxcclxuICAgICdwcmV2ZW50RHVwbGljYXRlcyc6IGZhbHNlLFxyXG4gICAgJ29uY2xpY2snOiBudWxsLFxyXG4gICAgJ3Nob3dEdXJhdGlvbic6ICczMDAnLFxyXG4gICAgJ2hpZGVEdXJhdGlvbic6ICcxMDAwJyxcclxuICAgICd0aW1lT3V0JzogJzUwMDAnLFxyXG4gICAgJ2V4dGVuZGVkVGltZU91dCc6ICcxMDAwJyxcclxuICAgICdzaG93RWFzaW5nJzogJ3N3aW5nJyxcclxuICAgICdoaWRlRWFzaW5nJzogJ2xpbmVhcicsXHJcbiAgICAnc2hvd01ldGhvZCc6ICdmYWRlSW4nLFxyXG4gICAgJ2hpZGVNZXRob2QnOiAnZmFkZU91dCdcclxuICB9O1xyXG4gIGlmIChzZWxlY3RTb3VyY2UuZ2V0RmVhdHVyZXMoKS5sZW5ndGggPT09IDApIHtcclxuICAgIGVwc2c0MzI2RXh0ZW50ID0gb2wucHJvai50cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlcHNnNDMyNkV4dGVudCA9IG9sLnByb2oudHJhbnNmb3JtRXh0ZW50KHNlbGVjdFNvdXJjZS5nZXRGZWF0dXJlcygpWzBdLmdldEdlb21ldHJ5KCkuZ2V0RXh0ZW50KCksICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgfVxyXG4gIHRoaXMuZXh0ZW50ID0gZXBzZzQzMjZFeHRlbnQ7XHJcbiAgdGhpcy5wID0gdGhpcy5jcmVhdGVWYWxpZGF0b3IoKTtcclxufTtcclxuXHJcbmFwcC5maWx0ZXJzLnByb3RvdHlwZS5hamF4Q2FsbCA9IGZ1bmN0aW9uKCkge1xyXG4gIGNvbnNvbGUubG9nKHRoaXMuZXN0YXRlVHlwZSk7XHJcbiAgaWYgKHRoaXMucC52YWxpZGF0ZSgpID09PSB0cnVlKSB7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvZmlsdGVyZWRwcm9wZXJ0eT9iYm94W3gxXT0nICsgdGhpcy5leHRlbnRbMF0gKyAnJmJib3hbeTFdPScgKyB0aGlzLmV4dGVudFsxXSArICcmYmJveFt4Ml09JyArIHRoaXMuZXh0ZW50WzJdICsgJyZiYm94W3kyXT0nICsgdGhpcy5leHRlbnRbM10sXHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgZXN0YXRlVHlwZTogdGhpcy5lc3RhdGVUeXBlLFxyXG4gICAgICAgIGxlYXNlVHlwZTogdGhpcy5sZWFzZVR5cGUsXHJcbiAgICAgICAgZnVybmlzaGVkOiB0aGlzLmZ1cm5pc2hlZCxcclxuICAgICAgICBoZWF0aW5nOiB0aGlzLmhlYXRpbmcsXHJcbiAgICAgICAgcGFya2luZzogdGhpcy5wYXJraW5nLFxyXG4gICAgICAgIGNvb2xpbmc6IHRoaXMuY29vbGluZyxcclxuICAgICAgICB2aWV3OiB0aGlzLnZpZXcsXHJcbiAgICAgICAgc3RhcnRQcmljZTogdGhpcy5zdGFydFByaWNlLFxyXG4gICAgICAgIGVuZFByaWNlOiB0aGlzLmVuZFByaWNlXHJcbiAgICAgIH1cclxuICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgdmFyIGZlYXR1cmVzID0gZ2VvSlNPTkZvcm1hdC5yZWFkRmVhdHVyZXMocmVzcG9uc2UsIHtcclxuICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogJ0VQU0c6Mzg1NydcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgICAgICAgZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgICAgICAgZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgICBmaWx0ZXJlZEVzdGF0ZXMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICBwcm9wZXJ0eS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAvLyB2YXIgZXh0ZW50ID0gZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmdldEV4dGVudCgpO1xyXG4gICAgICAgIC8vIHZhciBjZW50ZXIgPSBbXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdHIuZXJyb3IoJ05vIEluZm8gRm91bmQhJyk7XHJcbiAgICAgICAgZmlsdGVyZWRFc3RhdGVzLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHByb3BlcnR5LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn07XHJcbiQoJyNpbnZva2VGaWx0ZXJzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgdmFyIGZpbHRlcnMgO1xyXG4gIHZhciBvcHRpb25zID0ge307XHJcbiAgb3B0aW9ucy5lc3RhdGVUeXBlID0gJCgnI2VzdGF0ZVR5cGUnKS52YWwoKTtcclxuICBvcHRpb25zLmxlYXNlVHlwZSA9ICQoJ2lucHV0W25hbWU9b3B0aW9uc106Y2hlY2tlZCcpLnZhbCgpO1xyXG4gIG9wdGlvbnMuc3RhcnRQcmljZSA9ICQoJyNzdGFydFByaWNlJykudmFsKCk7XHJcbiAgb3B0aW9ucy5lbmRQcmljZSA9ICQoJyNlbmRQcmljZScpLnZhbCgpO1xyXG4gIG9wdGlvbnMucGFya2luZyA9ICQoJyNjaGVja2JveC0xJykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIG9wdGlvbnMuZnVybmlzaGVkID0gJCgnI2NoZWNrYm94LTInKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgb3B0aW9ucy5oZWF0aW5nID0gJCgnI2NoZWNrYm94LTMnKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgb3B0aW9ucy5jb29saW5nID0gJCgnI2NoZWNrYm94LTQnKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgb3B0aW9ucy52aWV3ID0gJCgnI2NoZWNrYm94LTUnKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgZmlsdGVycyA9IG5ldyBhcHAuZmlsdGVycyhvcHRpb25zKTtcclxuICBmaWx0ZXJzLnNldERlZmF1bHRzKCk7XHJcblxyXG4gIGZpbHRlcnMuYWpheENhbGwoKTtcclxuXHJcbn0pO1xyXG4kKCcjY2xlYXJGaWx0ZXJzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgdmFyIG9yaWduYWxWYWx1ZSA9ICQoJyNlc3RhdGVUeXBlIG9wdGlvbicpLnZhbCgpO1xyXG4gICQoJ2xhYmVsW2Zvcj1vcHRpb24tMV0nKS5hZGRDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJ2xhYmVsW2Zvcj1vcHRpb24tMl0nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJ2xhYmVsW2Zvcj1jaGVja2JveC0xXScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgJCgnbGFiZWxbZm9yPWNoZWNrYm94LTJdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9Y2hlY2tib3gtM10nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJ2xhYmVsW2Zvcj1jaGVja2JveC00XScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgJCgnbGFiZWxbZm9yPWNoZWNrYm94LTVdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9Y2hlY2tib3gtNl0nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJy5tZGwtc2VsZWN0ZmllbGRfX2JveC12YWx1ZScpLmh0bWwob3JpZ25hbFZhbHVlKTtcclxuICBmaWx0ZXJlZEVzdGF0ZXMuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuICBwcm9wZXJ0eS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gIFBTQS5zZXRTb3VyY2UobnVsbCk7XHJcbiAgc2VsZWN0U291cmNlLmNsZWFyKCk7XHJcbiAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG59KTtcclxudmFyIGRyYXc7XHJcbmZ1bmN0aW9uIGFkZEludGVyYWN0aW9uKCkge1xyXG4gIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gIGRyYXcgPSBuZXcgb2wuaW50ZXJhY3Rpb24uRHJhdyh7XHJcbiAgICBzb3VyY2U6IHNlbGVjdFNvdXJjZSxcclxuICAgIHR5cGU6ICdMaW5lU3RyaW5nJyxcclxuICAgIGdlb21ldHJ5RnVuY3Rpb246IGdlb21ldHJ5RnVuY3Rpb24sXHJcbiAgICBtYXhQb2ludHM6IDJcclxuICB9KTtcclxuICBkcmF3Lm9uKCdkcmF3c3RhcnQnLCBmdW5jdGlvbigpIHtcclxuICAgIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gIH0pO1xyXG4gIGRyYXcub24oJ2RyYXdlbmQnLCBmdW5jdGlvbigpIHtcclxuICAgIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihkcmF3KTtcclxuICB9KTtcclxuICBtYXAuYWRkSW50ZXJhY3Rpb24oZHJhdyk7XHJcbn1cclxuZnVuY3Rpb24gZ2VvbWV0cnlGdW5jdGlvbihjb29yZGluYXRlcywgZ2VvbWV0cnkpIHtcclxuICBpZiAoIWdlb21ldHJ5KSB7XHJcbiAgICBnZW9tZXRyeSA9IG5ldyBvbC5nZW9tLlBvbHlnb24obnVsbCk7XHJcbiAgfVxyXG4gIHZhciBzdGFydCA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gIHZhciBlbmQgPSBjb29yZGluYXRlc1sxXTtcclxuICBnZW9tZXRyeS5zZXRDb29yZGluYXRlcyhbXHJcbiAgICBbXHJcbiAgICAgIHN0YXJ0LFxyXG4gICAgICBbXHJcbiAgICAgICAgc3RhcnRbMF0sIGVuZFsxXVxyXG4gICAgICBdLFxyXG4gICAgICBlbmQsXHJcbiAgICAgIFtcclxuICAgICAgICBlbmRbMF0sIHN0YXJ0WzFdXHJcbiAgICAgIF0sXHJcbiAgICAgIHN0YXJ0XHJcbiAgICBdXHJcbiAgXSk7XHJcbiAgcmV0dXJuIGdlb21ldHJ5O1xyXG59XHJcbiQoJyNjaGVja2JveC02JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgaWYgKHRoaXMuY2hlY2tlZCkge1xyXG4gICAgYWRkSW50ZXJhY3Rpb24oKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG4gICAgc2VsZWN0U291cmNlLmNsZWFyKCk7XHJcbiAgfVxyXG59KTtcclxuIiwiZnVuY3Rpb24gaGFuZGxlSW5mbyhldnQpIHtcclxuICB2YXIgY29vcmRpbmF0ZSA9IGV2dC5jb29yZGluYXRlO1xyXG4gIHZhciBvYmogPSB7fTtcclxuICB2YXIgdGl0bGUgPSB7fTtcclxuICB2YXIgb3duZXIgPSB7fTtcclxuICB2YXIgZmVhdHVyZXMgPSBbXTtcclxuICB2YXIgY2xpY2tlZEZlYXR1cmU7XHJcbiAgdmFyIGY7XHJcbiAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIG9iai50aXRsZSA9IHRpdGxlO1xyXG4gIGlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgICB0aXRsZS5naWQgPSAnzprPic60zrnOus+Mz4IgzpnOtM65zr/Ous+EzrfPg86vzrHPgic7XHJcbiAgICB0aXRsZS50eXBlID0gJ86Vzq/OtM6/z4IgzpnOtM65zr/Ous+EzrfPg86vzrHPgic7XHJcbiAgICB0aXRsZS5saXN0aW5nX3R5cGUgPSAnzqTPjc+Azr/PgiDOkc6zzrPOtc67zq/Osc+CJztcclxuICAgIHRpdGxlLmFyZWEgPSAnzpXOvM6yzrHOtM+MJztcclxuICAgIHRpdGxlLmFkZHJlc3MgPSAnzpTOuc61z4XOuM+Fzr3Pg863JztcclxuICAgIHRpdGxlLmJlZHJvb21zID0gJ86lz4DOvc6/zrTPic68zqzPhM65zrEnO1xyXG4gICAgdGl0bGUucHJpY2UgPSAnzqTOuc68zq4nO1xyXG4gICAgdGl0bGUuaXNuZXcgPSAnzp3Otc+MzrTOvM63z4TOvyc7XHJcbiAgICB0aXRsZS5wYXJraW5nID0gJ86jz4TOrM64zrzOtc+DzrcnO1xyXG4gICAgdGl0bGUuZnVybmlzaGVkID0gJ86Vz4DOuc+AzrvPic68zq3Ovc6/JztcclxuICAgIHRpdGxlLnBldHMgPSAnzprOsc+Ezr/Ouc66zq/OtM65zrEnO1xyXG4gICAgdGl0bGUudmlldyA9ICfOmM6tzrEnO1xyXG4gICAgdGl0bGUuaGVhdGluZyA9ICfOmM6tz4HOvM6xzr3Pg863JztcclxuICAgIHRpdGxlLmNvb2xpbmcgPSAnzqjPjc6+zrcnO1xyXG4gICAgdGl0bGUuY29udGFjdEluZm8gPSAnzqPPhM6/zrnPh861zq/OsSDOlc+AzrnOus6/zrnOvc+Jzr3Or86xz4InO1xyXG4gICAgdGl0bGUubmFtZSA9ICfOjM69zr/OvM6xJztcclxuICAgIHRpdGxlLmxhc3RuYW1lID0gJ86Vz4DOr864zrXPhM6/JztcclxuICAgIHRpdGxlLnBob25lID0gJ86kzrfOu86tz4bPic69zr8nO1xyXG4gICAgdGl0bGUuZW1haWwgPSAnzpfOu861zrrPhM+Bzr/Ovc65zrrOriDOlM65zrXPjc64z4XOvc+DzrcnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aXRsZS5naWQgPSAnRXN0YXRlIENvZGUnO1xyXG4gICAgdGl0bGUudHlwZSA9ICdQcm9wZXJ0eSBUeXBlJztcclxuICAgIHRpdGxlLmxpc3RpbmdfdHlwZSA9ICdMaXN0aW5nIFR5cGUnO1xyXG4gICAgdGl0bGUuYXJlYSA9ICdTaXplJztcclxuICAgIHRpdGxlLmFkZHJlc3MgPSAnQWRkcmVzcyc7XHJcbiAgICB0aXRsZS5iZWRyb29tcyA9ICdCZWRyb29tcyc7XHJcbiAgICB0aXRsZS5wcmljZSA9ICdQcmljZSc7XHJcbiAgICB0aXRsZS5pc25ldyA9ICdOZXdseSBCdWlsZCc7XHJcbiAgICB0aXRsZS5wYXJraW5nID0gJ1BhcmtpbmcnO1xyXG4gICAgdGl0bGUuZnVybmlzaGVkID0gJ0Z1cm5pc2hlZCc7XHJcbiAgICB0aXRsZS5wZXRzID0gJ1BldHMgQWxsb3dlZCc7XHJcbiAgICB0aXRsZS52aWV3ID0gJ1ZpZXcnO1xyXG4gICAgdGl0bGUuaGVhdGluZyA9ICdIZWF0aW5nJztcclxuICAgIHRpdGxlLmNvb2xpbmcgPSAnQ29vbGluZyc7XHJcbiAgICB0aXRsZS5jb250YWN0SW5mbyA9ICdDb250YWN0IEluZm8nO1xyXG4gICAgdGl0bGUubmFtZSA9ICdOYW1lJztcclxuICAgIHRpdGxlLmxhc3RuYW1lID0gJ0xhc3QgTmFtZSc7XHJcbiAgICB0aXRsZS5waG9uZSA9ICdUZWxlcGhvbmUnO1xyXG4gICAgdGl0bGUuZW1haWwgPSAnRW1haWwnO1xyXG4gIH1cclxuICBjbGlja2VkRmVhdHVyZSA9IG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwoZXZ0LnBpeGVsLCBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmVhdHVyZTogZmVhdHVyZSxcclxuICAgICAgbGF5ZXI6IGxheWVyXHJcbiAgICB9O1xyXG4gIH0sIHRoaXMsIGZ1bmN0aW9uKGxheWVyKSB7XHJcbiAgICBpZiAobGF5ZXIuZ2V0KCdpZCcpID09PSAnZXN0YXRlcycgfHwgbGF5ZXIuZ2V0KCdpZCcpID09PSAnZmlsdGVyZWRFc3RhdGVzJykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9LCB0aGlzKTtcclxuICBpZiAoY2xpY2tlZEZlYXR1cmUpIHtcclxuICAgIGlmIChjbGlja2VkRmVhdHVyZS5sYXllci5nZXQoJ2lkJykgPT09ICdlc3RhdGVzJyAmJiBjbGlja2VkRmVhdHVyZS5mZWF0dXJlLmdldCgnZmVhdHVyZXMnKS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgZiA9IGNsaWNrZWRGZWF0dXJlLmZlYXR1cmUuZ2V0UHJvcGVydGllcygpLmZlYXR1cmVzWzBdO1xyXG4gICAgICBjb25zb2xlLmxvZyhmKTtcclxuICAgICAgY3JlYXRlUFNBYW5kQ2FyZChmLCBvYmopO1xyXG4gICAgfSBlbHNlIGlmIChjbGlja2VkRmVhdHVyZS5sYXllci5nZXQoJ2lkJykgPT09ICdmaWx0ZXJlZEVzdGF0ZXMnKSB7XHJcbiAgICAgIGYgPSBjbGlja2VkRmVhdHVyZS5mZWF0dXJlO1xyXG4gICAgICBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaik7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIFBTQS5zZXRTb3VyY2UobnVsbCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVQU0FhbmRDYXJkKGYsIG9iaikge1xyXG4gIHZhciBmZWF0dXJlID0ge307XHJcbiAgZmVhdHVyZS5naWQgPSBmLmdldCgnZ2lkJyk7XHJcbiAgZmVhdHVyZS5hcmVhID0gZi5nZXQoJ2VzdGF0ZWFyZWEnKTtcclxuICBpZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gICAgZmVhdHVyZS50eXBlID0gZi5nZXQoJ2VzdGF0ZXR5cGUnKTtcclxuICAgIGZlYXR1cmUuYWRkcmVzcyA9IGYuZ2V0KCdzdHJlZXRfZWwnKSArICcgJyArIGYuZ2V0KCdzdHJlZXRfbnVtYmVyJyk7XHJcbiAgICBmZWF0dXJlLm5hbWUgPSBmLmdldCgnbmFtZV9lbCcpO1xyXG4gICAgZmVhdHVyZS5sYXN0bmFtZSA9IGYuZ2V0KCdsYXN0bmFtZV9lbCcpO1xyXG4gICAgaWYgKGYuZ2V0KCdzYWxlJykgPT09IHRydWUpIHtcclxuICAgICAgZmVhdHVyZS5saXN0aW5nX3R5cGUgPSAnzqDPjs67zrfPg863J1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmVhdHVyZS5saXN0aW5nX3R5cGUgPSAnzpXOvc6/zrnOus6vzrHPg863J1xyXG4gICAgfVxyXG4gICAgZmVhdHVyZS5idG5zID0ge1xyXG4gICAgICBpbmZvOiAnz4DOu863z4HOv8+Gzr/Pgc65zrXPgicsXHJcbiAgICAgIGNsb3NlOiAnzrrOu861zrnPg865zrzOvydcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgZmVhdHVyZS50eXBlID0gZi5nZXQoJ2VzdGF0ZXR5cGVfZW4nKTtcclxuICAgIGZlYXR1cmUuYWRkcmVzcyA9IGYuZ2V0KCdzdHJlZXRfZW4nKSArICcgJyArIGYuZ2V0KCdzdHJlZXRfbnVtYmVyJyk7XHJcbiAgICBmZWF0dXJlLm5hbWUgPSBmLmdldCgnbmFtZV9lbicpO1xyXG4gICAgZmVhdHVyZS5sYXN0bmFtZSA9IGYuZ2V0KCdsYXN0bmFtZV9lbicpO1xyXG4gICAgaWYgKGYuZ2V0KCdzYWxlJykgPT09IHRydWUpIHtcclxuICAgICAgZmVhdHVyZS5saXN0aW5nX3R5cGUgPSAnU2FsZSdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZlYXR1cmUubGlzdGluZ190eXBlID0gJ1JlbnQnXHJcbiAgICB9XHJcbiAgICBmZWF0dXJlLmJ0bnMgPSB7XHJcbiAgICAgIGluZm86ICdpbmZvJyxcclxuICAgICAgY2xvc2U6ICdjbG9zZSdcclxuICAgIH1cclxuICB9XHJcbiAgZmVhdHVyZS5iZWRyb29tcyA9IGYuZ2V0KCdiZWRyb29tcycpO1xyXG4gIGZlYXR1cmUucHJpY2UgPSBmLmdldCgncHJpY2UnKTtcclxuICBmZWF0dXJlLmlzbmV3ID0gZi5nZXQoJ2lzbmV3Jyk7XHJcbiAgZmVhdHVyZS5wYXJraW5nID0gZi5nZXQoJ3BhcmtpbmcnKTtcclxuICBmZWF0dXJlLmZ1cm5pc2hlZCA9IGYuZ2V0KCdmdXJuaXNoZWQnKTtcclxuICBmZWF0dXJlLnBldHMgPSBmLmdldCgncGV0cycpO1xyXG4gIGZlYXR1cmUudmlldyA9IGYuZ2V0KCd2aWV3Jyk7XHJcbiAgZmVhdHVyZS5oZWF0aW5nID0gZi5nZXQoJ2hlYXRpbmcnKTtcclxuICBmZWF0dXJlLmNvb2xpbmcgPSBmLmdldCgnY29vbGluZycpO1xyXG4gIGZlYXR1cmUucGhvbmUgPSBmLmdldCgncGhvbmUxJyk7XHJcbiAgZmVhdHVyZS5lbWFpbCA9IGYuZ2V0KCdlbWFpbCcpO1xyXG4gIGZlYXR1cmUuY29vcmRpbmF0ZSA9IGYuZ2V0KCdnZW9tZXRyeScpLmdldENvb3JkaW5hdGVzKCk7XHJcblxyXG4gIHZhciBQU0FTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgICBhdHRyaWJ1dGlvbnM6IFtuZXcgb2wuQXR0cmlidXRpb24oe1xyXG4gICAgICBodG1sOiAnUE9JIGJ5ICcgKyAnPGEgaHJlZj1cImh0dHA6Ly93d3cudGVycmFjb2duaXRhLmdyL1wiPlRlcnJhIENvZ25pdGE8L2E+J1xyXG4gICAgfSldLFxyXG4gICAgZm9ybWF0OiBnZW9KU09ORm9ybWF0LFxyXG4gICAgbG9hZGVyOiBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcclxuICAgICAgdmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGIvdXNlcy8nICsgZmVhdHVyZS5naWQ7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICAgIH0pLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZS5wcm9wZXJ0eV9zZXJ2aWNlc19hbmFseXNpcywge1xyXG4gICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGFyZWEgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMC4xXVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBmZWF0dXJlc1swXS5zZXRTdHlsZShhcmVhKTtcclxuICAgICAgICBzZWxmLmFkZEZlYXR1cmVzKGZlYXR1cmVzKTtcclxuICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgc3RyYXRlZ3k6IG9sLmxvYWRpbmdzdHJhdGVneS5hbGxcclxuICB9KTtcclxuICBQU0Euc2V0U291cmNlKFBTQVNvdXJjZSk7XHJcbiAgbWFwLmdldFZpZXcoKS5zZXRDZW50ZXIoZmVhdHVyZS5jb29yZGluYXRlKTtcclxuICBtYXAuZ2V0VmlldygpLnNldFJlc29sdXRpb24oMS4yKTtcclxuICBvYmouZmVhdHVyZSA9IGZlYXR1cmU7XHJcblxyXG4gIGR1c3QucmVuZGVyKCdlc3RhdGVDYXJkcycsIG9iaiwgZnVuY3Rpb24oZXJyLCBvdXQpIHtcclxuICAgICQoJy5lc3RhdGUtY2FyZHMnKS5odG1sKG91dCk7XHJcbiAgICAkKCcuZXN0YXRlLWNhcmRzJykuYWRkQ2xhc3MoJ2VzdGF0ZS1jYXJkcy1hY3RpdmUnKTtcclxuICAvLyAkKFwiI2luZm9ib3hcIikuYWRkQ2xhc3MoXCJ2aXN1YWxseWhpZGRlblwiKTtcclxuICB9KTtcclxuICAkKCdhW2hyZWY9XCIjb3Blbk1vZGFsXCJdJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBkdXN0LnJlbmRlcignbW9kYWxJbmZvJywgb2JqLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAkKCcubW9kYWwtY29udGVudCcpLmh0bWwob3V0KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gICQoJ2FbaHJlZj1cIiNjbG9zZUVzdGF0ZUNhcmRcIl0nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQoJy5lc3RhdGUtY2FyZHMnKS5yZW1vdmVDbGFzcygnZXN0YXRlLWNhcmRzLWFjdGl2ZScpO1xyXG4gIH0pO1xyXG59XHJcbiQoJy5pbmZvJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgUFNBLnNldFNvdXJjZShudWxsKTtcclxuICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IHRydWUpIHtcclxuICAgIG1hcC5vbignY2xpY2snLCBoYW5kbGVJbmZvKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWFwLnVuKCdjbGljaycsIGhhbmRsZUluZm8pO1xyXG4gIH1cclxufSk7XHJcbiIsImZ1bmN0aW9uIGhhbmRsZVNlbGVjdCgpICB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIHZhciBlID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdGhpcy5lbGVtZW50XyA9IGUsIHRoaXMuc2V0RGVmYXVsdHNfKCksIHRoaXMuaW5pdCgpXHJcbiAgfTtcclxuICB3aW5kb3cuTWF0ZXJpYWxTZWxlY3RmaWVsZCA9IGUsIGUucHJvdG90eXBlLkNzc0NsYXNzZXNfID0ge1xyXG4gICAgTEFCRUw6ICdtZGwtc2VsZWN0ZmllbGRfX2xhYmVsJyxcclxuICAgIFNFTEVDVDogJ21kbC1zZWxlY3RmaWVsZF9fc2VsZWN0JyxcclxuICAgIFNFTEVDVEVEX0JPWDogJ21kbC1zZWxlY3RmaWVsZF9fYm94JyxcclxuICAgIFNFTEVDVEVEX0JPWF9WQUxVRTogJ21kbC1zZWxlY3RmaWVsZF9fYm94LXZhbHVlJyxcclxuICAgIExJU1RfT1BUSU9OX0JPWDogJ21kbC1zZWxlY3RmaWVsZF9fbGlzdC1vcHRpb24tYm94JyxcclxuICAgIElTX0RJUlRZOiAnaXMtZGlydHknLFxyXG4gICAgSVNfRk9DVVNFRDogJ2lzLWZvY3VzZWQnLFxyXG4gICAgSVNfRElTQUJMRUQ6ICdpcy1kaXNhYmxlZCcsXHJcbiAgICBJU19JTlZBTElEOiAnaXMtaW52YWxpZCcsXHJcbiAgICBJU19VUEdSQURFRDogJ2lzLXVwZ3JhZGVkJyxcclxuICAgIElTX1NFTEVDVEVEOiAnaXMtc2VsZWN0ZWQnXHJcbiAgfSwgZS5wcm90b3R5cGUuS2V5Y29kZXNfID0ge1xyXG4gICAgRU5URVI6IDEzLFxyXG4gICAgRVNDQVBFOiAyNyxcclxuICAgIFNQQUNFOiAzMixcclxuICAgIFVQX0FSUk9XOiAzOCxcclxuICAgIERPV05fQVJST1c6IDQwXHJcbiAgfSwgZS5wcm90b3R5cGUuc2V0RGVmYXVsdHNfID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLm9wdGlvbnNfID0gW10sIHRoaXMub3B0aW9uc01hcF8gPSB7fSwgdGhpcy5vcHRpb25zQXJyXyA9IFtdLCB0aGlzLmNsb3NpbmdfID0gITAsIHRoaXMua2V5RG93blRpbWVySWRfID0gbnVsbFxyXG4gIH0sIGUucHJvdG90eXBlLm9uRm9jdXNfID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdGhpcy5jbG9zaW5nXyAmJiB0aGlzLnNob3dfKGUpXHJcbiAgfSwgZS5wcm90b3R5cGUub25CbHVyXyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpXHJcbiAgfSwgZS5wcm90b3R5cGUub25TZWxlY3RlZF8gPSBmdW5jdGlvbihlKSB7XHJcbiAgICBpZiAoZS50YXJnZXQgJiYgJ0xJJyA9PSBlLnRhcmdldC5ub2RlTmFtZSkge1xyXG4gICAgICB2YXIgdCA9IHRoaXMub3B0aW9uc19bZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyldO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uVmFsdWVfLnRleHRDb250ZW50ID0gdC50ZXh0Q29udGVudCwgdC5zZWxlY3RlZCA9ICEwO1xyXG4gICAgICB2YXIgcztcclxuICAgICAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIHdpbmRvdy5FdmVudCA/IHMgPSBuZXcgRXZlbnQoJ2NoYW5nZScsIHtcclxuICAgICAgICBidWJibGVzOiAhMCxcclxuICAgICAgICBjYW5jZWxhYmxlOiAhMFxyXG4gICAgICB9KSA6ICdmdW5jdGlvbicgPT0gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUV2ZW50ICYmIChzID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKSwgcy5pbml0RXZlbnQoJ2NoYW5nZScsICEwLCAhMCkpLCBzICYmIHRoaXMuc2VsZWN0Xy5kaXNwYXRjaEV2ZW50KHMpLCAnJyAhPT0gdC50ZXh0Q29udGVudCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKTtcclxuICAgICAgICB2YXIgaSA9IHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKTtcclxuICAgICAgICBpICYmIGkuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKSwgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKTtcclxuICAgICAgICB2YXIgaSA9IHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKTtcclxuICAgICAgICBpICYmIGkuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgZS5wcm90b3R5cGUub25jbGlja18gPSBmdW5jdGlvbihlKSB7XHJcbiAgICB0aGlzLnRvZ2dsZShlKVxyXG4gIH0sIGUucHJvdG90eXBlLnVwZGF0ZV8gPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBlO1xyXG4gICAgaWYgKHRoaXMub3B0aW9uc18gJiYgdGhpcy5vcHRpb25zXy5sZW5ndGggPiAwKVxyXG4gICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRoaXMub3B0aW9uc18ubGVuZ3RoOyB0KyspIHtcclxuICAgICAgICB2YXIgcyA9IHRoaXMub3B0aW9uc19bdF07XHJcbiAgICAgICAgaWYgKHMuc2VsZWN0ZWQgJiYgJycgIT09IHMudmFsdWUpIHtcclxuICAgICAgICAgIHZhciBlID0gITA7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVJUWSksIHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLCB0aGlzLmxpc3RPcHRpb25Cb3hfLnF1ZXJ5U2VsZWN0b3JBbGwoJ0xJJylbdF0uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgZSB8fCB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVJUWSksIHRoaXMuY2hlY2tEaXNhYmxlZCgpLCB0aGlzLmNoZWNrVmFsaWRpdHkoKVxyXG4gIH0sIGUucHJvdG90eXBlLmNoZWNrVmFsaWRpdHkgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc2VsZWN0Xy52YWxpZGl0eSAmJiAodGhpcy5zZWxlY3RfLnZhbGlkaXR5LnZhbGlkID8gdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfSU5WQUxJRCkgOiB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19JTlZBTElEKSlcclxuICB9LCBlLnByb3RvdHlwZS5jaGVja1ZhbGlkaXR5ID0gZS5wcm90b3R5cGUuY2hlY2tWYWxpZGl0eSwgZS5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zZWxlY3RfLmRpc2FibGVkID8gdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpIDogdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpXHJcbiAgfSwgZS5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZCA9IGUucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQsIGUucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc2VsZWN0Xy5kaXNhYmxlZCA9ICEwLCB0aGlzLnVwZGF0ZV8oKVxyXG4gIH0sIGUucHJvdG90eXBlLmRpc2FibGUgPSBlLnByb3RvdHlwZS5kaXNhYmxlLCBlLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc2VsZWN0Xy5kaXNhYmxlZCA9ICExLCB0aGlzLnVwZGF0ZV8oKVxyXG4gIH0sIGUucHJvdG90eXBlLmVuYWJsZSA9IGUucHJvdG90eXBlLmVuYWJsZSwgZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKSA/IHRoaXMuaGlkZV8oKSA6IHRoaXMuc2hvd18oZSlcclxuICB9LCBlLnByb3RvdHlwZS5zaG93XyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIGlmICh0aGlzLmNoZWNrRGlzYWJsZWQoKSwgIXRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpLCB0aGlzLmNsb3NpbmdfID0gITEsIHRoaXMuc3RyU2VhcmNoXyA9ICcnO1xyXG4gICAgICB2YXIgdCA9IHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKTtcclxuICAgICAgdCAmJiAodC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuc2Nyb2xsVG9wID0gdC5vZmZzZXRUb3ApLCB0aGlzLmJvdW5kS2V5RG93bkhhbmRsZXJfID0gdGhpcy5vbktleURvd25fLmJpbmQodGhpcyksIHRoaXMuYm91bmRDbGlja0RvY0hhbmRsZXJfID0gZnVuY3Rpb24odCkge1xyXG4gICAgICAgIHQgPT09IGUgfHwgdGhpcy5jbG9zaW5nXyB8fCB0LnRhcmdldC5wYXJlbnROb2RlID09PSB0aGlzLmVsZW1lbnRfIHx8IHQudGFyZ2V0LnBhcmVudE5vZGUgPT09IHRoaXMuc2VsZWN0ZWRPcHRpb25fIHx8IHRoaXMuaGlkZV8oKVxyXG4gICAgICB9LmJpbmQodGhpcyksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmJvdW5kS2V5RG93bkhhbmRsZXJfKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmJvdW5kQ2xpY2tEb2NIYW5kbGVyXylcclxuICAgIH1cclxuICB9LCBlLnByb3RvdHlwZS5vbktleURvd25fID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIHQgPSB0aGlzLmxpc3RPcHRpb25Cb3hfLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpOm5vdChbZGlzYWJsZWRdKScpO1xyXG4gICAgaWYgKHQgJiYgdC5sZW5ndGggPiAwICYmICF0aGlzLmNsb3NpbmdfKSB7XHJcbiAgICAgIHZhciBzLFxyXG4gICAgICAgICAgaSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpLmluZGV4T2YodGhpcy5saXN0T3B0aW9uQm94Xy5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpWzBdKTtcclxuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5LZXljb2Rlc18uVVBfQVJST1cgfHwgZS5rZXlDb2RlID09PSB0aGlzLktleWNvZGVzXy5ET1dOX0FSUk9XKSAtMSAhPSBpICYmIHRbaV0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKSwgZS5rZXlDb2RlID09PSB0aGlzLktleWNvZGVzXy5VUF9BUlJPVyA/IChlLnByZXZlbnREZWZhdWx0KCksIHMgPSBpID4gMCA/IHRbaSAtIDFdIDogdFt0Lmxlbmd0aCAtIDFdKSA6IChlLnByZXZlbnREZWZhdWx0KCksIHMgPSB0Lmxlbmd0aCA+IGkgKyAxID8gdFtpICsgMV0gOiB0WzBdKSwgcyAmJiAocy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLCB0aGlzLmxpc3RPcHRpb25Cb3hfLnNjcm9sbFRvcCA9IHMub2Zmc2V0VG9wLCB0aGlzLmxhc3RTZWxlY3RlZEl0ZW1fID0gcyk7ZWxzZSBpZiAoZS5rZXlDb2RlICE9PSB0aGlzLktleWNvZGVzXy5TUEFDRSAmJiBlLmtleUNvZGUgIT09IHRoaXMuS2V5Y29kZXNfLkVOVEVSIHx8ICF0aGlzLmxhc3RTZWxlY3RlZEl0ZW1fKSB7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5LZXljb2Rlc18uRVNDQVBFKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB2YXIgbztcclxuICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID8gKG8gPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpLCBvLmluaXRNb3VzZUV2ZW50KCdjbGljaycsICEwLCAhMCwgd2luZG93LCAwLCAwLCAwLCAwLCAwLCAhMSwgITEsICExLCAhMSwgMCwgbnVsbCkpIDogbyA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZWRvd24nKSwgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KG8pLCBkb2N1bWVudC5jcmVhdGVFdmVudCB8fCAobyA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZXVwJyksIGRvY3VtZW50LmJvZHkuZGlzcGF0Y2hFdmVudChvKSksIGRvY3VtZW50LmJvZHkuY2xpY2soKVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy52YWxpZEtleUNvZGVfKGUua2V5Q29kZSkpIHtcclxuICAgICAgICAgIHZhciBuID0gZS53aGljaCB8fCBlLmtleUNvZGU7XHJcbiAgICAgICAgICB0aGlzLnN0clNlYXJjaF8gKz0gU3RyaW5nLmZyb21DaGFyQ29kZShuKSwgdGhpcy5rZXlEb3duVGltZXJJZF8gJiYgY2xlYXJUaW1lb3V0KHRoaXMua2V5RG93blRpbWVySWRfKSwgdGhpcy5rZXlEb3duVGltZXJJZF8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmtleURvd25UaW1lcklkXyA9IG51bGwsIHRoaXMuc3RyU2VhcmNoXyA9ICcnXHJcbiAgICAgICAgICB9LmJpbmQodGhpcyksIDMwMCk7XHJcbiAgICAgICAgICB2YXIgbCA9IHRoaXMuc2VhcmNoQnlTdHJJbmRleF8oMCk7XHJcbiAgICAgICAgICBsID4gLTEgJiYgKC0xICE9IGkgJiYgdFtpXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLCBzID0gdFtsXSwgcy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLCB0aGlzLmxpc3RPcHRpb25Cb3hfLnNjcm9sbFRvcCA9IHMub2Zmc2V0VG9wLCB0aGlzLmxhc3RTZWxlY3RlZEl0ZW1fID0gcylcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBvO1xyXG4gICAgICAgIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID8gKG8gPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpLCBvLmluaXRNb3VzZUV2ZW50KCdjbGljaycsICEwLCAhMCwgd2luZG93LCAwLCAwLCAwLCAwLCAwLCAhMSwgITEsICExLCAhMSwgMCwgbnVsbCkpIDogbyA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZWRvd24nKSwgdGhpcy5sYXN0U2VsZWN0ZWRJdGVtXy5kaXNwYXRjaEV2ZW50KG8pLCBkb2N1bWVudC5jcmVhdGVFdmVudCB8fCAobyA9IG5ldyBNb3VzZUV2ZW50KCdtb3VzZXVwJyksIHRoaXMubGFzdFNlbGVjdGVkSXRlbV8uZGlzcGF0Y2hFdmVudChvKSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIGUucHJvdG90eXBlLnNlYXJjaEJ5U3RySW5kZXhfID0gZnVuY3Rpb24oZSkge1xyXG4gICAgZm9yICh2YXIgdCA9IHRoaXMuc3RyU2VhcmNoXywgcyA9IG5ldyBSZWdFeHAoJ14nICsgdCArICcuJyksIGkgPSAtMSwgbyA9IHRoaXMub3B0aW9uc0Fycl8sIG4gPSAwOyBuIDwgby5sZW5ndGg7IG4rKylcclxuICAgICAgaWYgKHMudGVzdChvW25dKSkge1xyXG4gICAgICAgIGkgPSBuO2JyZWFrXHJcbiAgICAgIH1cclxuICAgIHJldHVybiAtMSAhPSBpID8gdGhpcy5vcHRpb25zTWFwX1t0aGlzLm9wdGlvbnNBcnJfW2ldXSA6IC0xXHJcbiAgfSwgZS5wcm90b3R5cGUudmFsaWRLZXlDb2RlXyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIHJldHVybiBlID4gNDcgJiYgNTggPiBlIHx8IDMyID09IGUgfHwgMTMgPT0gZSB8fCBlID4gNjQgJiYgOTEgPiBlIHx8IGUgPiA5NSAmJiAxMTIgPiBlIHx8IGUgPiAxODUgJiYgMTkzID4gZSB8fCBlID4gMjE4ICYmIDIyMyA+IGVcclxuICB9LCBlLnByb3RvdHlwZS5oaWRlXyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCksIHRoaXMuY2xvc2luZ18gPSAhMCwgdGhpcy5zdHJTZWFyY2hfID0gJycsIHRoaXMuYm91bmRDbGlja0RvY0hhbmRsZXJfICYmIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZENsaWNrRG9jSGFuZGxlcl8pLCB0aGlzLmJvdW5kS2V5RG93bkhhbmRsZXJfICYmIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmJvdW5kS2V5RG93bkhhbmRsZXJfKSwgdGhpcy51cGRhdGVfKClcclxuICB9LCBlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50Xykge1xyXG4gICAgICB0aGlzLmxhYmVsXyA9IHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLkNzc0NsYXNzZXNfLkxBQkVMKSwgdGhpcy5zZWxlY3RfID0gdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uU0VMRUNUKTtcclxuICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uU0VMRUNURURfQk9YKSwgZS50YWJJbmRleCA9IDEsIHRoaXMuc2VsZWN0ZWRPcHRpb25fID0gZTtcclxuICAgICAgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICAgIHQuY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtaWNvbnMnKSwgdC50YWJJbmRleCA9IC0xLCB0LnRleHRDb250ZW50ID0gJ2tleWJvYXJkX2Fycm93X2Rvd24nLCBlLmFwcGVuZENoaWxkKHQpO1xyXG4gICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgcy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uU0VMRUNURURfQk9YX1ZBTFVFKSwgcy50YWJJbmRleCA9IDAsIGUuYXBwZW5kQ2hpbGQocyksIHRoaXMuc2VsZWN0ZWRPcHRpb25WYWx1ZV8gPSBzLCB0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0ZWRPcHRpb25fKTtcclxuICAgICAgdmFyIGkgPSB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpO1xyXG4gICAgICBpZiAodGhpcy5zZWxlY3RfICYmICh0aGlzLm9wdGlvbnNfID0gdGhpcy5zZWxlY3RfLnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpLCB0aGlzLnNlbGVjdF8uc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nLCB0aGlzLm9wdGlvbnNfLmxlbmd0aCkpIHtcclxuICAgICAgICB0aGlzLmJvdW5kU2VsZWN0ZWRIYW5kbGVyID0gdGhpcy5vblNlbGVjdGVkXy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHZhciBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgby5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uTElTVF9PUFRJT05fQk9YKSwgby50YWJJbmRleCA9ICctMSc7XHJcbiAgICAgICAgdmFyIG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgICAgIG4udGFiSW5kZXggPSAnLTEnO1xyXG4gICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgdGhpcy5vcHRpb25zXy5sZW5ndGg7IGwrKykge1xyXG4gICAgICAgICAgdmFyIGEgPSB0aGlzLm9wdGlvbnNfW2xdLFxyXG4gICAgICAgICAgICAgIGQgPSAoYS50ZXh0Q29udGVudCB8fCAnJykudG9VcHBlckNhc2UoKS5yZXBsYWNlKC8oICl8KFxcbikvZywgJycpO3RoaXMub3B0aW9uc01hcF9bZF0gPSBsLCB0aGlzLm9wdGlvbnNBcnJfLnB1c2goZCk7dmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO2MudGV4dENvbnRlbnQgPSBhLnRleHRDb250ZW50LCBjLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIGwpLCBjLnRhYkluZGV4ID0gJy0xJywgYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRTZWxlY3RlZEhhbmRsZXIpLCBuLmFwcGVuZENoaWxkKGMpLCBhLnNlbGVjdGVkICYmICcnICE9PSBhLnRleHRDb250ZW50ICYmICh0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVJUWSksIHRoaXMuc2VsZWN0ZWRPcHRpb25WYWx1ZV8udGV4dENvbnRlbnQgPSBhLnRleHRDb250ZW50LCBjLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG8uYXBwZW5kQ2hpbGQobiksIHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQobyksIHRoaXMubGlzdE9wdGlvbkJveF8gPSBvXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5ib3VuZENsaWNrSGFuZGxlciA9IHRoaXMub25jbGlja18uYmluZCh0aGlzKSwgdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRDbGlja0hhbmRsZXIpLCBpICYmIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpLCB0aGlzLmNoZWNrRGlzYWJsZWQoKVxyXG4gICAgfVxyXG4gIH0sIGUucHJvdG90eXBlLm1kbERvd25ncmFkZV8gPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZENsaWNrSGFuZGxlciksIHRoaXMuYm91bmRTZWxlY3RlZEhhbmRsZXIgJiYgdGhpcy5vcHRpb25zXy5sZW5ndGgpXHJcbiAgICAgIGZvciAodmFyIGUgPSB0aGlzLmxpc3RPcHRpb25Cb3hfLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyksIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykgZVt0XS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRTZWxlY3RlZEhhbmRsZXIpXHJcbiAgfSwgZS5wcm90b3R5cGUubWRsRG93bmdyYWRlID0gZS5wcm90b3R5cGUubWRsRG93bmdyYWRlXywgZS5wcm90b3R5cGUubWRsRG93bmdyYWRlID0gZS5wcm90b3R5cGUubWRsRG93bmdyYWRlLCBjb21wb25lbnRIYW5kbGVyLnJlZ2lzdGVyKHtcclxuICAgIGNvbnN0cnVjdG9yOiBlLFxyXG4gICAgY2xhc3NBc1N0cmluZzogJ01hdGVyaWFsU2VsZWN0ZmllbGQnLFxyXG4gICAgY3NzQ2xhc3M6ICdtZGwtanMtc2VsZWN0ZmllbGQnLFxyXG4gICAgd2lkZ2V0OiAhMFxyXG4gIH0pXHJcbn1cclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBnZW9sb2NhdGlvbiA9IG5ldyBvbC5HZW9sb2NhdGlvbih7XHJcbiAgICAvLyB0YWtlIHRoZSBwcm9qZWN0aW9uIHRvIHVzZSBmcm9tIHRoZSBtYXAncyB2aWV3XHJcbiAgICBwcm9qZWN0aW9uOiBtYXAuZ2V0VmlldygpLmdldFByb2plY3Rpb24oKSxcclxuICAgIHRyYWNraW5nT3B0aW9uczoge1xyXG4gICAgICBtYXhpbXVtQWdlOiAxMDAwMCxcclxuICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG4gICAgICB0aW1lb3V0OiA2MDAwMDBcclxuICAgIH1cclxuICB9KTtcclxuICB2YXIgYWNjdXJhY3lGZWF0dXJlID0gbmV3IG9sLkZlYXR1cmUoKTtcclxuICBnZW9sb2NhdGlvbi5vbignY2hhbmdlOmFjY3VyYWN5R2VvbWV0cnknLCBmdW5jdGlvbigpIHtcclxuICAgIGFjY3VyYWN5RmVhdHVyZS5zZXRHZW9tZXRyeShnZW9sb2NhdGlvbi5nZXRBY2N1cmFjeUdlb21ldHJ5KCkpO1xyXG4gIH0pO1xyXG4gIHZhciBwb3NpdGlvbkZlYXR1cmUgPSBuZXcgb2wuRmVhdHVyZSgpO1xyXG4gIHBvc2l0aW9uRmVhdHVyZS5zZXRTdHlsZShuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICByYWRpdXM6IDYsXHJcbiAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtjb2xvcjogJyMzMzk5Q0MnfSksXHJcbiAgICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7Y29sb3I6ICcjZmZmJywgd2lkdGg6IDJ9KVxyXG4gICAgfSlcclxuICB9KSk7XHJcbiAgLy8gbGlzdGVuIHRvIGNoYW5nZXMgaW4gcG9zaXRpb25cclxuICBnZW9sb2NhdGlvbi5vbignY2hhbmdlOnBvc2l0aW9uJywgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBnZW9sb2NhdGlvbi5nZXRQb3NpdGlvbigpO1xyXG4gICAgcG9zaXRpb25GZWF0dXJlLnNldEdlb21ldHJ5KGNvb3JkaW5hdGVzXHJcbiAgICAgID8gbmV3IG9sLmdlb20uUG9pbnQoY29vcmRpbmF0ZXMpXHJcbiAgICAgIDogbnVsbCk7XHJcbiAgfSk7XHJcbiAgZmVhdHVyZXNPdmVybGF5U291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe30pO1xyXG4gIHZhciBmZWF0dXJlc092ZXJsYXkgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHttYXA6IG1hcCwgc291cmNlOiBmZWF0dXJlc092ZXJsYXlTb3VyY2V9KTtcclxuICAkKCcuZ2VvbG9jYXRpb24nKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpID09PSB0cnVlKSB7XHJcbiAgICAgIGdlb2xvY2F0aW9uLnNldFRyYWNraW5nKHRydWUpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXlTb3VyY2UuYWRkRmVhdHVyZXMoW3Bvc2l0aW9uRmVhdHVyZSwgYWNjdXJhY3lGZWF0dXJlXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnZW9sb2NhdGlvbi5zZXRUcmFja2luZyhmYWxzZSk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheVNvdXJjZS5jbGVhcigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgdmFyIG1hcmtlciA9IG5ldyBvbC5GZWF0dXJlKCk7XHJcbiAgdmFyIGljb25TdHlsZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oLyoqIEB0eXBlIHtvbHguc3R5bGUuSWNvbk9wdGlvbnN9ICovXHJcbiAgICAoe1xyXG4gICAgICBhbmNob3I6IFtcclxuICAgICAgICAwLjUsIDFcclxuICAgICAgXSxcclxuICAgICAgYW5jaG9yWFVuaXRzOiAnZnJhY3Rpb24nLFxyXG4gICAgICBhbmNob3JZVW5pdHM6ICdmcmFjdGlvbicsXHJcbiAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgIHNjYWxlOiAxLFxyXG4gICAgICBzcmM6ICcuLi9pbWFnZXMvbWFwLWljb25zL3BpbnMvMjQvcGluMS5wbmcnLFxyXG4gICAgICBzbmFwVG9QaXhlbDogZmFsc2VcclxuICAgIH0pKSxcclxuICAgIHpJbmRleDogMTAwXHJcbiAgfSk7XHJcbiAgbWFya2VyLnNldFN0eWxlKGljb25TdHlsZSk7XHJcbiAgdmFyIGZlYXR1cmVzT3ZlcmxheVN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgIGNvbG9yOiAnIzQwODA4MCcsXHJcbiAgICAgIHdpZHRoOiA1LFxyXG4gICAgICBsaW5lRGFzaDogWzQsIDRdXHJcbiAgICB9KVxyXG4gIH0pO1xyXG4gIHZhciBmZWF0dXJlc092ZXJsYXkgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHtcclxuICAgIG1hcDogbWFwLFxyXG4gICAgc291cmNlOiBuZXcgb2wuc291cmNlLlZlY3RvcigpLFxyXG4gICAgc3R5bGU6IGZlYXR1cmVzT3ZlcmxheVN0eWxlLFxyXG4gICAgaWQ6ICdyb3V0ZScsXHJcbiAgICBuYW1lRWw6ICfOlM65zrHOtM+Bzr/OvM6uJyxcclxuICAgIE5hbWVFbjogJ1JvdXRlJ1xyXG4gIH0pO1xyXG4gIHZhciByb3V0ZUNvb3JkcyA9IFtdO1xyXG4gIGZ1bmN0aW9uIGhhbmRsZU1hcmtlcihldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBmZWF0dXJlQ291bnQgPSBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuZ2V0RmVhdHVyZXMoKS5sZW5ndGg7XHJcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBldmVudC5jb29yZGluYXRlO1xyXG4gICAgaWYgKGZlYXR1cmVDb3VudCA9PT0gMCkge1xyXG4gICAgICBtYXJrZXIuc2V0R2VvbWV0cnkobmV3IG9sLmdlb20uUG9pbnQoY29vcmRpbmF0ZXMpKTtcclxuICAgICAgbWFya2VyLnNldElkKCdmaXJzdCcpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuYWRkRmVhdHVyZShtYXJrZXIpO1xyXG4gICAgICByb3V0ZUNvb3Jkc1swXSA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICByb3V0ZUNvb3Jkc1sxXSA9IGNvb3JkaW5hdGVzWzFdO1xyXG4gICAgfSBlbHNlIGlmIChmZWF0dXJlQ291bnQgPT09IDEpIHtcclxuICAgICAgdmFyIGNsb25lID0gbWFya2VyLmNsb25lKCk7XHJcbiAgICAgIGNsb25lLnNldEdlb21ldHJ5KG5ldyBvbC5nZW9tLlBvaW50KGNvb3JkaW5hdGVzKSk7XHJcbiAgICAgIGNsb25lLnNldElkKCdzZWNvbmQnKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmFkZEZlYXR1cmUoY2xvbmUpO1xyXG4gICAgICByb3V0ZUNvb3Jkc1syXSA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICByb3V0ZUNvb3Jkc1szXSA9IGNvb3JkaW5hdGVzWzFdO1xyXG4gICAgICBjYWxsUm91dGUocm91dGVDb29yZHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdlb0pTT05Gb3JtYXQgPSBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oe2RlZmF1bHREYXRhUHJvamVjdGlvbjogJ0VQU0c6NDMyNicsIGdlb21ldHJ5TmFtZTogJ2dlb21ldHJ5J30pO1xyXG4gIGZ1bmN0aW9uIGNhbGxSb3V0ZShyb3V0ZUNvb3Jkcykge1xyXG4gICAgdmFyIGZpcnN0ID0gb2wucHJvai50cmFuc2Zvcm0oW1xyXG4gICAgICByb3V0ZUNvb3Jkc1swXSwgcm91dGVDb29yZHNbMV1cclxuICAgIF0sICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgICB2YXIgc2Vjb25kID0gb2wucHJvai50cmFuc2Zvcm0oW1xyXG4gICAgICByb3V0ZUNvb3Jkc1syXSwgcm91dGVDb29yZHNbM11cclxuICAgIF0sICdFUFNHOjM4NTcnLCAnRVBTRzo0MzI2Jyk7XHJcbiAgICB2YXIgeDEgPSBmaXJzdFswXTtcclxuICAgIHZhciB5MSA9IGZpcnN0WzFdO1xyXG4gICAgdmFyIHgyID0gc2Vjb25kWzBdO1xyXG4gICAgdmFyIHkyID0gc2Vjb25kWzFdO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkubWFwYm94LmNvbS92NC9kaXJlY3Rpb25zL21hcGJveC5kcml2aW5nLycgKyB4MSArICcsJyArIHkxICsgJzsnICsgeDIgKyAnLCcgKyB5MiArICcuanNvbj9hbHRlcm5hdGl2ZXM9ZmFsc2UmYWNjZXNzX3Rva2VuPXBrLmV5SjFJam9pWm1seWRtRnBiaUlzSW1FaU9pSmxPV1l5WVRNME5UaGlOV00wWWpKak9ESmpOREU0T0RRek56QTJNR1F5TmlKOS4tTlZETzI3SHp0LXdfblFvc1VQZkxBJyxcclxuICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgIGRhdGFUeXBlOiAnanNvbidcclxuICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICB2YXIgcm91dGUgPSB7fTtcclxuICAgICAgcm91dGUudHlwZSA9ICdGZWF0dXJlJztcclxuICAgICAgcm91dGUuZ2VvbWV0cnkgPSBkYXRhLnJvdXRlc1swXS5nZW9tZXRyeTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmFkZEZlYXR1cmVzKGdlb0pTT05Gb3JtYXQucmVhZEZlYXR1cmVzKHJvdXRlLCB7XHJcbiAgICAgICAgZGF0YVByb2plY3Rpb246ICdFUFNHOjQzMjYnLFxyXG4gICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiAnRVBTRzozODU3J1xyXG4gICAgICB9KSk7XHJcbiAgICAgIG1hcC5nZXRWaWV3KCkuZml0KGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5nZXRFeHRlbnQoKSwgbWFwLmdldFNpemUoKSk7XHJcbiAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhcImVycm9yXCIpO1xyXG4gICAgfSkuYWx3YXlzKGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhcImNvbXBsZXRlXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gICQoJy5tYXJrZXInKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvKiBBY3Qgb24gdGhlIGV2ZW50ICovXHJcbiAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IHRydWUpIHtcclxuICAgICAgbWFwLm9uKCdzaW5nbGVjbGljaycsIGhhbmRsZU1hcmtlcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtYXAudW4oJ3NpbmdsZWNsaWNrJywgaGFuZGxlTWFya2VyKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAkKCcud2VhdGhlcicpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBtYXAuZ2V0T3ZlcmxheXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG92bCkge1xyXG4gICAgICAgIGlmIChvdmwuZ2V0KCduYW1lJykgPT09ICd3ZWF0aGVyJykge1xyXG4gICAgICAgICAgKCQob3ZsLmdldEVsZW1lbnQoKSkucGFyZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgJChvdmwuZ2V0RWxlbWVudCgpKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICB2YXIgY2VudGVyID0gb2wucHJvai50cmFuc2Zvcm0obWFwLmdldFZpZXcoKS5nZXRDZW50ZXIoKSwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgICAgdmFyIGxhdCA9IGNlbnRlclsxXTtcclxuICAgICAgdmFyIGxvbiA9IGNlbnRlclswXTtcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6ICdodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9maW5kP2xhdD0nICsgbGF0ICsgJyZsb249JyArIGxvbiArICcmY250PTUmY2x1c3Rlcj1ubyZ1bml0cz1tZXRyaWMmdHlwZT1hY2N1cmF0ZSZBUFBJRD1mOWNkOWZhMmM0MjdjM2IxMTVlODdlNDg2MjYxOWM1YycsXHJcbiAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xyXG4gICAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVXZWF0aGVyT3ZlcmxheShwb3NpdGlvbiwgaW5kZXgpIHtcclxuICAgICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnd2VhdGhlci1wb3B1cCAgbWRsLXNoYWRvdy0tNmRwJyk7XHJcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBpbmRleCk7XHJcbiAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJywgJ3dlYXRoZXInKTtcclxuICAgICAgICAgIHJldHVybiBuZXcgb2wuT3ZlcmxheSh7ZWxlbWVudDogZWxlbSwgcG9zaXRpb246IHBvc2l0aW9ufSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvYmpzID0gZGF0YS5saXN0O1xyXG4gICAgICAgIHZhciBvdmVybGF5LFxyXG4gICAgICAgICAgICBjb29yZGluYXRlcztcclxuICAgICAgICAkLmVhY2gob2JqcywgZnVuY3Rpb24oaW5kZXgsIHZhbCkge1xyXG4gICAgICAgICAgY29vcmRpbmF0ZXMgPSBvbC5wcm9qLnRyYW5zZm9ybShbXHJcbiAgICAgICAgICAgIHZhbC5jb29yZC5sb24sIHZhbC5jb29yZC5sYXRcclxuICAgICAgICAgIF0sICdFUFNHOjQzMjYnLCAnRVBTRzozODU3Jyk7XHJcbiAgICAgICAgICBvdmVybGF5ID0gY3JlYXRlV2VhdGhlck92ZXJsYXkoY29vcmRpbmF0ZXMsIGluZGV4KTtcclxuICAgICAgICAgIG1hcC5hZGRPdmVybGF5KG92ZXJsYXkpO1xyXG4gICAgICAgICAgb3ZlcmxheS5zZXQoJ25hbWUnLCAnd2VhdGhlcicpO1xyXG4gICAgICAgICAgd2VhdGhlckRhdGEgPSB7XHJcbiAgICAgICAgICAgICduYW1lJzogdmFsLm5hbWUsXHJcbiAgICAgICAgICAgICd0ZW1wJzogdmFsLm1haW4udGVtcCxcclxuICAgICAgICAgICAgJ3ByZXNzdXJlJzogdmFsLm1haW4ucHJlc3N1cmUsXHJcbiAgICAgICAgICAgICdodW1pZGl0eSc6IHZhbC5tYWluLmh1bWlkaXR5XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgZHVzdC5yZW5kZXIoJ3dlYXRoZXJQb3B1cCcsIHdlYXRoZXJEYXRhLCBmdW5jdGlvbihlcnIsIG91dCkge1xyXG4gICAgICAgICAgICAkKCcjJyArIGluZGV4KS5odG1sKG91dCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyB0b2FzdHIuZXJyb3IoXCLOlM61zr0gzrLPgc6tzrjOt866zrHOvSDPgM67zrfPgc6/z4bOv8+Bzq/Otc+CIM6zzrnOsSDPhM65z4IgzrrOsc65z4HOuc66zq3PgiDPg8+Fzr3OuM6uzrrOtc+CIVwiKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpID09PSBmYWxzZSkge1xyXG4gICAgICBtYXAuZ2V0T3ZlcmxheXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG92bCkge1xyXG4gICAgICAgIGlmIChvdmwuZ2V0KCduYW1lJykgPT09ICd3ZWF0aGVyJykge1xyXG4gICAgICAgICAgKCQob3ZsLmdldEVsZW1lbnQoKSkucGFyZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgJChvdmwuZ2V0RWxlbWVudCgpKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KCkpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
