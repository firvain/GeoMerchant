function getIconType(e){var t={Apartment:function(){return"apartment"},Store:function(){return"store"},"Detached House":function(){return"detached"}};return t[e]()}function getIconPath(e){var t={"true":function(){return"./images/pins/sale/"},"false":function(){return"./images/pins/rent/"}};return t[e]()}function createPropertyStyle(e){var t;return t=getIconPath(e.get("sale"))+getIconType(e.get("estatetype_en"))+"-48.png",new ol.style.Style({geometry:e.getGeometry(),image:new ol.style.Icon({src:t,anchorOrigin:"bottom-left",anchor:[.5,0],scale:1})})}function propertyStyleFunction(e,t){var s,o,n=e.get("features").length;return n>1?s=[new ol.style.Style({image:new ol.style.Circle({radius:20,stroke:new ol.style.Stroke({color:[156,39,176,1],width:5}),fill:new ol.style.Fill({color:[68,138,255,.8]})}),text:new ol.style.Text({text:n.toString(),fill:new ol.style.Fill({color:"#FFFFFF"})}),zIndex:101})]:(o=e.get("features")[0],s=[createPropertyStyle(o)]),s}function filteredEsateStyle(e,t){var s;return s=getIconPath(e.get("sale"))+getIconType(e.get("estatetype_en"))+"-64.png",styleCache=[new ol.style.Style({image:new ol.style.Icon({src:s,anchorOrigin:"bottom-left",anchor:[.5,0],scale:1})})]}function addInteraction(){selectSource.clear(),draw=new ol.interaction.Draw({source:selectSource,type:"LineString",geometryFunction:geometryFunction,maxPoints:2}),draw.on("drawstart",function(){selectSource.clear()}),draw.on("drawend",function(){map.removeInteraction(draw)}),map.addInteraction(draw)}function geometryFunction(e,t){t||(t=new ol.geom.Polygon(null));var s=e[0],o=e[1];return t.setCoordinates([[s,[s[0],o[1]],o,[o[0],s[1]],s]]),t}function handleInfo(e){var t,s,o=(e.coordinate,{}),n={};map.removeInteraction(draw),e.preventDefault(),o.title=n,"el"===lang?(n.gid="Κωδικός Ιδιοκτησίας",n.type="Είδος Ιδιοκτησίας",n.listing_type="Τύπος Αγγελίας",n.area="Εμβαδό",n.address="Διευθυνση",n.bedrooms="Υπνοδωμάτια",n.price="Τιμή",n.isnew="Νεόδμητο",n.parking="Στάθμεση",n.furnished="Επιπλωμένο",n.pets="Κατοικίδια",n.view="Θέα",n.heating="Θέρμανση",n.cooling="Ψύξη",n.contactInfo="Στοιχεία Επικοινωνίας",n.name="Όνομα",n.lastname="Επίθετο",n.phone="Τηλέφωνο",n.email="Ηλεκτρονική Διεύθυνση"):(n.gid="Estate Code",n.type="Property Type",n.listing_type="Listing Type",n.area="Size",n.address="Address",n.bedrooms="Bedrooms",n.price="Price",n.isnew="Newly Build",n.parking="Parking",n.furnished="Furnished",n.pets="Pets Allowed",n.view="View",n.heating="Heating",n.cooling="Cooling",n.contactInfo="Contact Info",n.name="Name",n.lastname="Last Name",n.phone="Telephone",n.email="Email"),t=map.forEachFeatureAtPixel(e.pixel,function(e,t){return{feature:e,layer:t}},this,function(e){return"estates"===e.get("id")||"filteredEstates"===e.get("id")?!0:void 0},this),t?"estates"===t.layer.get("id")&&1===t.feature.get("features").length?(s=t.feature.getProperties().features[0],console.log(s),createPSAandCard(s,o)):"filteredEstates"===t.layer.get("id")&&(s=t.feature,createPSAandCard(s,o)):PSA.setSource(null)}function createPSAandCard(e,t){var s={};s.gid=e.get("gid"),s.area=e.get("estatearea"),"el"===lang?(s.type=e.get("estatetype"),s.address=e.get("street_el")+" "+e.get("street_number"),s.name=e.get("name_el"),s.lastname=e.get("lastname_el"),e.get("sale")===!0?s.listing_type="Πώληση":s.listing_type="Ενοικίαση",s.btns={info:"πληροφοριες",close:"κλεισιμο"}):(s.type=e.get("estatetype_en"),s.address=e.get("street_en")+" "+e.get("street_number"),s.name=e.get("name_en"),s.lastname=e.get("lastname_en"),e.get("sale")===!0?s.listing_type="Sale":s.listing_type="Rent",s.btns={info:"info",close:"close"}),s.bedrooms=e.get("bedrooms"),s.price=e.get("price"),s.isnew=e.get("isnew"),s.parking=e.get("parking"),s.furnished=e.get("furnished"),s.pets=e.get("pets"),s.view=e.get("view"),s.heating=e.get("heating"),s.cooling=e.get("cooling"),s.phone=e.get("phone1"),s.email=e.get("email"),s.coordinate=e.get("geometry").getCoordinates();var o=new ol.source.Vector({attributions:[new ol.Attribution({html:'POI by <a href="http://www.terracognita.gr/">Terra Cognita</a>'})],format:geoJSONFormat,loader:function(e,t,o){var n="http://127.0.0.1:3000/db/uses/"+s.gid,i=this;$.ajax({url:n,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e.property_services_analysis,{featureProjection:"EPSG:3857"}),s=new ol.style.Style({fill:new ol.style.Fill({color:[156,39,176,.1]})});t[0].setStyle(s),i.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.all});PSA.setSource(o),map.getView().setCenter(s.coordinate),map.getView().setResolution(1.2),t.feature=s,dust.render("estateCards",t,function(e,s){$(".estate-cards").html(s),$(".mdl-card__title").css("background-image","url(http://res.cloudinary.com/firvain/image/upload/w_432,c_scale/"+t.feature.gid+".jpg)"),$(".estate-cards").addClass("estate-cards-active")}),$('a[href="#openModal"]').click(function(){dust.render("modalInfo",t,function(e,s){$(".modal-content").html(s),$(".big-image").css("background-image","url(http://res.cloudinary.com/firvain/image/upload/h_222,c_scale/"+t.feature.gid+".jpg)")})}),$('a[href="#closeEstateCard"]').click(function(){$(".estate-cards").removeClass("estate-cards-active")})}function handleSelect(){"use strict";var e=function(e){this.element_=e,this.setDefaults_(),this.init()};window.MaterialSelectfield=e,e.prototype.CssClasses_={LABEL:"mdl-selectfield__label",SELECT:"mdl-selectfield__select",SELECTED_BOX:"mdl-selectfield__box",SELECTED_BOX_VALUE:"mdl-selectfield__box-value",LIST_OPTION_BOX:"mdl-selectfield__list-option-box",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",IS_SELECTED:"is-selected"},e.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},e.prototype.setDefaults_=function(){this.options_=[],this.optionsMap_={},this.optionsArr_=[],this.closing_=!0,this.keyDownTimerId_=null},e.prototype.onFocus_=function(e){this.closing_&&this.show_(e)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onSelected_=function(e){if(e.target&&"LI"==e.target.nodeName){var t=this.options_[e.target.getAttribute("data-value")];this.selectedOptionValue_.textContent=t.textContent,t.selected=!0;var s;if("function"==typeof window.Event?s=new Event("change",{bubbles:!0,cancelable:!0}):"function"==typeof document.createEvent&&(s=document.createEvent("HTMLEvents"),s.initEvent("change",!0,!0)),s&&this.select_.dispatchEvent(s),""!==t.textContent){this.element_.classList.add(this.CssClasses_.IS_DIRTY);var o=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);o&&o.classList.remove(this.CssClasses_.IS_SELECTED),e.target.classList.add(this.CssClasses_.IS_SELECTED)}else{this.element_.classList.remove(this.CssClasses_.IS_DIRTY);var o=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);o&&o.classList.remove(this.CssClasses_.IS_SELECTED)}}},e.prototype.onclick_=function(e){this.toggle(e)},e.prototype.update_=function(){var e;if(this.options_&&this.options_.length>0)for(var t=0;t<this.options_.length;t++){var s=this.options_[t];if(s.selected&&""!==s.value){var e=!0;this.element_.classList.add(this.CssClasses_.IS_DIRTY),this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED).classList.remove(this.CssClasses_.IS_SELECTED),this.listOptionBox_.querySelectorAll("LI")[t].classList.add(this.CssClasses_.IS_SELECTED)}}e||this.element_.classList.remove(this.CssClasses_.IS_DIRTY),this.checkDisabled(),this.checkValidity()},e.prototype.checkValidity=function(){this.select_.validity&&(this.select_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDisabled=function(){this.select_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.disable=function(){this.select_.disabled=!0,this.update_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.select_.disabled=!1,this.update_()},e.prototype.enable=e.prototype.enable,e.prototype.toggle=function(e){this.element_.classList.contains(this.CssClasses_.IS_FOCUSED)?this.hide_():this.show_(e)},e.prototype.show_=function(e){if(this.checkDisabled(),!this.element_.classList.contains(this.CssClasses_.IS_DISABLED)){this.element_.classList.add(this.CssClasses_.IS_FOCUSED),this.closing_=!1,this.strSearch_="";var t=this.listOptionBox_.querySelector("."+this.CssClasses_.IS_SELECTED);t&&(t.parentElement.parentElement.scrollTop=t.offsetTop),this.boundKeyDownHandler_=this.onKeyDown_.bind(this),this.boundClickDocHandler_=function(t){t===e||this.closing_||t.target.parentNode===this.element_||t.target.parentNode===this.selectedOption_||this.hide_()}.bind(this),document.addEventListener("keydown",this.boundKeyDownHandler_),document.addEventListener("click",this.boundClickDocHandler_)}},e.prototype.onKeyDown_=function(e){var t=this.listOptionBox_.querySelectorAll("li:not([disabled])");if(t&&t.length>0&&!this.closing_){var s,o=Array.prototype.slice.call(t).indexOf(this.listOptionBox_.querySelectorAll("."+this.CssClasses_.IS_SELECTED)[0]);if(e.keyCode===this.Keycodes_.UP_ARROW||e.keyCode===this.Keycodes_.DOWN_ARROW)-1!=o&&t[o].classList.remove(this.CssClasses_.IS_SELECTED),e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),s=o>0?t[o-1]:t[t.length-1]):(e.preventDefault(),s=t.length>o+1?t[o+1]:t[0]),s&&(s.classList.add(this.CssClasses_.IS_SELECTED),this.listOptionBox_.scrollTop=s.offsetTop,this.lastSelectedItem_=s);else if(e.keyCode!==this.Keycodes_.SPACE&&e.keyCode!==this.Keycodes_.ENTER||!this.lastSelectedItem_){if(e.keyCode===this.Keycodes_.ESCAPE){e.preventDefault();var n;document.createEvent?(n=document.createEvent("MouseEvent"),n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):n=new MouseEvent("mousedown"),document.body.dispatchEvent(n),document.createEvent||(n=new MouseEvent("mouseup"),document.body.dispatchEvent(n)),document.body.click()}else if(this.validKeyCode_(e.keyCode)){var i=e.which||e.keyCode;this.strSearch_+=String.fromCharCode(i),this.keyDownTimerId_&&clearTimeout(this.keyDownTimerId_),this.keyDownTimerId_=setTimeout(function(){this.keyDownTimerId_=null,this.strSearch_=""}.bind(this),300);var a=this.searchByStrIndex_(0);a>-1&&(-1!=o&&t[o].classList.remove(this.CssClasses_.IS_SELECTED),s=t[a],s.classList.add(this.CssClasses_.IS_SELECTED),this.listOptionBox_.scrollTop=s.offsetTop,this.lastSelectedItem_=s)}}else{e.preventDefault();var n;document.createEvent?(n=document.createEvent("MouseEvent"),n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):n=new MouseEvent("mousedown"),this.lastSelectedItem_.dispatchEvent(n),document.createEvent||(n=new MouseEvent("mouseup"),this.lastSelectedItem_.dispatchEvent(n))}}},e.prototype.searchByStrIndex_=function(e){for(var t=this.strSearch_,s=new RegExp("^"+t+"."),o=-1,n=this.optionsArr_,i=0;i<n.length;i++)if(s.test(n[i])){o=i;break}return-1!=o?this.optionsMap_[this.optionsArr_[o]]:-1},e.prototype.validKeyCode_=function(e){return e>47&&58>e||32==e||13==e||e>64&&91>e||e>95&&112>e||e>185&&193>e||e>218&&223>e},e.prototype.hide_=function(){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED),this.closing_=!0,this.strSearch_="",this.boundClickDocHandler_&&document.removeEventListener("click",this.boundClickDocHandler_),this.boundKeyDownHandler_&&document.removeEventListener("keydown",this.boundKeyDownHandler_),this.update_()},e.prototype.init=function(){if(this.element_){this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.select_=this.element_.querySelector("."+this.CssClasses_.SELECT);var e=document.createElement("div");e.classList.add(this.CssClasses_.SELECTED_BOX),e.tabIndex=1,this.selectedOption_=e;var t=document.createElement("i");t.classList.add("material-icons"),t.tabIndex=-1,t.textContent="keyboard_arrow_down",e.appendChild(t);var s=document.createElement("span");s.classList.add(this.CssClasses_.SELECTED_BOX_VALUE),s.tabIndex=0,e.appendChild(s),this.selectedOptionValue_=s,this.element_.appendChild(this.selectedOption_);var o=this.element_.classList.contains(this.CssClasses_.IS_INVALID);if(this.select_&&(this.options_=this.select_.querySelectorAll("option"),this.select_.style.visibility="hidden",this.options_.length)){this.boundSelectedHandler=this.onSelected_.bind(this);var n=document.createElement("div");n.classList.add(this.CssClasses_.LIST_OPTION_BOX),n.tabIndex="-1";var i=document.createElement("ul");i.tabIndex="-1";for(var a=0;a<this.options_.length;a++){var r=this.options_[a],l=(r.textContent||"").toUpperCase().replace(/( )|(\n)/g,"");this.optionsMap_[l]=a,this.optionsArr_.push(l);var c=document.createElement("li");c.textContent=r.textContent,c.setAttribute("data-value",a),c.tabIndex="-1",c.addEventListener("click",this.boundSelectedHandler),i.appendChild(c),r.selected&&""!==r.textContent&&(this.element_.classList.add(this.CssClasses_.IS_DIRTY),this.selectedOptionValue_.textContent=r.textContent,c.classList.add(this.CssClasses_.IS_SELECTED))}n.appendChild(i),this.element_.appendChild(n),this.listOptionBox_=n}this.boundClickHandler=this.onclick_.bind(this),this.element_.addEventListener("click",this.boundClickHandler),o&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.checkDisabled()}},e.prototype.mdlDowngrade_=function(){if(this.element_.removeEventListener("click",this.boundClickHandler),this.boundSelectedHandler&&this.options_.length)for(var e=this.listOptionBox_.querySelectorAll("li"),t=0;t<e.length;t++)e[t].removeEventListener("click",this.boundSelectedHandler)},e.prototype.mdlDowngrade=e.prototype.mdlDowngrade_,e.prototype.mdlDowngrade=e.prototype.mdlDowngrade,componentHandler.register({constructor:e,classAsString:"MaterialSelectfield",cssClass:"mdl-js-selectfield",widget:!0})}var $loading=$(".mdl-spinner"),center=[3677385,4120949],extent=[3590094,4102833,3855483,4261211],lang=document.documentElement.lang,styleCache={},geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326"}),bing=new ol.layer.Tile({visible:!0,source:new ol.source.BingMaps({key:"Ak2Gq8VUfICsPpuf7LRANXmXt2sHWmSLPhohmVLFtFIEwYjs_5MCyAhAFwRSVpLj",imagerySet:"Aerial"}),maxZoom:19,crossOrigin:"anonymous",preload:1/0,id:"bing"}),mapbox=new ol.layer.Tile({source:new ol.source.XYZ({attributions:[new ol.Attribution({html:'<a href="https://www.mapbox.com/about/maps/" target="_blank">&copy; Mapbox &copy; OpenStreetMap</a>'})],url:"https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA"}),id:"mapbox"}),propertySource=new ol.source.Vector({format:geoJSONFormat,loader:function(e,t,s){console.log(t);var o=ol.proj.transformExtent(e,"EPSG:3857","EPSG:4326"),n="http://127.0.0.1:3000/db/property?bbox[x1]="+o[0]+"&bbox[y1]="+o[1]+"&bbox[x2]="+o[2]+"&bbox[y2]="+o[3],i=this;this.clear(),console.log(e),$.ajax({url:n,type:"GET",dataType:"json"}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});i.addFeatures(t)}).fail(function(){console.log("error")})},strategy:ol.loadingstrategy.bbox}),propertyClusterSource=new ol.source.Cluster({distance:40,source:propertySource,attributions:[new ol.Attribution({html:'All maps © <a href="http://www.terracognita.gr/">Terra Cognita</a>'})]}),property=new ol.layer.Vector({source:propertyClusterSource,id:"estates",visible:!0,style:propertyStyleFunction});property.setZIndex(2);var PSAStyleFunction=function(e,t){var s,o=e.get("style");return s="el"===lang?e.get("name_el"):e.get("name_en"),styleCache[o]||(styleCache=[new ol.style.Style({image:new ol.style.Icon({src:"../images/maki/renders/"+o+"-24.png",anchorOrigin:"bottom-left",anchor:[.5,.5],scale:1}),text:new ol.style.Text({text:s,stroke:new ol.style.Stroke({color:[156,39,176,.8],width:1}),offsetY:12})})]),styleCache},PSA=new ol.layer.Vector({style:PSAStyleFunction,maxResolution:3});PSA.setZIndex(1);var filteredEstates=new ol.layer.Vector({source:new ol.source.Vector({format:geoJSONFormat}),id:"filteredEstates",visible:!0,style:filteredEsateStyle});filteredEstates.setZIndex(2);var selectSource=new ol.source.Vector({}),selectBox=new ol.layer.Vector({source:selectSource,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(227, 72, 27, 0.2)"}),stroke:new ol.style.Stroke({color:"#E3481B",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#E3481B"})})})});selectBox.setZIndex(3);var map=new ol.Map({target:"map",layers:[mapbox,property,PSA,filteredEstates,selectBox],loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,renderer:"canvas",controls:ol.control.defaults({attributionOptions:{collapsible:!1,collapsed:!1}}).extend([new ol.control.ScaleLine({units:"metric"}),new ol.control.OverviewMap({className:"ol-overviewmap ol-custom-overviewmap",collapsible:!0,collapsed:!0,layers:[bing]}),new ol.control.ZoomToExtent({extent:extent})]),view:new ol.View({center:center,projection:"EPSG:3857",zoom:14,maxZoom:19,minZoom:10})});"el"===lang?(bing.set("name","Δορυφορική εικόνα"),mapbox.set("name","Χάρτης"),property.set("name","Ακίνητα")):(bing.set("name","Sattelite Image"),mapbox.set("name","Map"),property.set("name","Properties")),jQuery(document).ready(function(e){e(".spinner").addClass("visuallyhidden"),e(".mdl-spinner").removeClass("is-active"),handleSelect()}),$(document).ajaxStart(function(){$loading.addClass("is-active")}).ajaxStop(function(){$loading.removeClass("is-active")}),window.app||(window.app={});var app=window.app;app.filters=function(e){this.estateType=e.estateType,this.leaseType=void 0!==e.leaseType?e.leaseType:"Rent",this.startPrice=void 0!==e.startPrice?e.startPrice:0,this.endPrice=void 0!==e.endPrice?e.endPrice:2147483647,this.parking=void 0!==e.parking?e.parking:!1,this.furnished=void 0!==e.furnished?e.furnished:!1,this.heating=void 0!==e.heating?e.heating:!1,this.cooling=void 0!==e.cooling?e.cooling:!1,this.view=void 0!==e.view?e.view:!1},app.filters.prototype.createValidator=function(){var e=$("form[name=filters]").parsley();return e},app.filters.prototype.setDefaults=function(){var e;PSA.setSource(null),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},e=0===selectSource.getFeatures().length?ol.proj.transformExtent(extent,"EPSG:3857","EPSG:4326"):ol.proj.transformExtent(selectSource.getFeatures()[0].getGeometry().getExtent(),"EPSG:3857","EPSG:4326"),this.extent=e,this.p=this.createValidator()},app.filters.prototype.ajaxCall=function(){console.log(this.estateType),this.p.validate()===!0&&$.ajax({url:"http://127.0.0.1:3000/db/filteredproperty?bbox[x1]="+this.extent[0]+"&bbox[y1]="+this.extent[1]+"&bbox[x2]="+this.extent[2]+"&bbox[y2]="+this.extent[3],type:"GET",dataType:"json",data:{estateType:this.estateType,leaseType:this.leaseType,furnished:this.furnished,heating:this.heating,parking:this.parking,cooling:this.cooling,view:this.view,startPrice:this.startPrice,endPrice:this.endPrice}}).done(function(e){var t=geoJSONFormat.readFeatures(e,{featureProjection:"EPSG:3857"});t.length>0?(toastr.clear(),filteredEstates.getSource().clear(),filteredEstates.getSource().addFeatures(t),filteredEstates.setVisible(!0),property.setVisible(!1)):(toastr.error("No Info Found!"),filteredEstates.setVisible(!1),property.setVisible(!0))})},$("#invokeFilters").click(function(){var e,t={};t.estateType=$("#estateType").val(),t.leaseType=$("input[name=options]:checked").val(),t.startPrice=$("#startPrice").val(),t.endPrice=$("#endPrice").val(),t.parking=$("#checkbox-1").prop("checked"),t.furnished=$("#checkbox-2").prop("checked"),t.heating=$("#checkbox-3").prop("checked"),t.cooling=$("#checkbox-4").prop("checked"),t.view=$("#checkbox-5").prop("checked"),e=new app.filters(t),e.setDefaults(),e.ajaxCall()}),$("#clearFilters").click(function(){var e=$("#estateType option").val();$("label[for=option-1]").addClass("is-checked"),$("label[for=option-2]").removeClass("is-checked"),$("label[for=checkbox-1]").removeClass("is-checked"),$("label[for=checkbox-2]").removeClass("is-checked"),$("label[for=checkbox-3]").removeClass("is-checked"),$("label[for=checkbox-4]").removeClass("is-checked"),$("label[for=checkbox-5]").removeClass("is-checked"),$("label[for=checkbox-6]").removeClass("is-checked"),$(".mdl-selectfield__box-value").html(e),filteredEstates.getSource().clear(),property.setVisible(!0),PSA.setSource(null),selectSource.clear(),map.removeInteraction(draw)});var draw;$("#checkbox-6").click(function(){this.checked?addInteraction():(map.removeInteraction(draw),selectSource.clear())}),function(){var e=new ol.Geolocation({projection:map.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),t=new ol.Feature;e.on("change:accuracyGeometry",function(){t.setGeometry(e.getAccuracyGeometry())});var s=new ol.Feature;s.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#3399CC"}),stroke:new ol.style.Stroke({color:"#fff",width:2})})})),e.on("change:position",function(){var t=e.getPosition();s.setGeometry(t?new ol.geom.Point(t):null)}),featuresOverlaySource=new ol.source.Vector({});new ol.layer.Vector({map:map,source:featuresOverlaySource});$(".geolocation").on("change",function(o){o.preventDefault(),$(this).prop("checked")===!0?(e.setTracking(!0),featuresOverlaySource.addFeatures([s,t])):(e.setTracking(!1),featuresOverlaySource.clear())})}(),$(".info").on("change",function(e){e.preventDefault(),PSA.setSource(null),$(this).prop("checked")===!0?map.on("click",handleInfo):map.un("click",handleInfo)}),function(){function e(e){e.preventDefault();var o=i.getSource().getFeatures().length,n=e.coordinate;if(0===o)s.setGeometry(new ol.geom.Point(n)),s.setId("first"),i.getSource().addFeature(s),a[0]=n[0],a[1]=n[1];else if(1===o){var r=s.clone();r.setGeometry(new ol.geom.Point(n)),r.setId("second"),i.getSource().addFeature(r),a[2]=n[0],a[3]=n[1],t(a)}else i.getSource().clear()}function t(e){var t=ol.proj.transform([e[0],e[1]],"EPSG:3857","EPSG:4326"),s=ol.proj.transform([e[2],e[3]],"EPSG:3857","EPSG:4326"),o=t[0],n=t[1],a=s[0],r=s[1];$.ajax({url:"https://api.mapbox.com/v4/directions/mapbox.driving/"+o+","+n+";"+a+","+r+".json?alternatives=false&access_token=pk.eyJ1IjoiZmlydmFpbiIsImEiOiJlOWYyYTM0NThiNWM0YjJjODJjNDE4ODQzNzA2MGQyNiJ9.-NVDO27Hzt-w_nQosUPfLA",type:"GET",dataType:"json"}).done(function(e){var t={};t.type="Feature",t.geometry=e.routes[0].geometry,i.getSource().addFeatures(geoJSONFormat.readFeatures(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})),map.getView().fit(i.getSource().getExtent(),map.getSize())}).fail(function(){}).always(function(){})}var s=new ol.Feature,o=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,scale:1,src:"../images/map-icons/pins/24/pin1.png",snapToPixel:!1}),zIndex:100});s.setStyle(o);var n=new ol.style.Style({stroke:new ol.style.Stroke({color:"#408080",width:5,lineDash:[4,4]})}),i=new ol.layer.Vector({map:map,source:new ol.source.Vector,style:n,id:"route",nameEl:"Διαδρομή",NameEn:"Route"}),a=[];geoJSONFormat=new ol.format.GeoJSON({defaultDataProjection:"EPSG:4326",geometryName:"geometry"}),$(".marker").on("change",function(t){t.preventDefault(),$(this).prop("checked")===!0?map.on("singleclick",e):(map.un("singleclick",e),i.getSource().clear())})}(),function(){$(".weather").change(function(){if($(this).prop("checked")===!0){map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())});var e=ol.proj.transform(map.getView().getCenter(),"EPSG:3857","EPSG:4326"),t=e[1],s=e[0];$.ajax({url:"http://api.openweathermap.org/data/2.5/find?lat="+t+"&lon="+s+"&cnt=5&cluster=no&units=metric&type=accurate&APPID=f9cd9fa2c427c3b115e87e4862619c5c",type:"GET",dataType:"json"}).done(function(e){function t(e,t){var s=document.createElement("div");return s.setAttribute("class","weather-popup  mdl-shadow--6dp"),s.setAttribute("id",t),s.setAttribute("data-name","weather"),new ol.Overlay({element:s,position:e})}var s,o,n=e.list;$.each(n,function(e,n){o=ol.proj.transform([n.coord.lon,n.coord.lat],"EPSG:4326","EPSG:3857"),s=t(o,e),map.addOverlay(s),s.set("name","weather"),weatherData={name:n.name,temp:n.main.temp,pressure:n.main.pressure,humidity:n.main.humidity},dust.render("weatherPopup",weatherData,function(t,s){$("#"+e).html(s)})})}).fail(function(){})}else $(this).prop("checked")===!1&&map.getOverlays().forEach(function(e){"weather"===e.get("name")&&($(e.getElement()).parent().remove(),$(e.getElement()).remove())})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyIsImZpbHRlcnMuanMiLCJpbmZvLmpzIiwibWRsLXNlbGVjdGZpZWxkLmpzIiwiZ2VvbG9jYXRpb24uanMiLCJyb3V0aW5nLmpzIiwid2VhdGhlci5qcyJdLCJuYW1lcyI6WyJnZXRJY29uVHlwZSIsImVzdGF0ZVR5cGUiLCJpY29uVHlwZSIsIkFwYXJ0bWVudCIsIlN0b3JlIiwiRGV0YWNoZWQgSG91c2UiLCJnZXRJY29uUGF0aCIsImxpc3RpbmdUeXBlIiwiaWNvblBhdGgiLCJ0cnVlIiwiZmFsc2UiLCJjcmVhdGVQcm9wZXJ0eVN0eWxlIiwiZmVhdHVyZSIsInNyYyIsImdldCIsIm9sIiwic3R5bGUiLCJTdHlsZSIsImdlb21ldHJ5IiwiZ2V0R2VvbWV0cnkiLCJpbWFnZSIsIkljb24iLCJhbmNob3JPcmlnaW4iLCJhbmNob3IiLCJzY2FsZSIsInByb3BlcnR5U3R5bGVGdW5jdGlvbiIsInJlc29sdXRpb24iLCJvcmlnaW5hbEZlYXR1cmUiLCJzaXplIiwibGVuZ3RoIiwiQ2lyY2xlIiwicmFkaXVzIiwic3Ryb2tlIiwiU3Ryb2tlIiwiY29sb3IiLCJ3aWR0aCIsImZpbGwiLCJGaWxsIiwidGV4dCIsIlRleHQiLCJ0b1N0cmluZyIsInpJbmRleCIsImZpbHRlcmVkRXNhdGVTdHlsZSIsInN0eWxlQ2FjaGUiLCJhZGRJbnRlcmFjdGlvbiIsInNlbGVjdFNvdXJjZSIsImNsZWFyIiwiZHJhdyIsImludGVyYWN0aW9uIiwiRHJhdyIsInNvdXJjZSIsInR5cGUiLCJnZW9tZXRyeUZ1bmN0aW9uIiwibWF4UG9pbnRzIiwib24iLCJtYXAiLCJyZW1vdmVJbnRlcmFjdGlvbiIsImNvb3JkaW5hdGVzIiwiZ2VvbSIsIlBvbHlnb24iLCJzdGFydCIsImVuZCIsInNldENvb3JkaW5hdGVzIiwiaGFuZGxlSW5mbyIsImV2dCIsImNsaWNrZWRGZWF0dXJlIiwiZiIsIm9iaiIsImNvb3JkaW5hdGUiLCJ0aXRsZSIsInByZXZlbnREZWZhdWx0IiwibGFuZyIsImdpZCIsImxpc3RpbmdfdHlwZSIsImFyZWEiLCJhZGRyZXNzIiwiYmVkcm9vbXMiLCJwcmljZSIsImlzbmV3IiwicGFya2luZyIsImZ1cm5pc2hlZCIsInBldHMiLCJ2aWV3IiwiaGVhdGluZyIsImNvb2xpbmciLCJjb250YWN0SW5mbyIsIm5hbWUiLCJsYXN0bmFtZSIsInBob25lIiwiZW1haWwiLCJmb3JFYWNoRmVhdHVyZUF0UGl4ZWwiLCJwaXhlbCIsImxheWVyIiwidGhpcyIsImdldFByb3BlcnRpZXMiLCJmZWF0dXJlcyIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVQU0FhbmRDYXJkIiwiUFNBIiwic2V0U291cmNlIiwiYnRucyIsImluZm8iLCJjbG9zZSIsImdldENvb3JkaW5hdGVzIiwiUFNBU291cmNlIiwiVmVjdG9yIiwiYXR0cmlidXRpb25zIiwiQXR0cmlidXRpb24iLCJodG1sIiwiZm9ybWF0IiwiZ2VvSlNPTkZvcm1hdCIsImxvYWRlciIsImV4dGVudCIsInByb2plY3Rpb24iLCJ1cmwiLCJzZWxmIiwiJCIsImFqYXgiLCJkYXRhVHlwZSIsImRvbmUiLCJyZXNwb25zZSIsInJlYWRGZWF0dXJlcyIsInByb3BlcnR5X3NlcnZpY2VzX2FuYWx5c2lzIiwiZmVhdHVyZVByb2plY3Rpb24iLCJzZXRTdHlsZSIsImFkZEZlYXR1cmVzIiwiZmFpbCIsInN0cmF0ZWd5IiwibG9hZGluZ3N0cmF0ZWd5IiwiYWxsIiwiZ2V0VmlldyIsInNldENlbnRlciIsInNldFJlc29sdXRpb24iLCJkdXN0IiwicmVuZGVyIiwiZXJyIiwib3V0IiwiY3NzIiwiYWRkQ2xhc3MiLCJjbGljayIsInJlbW92ZUNsYXNzIiwiaGFuZGxlU2VsZWN0IiwiZSIsImVsZW1lbnRfIiwic2V0RGVmYXVsdHNfIiwiaW5pdCIsIndpbmRvdyIsIk1hdGVyaWFsU2VsZWN0ZmllbGQiLCJwcm90b3R5cGUiLCJDc3NDbGFzc2VzXyIsIkxBQkVMIiwiU0VMRUNUIiwiU0VMRUNURURfQk9YIiwiU0VMRUNURURfQk9YX1ZBTFVFIiwiTElTVF9PUFRJT05fQk9YIiwiSVNfRElSVFkiLCJJU19GT0NVU0VEIiwiSVNfRElTQUJMRUQiLCJJU19JTlZBTElEIiwiSVNfVVBHUkFERUQiLCJJU19TRUxFQ1RFRCIsIktleWNvZGVzXyIsIkVOVEVSIiwiRVNDQVBFIiwiU1BBQ0UiLCJVUF9BUlJPVyIsIkRPV05fQVJST1ciLCJvcHRpb25zXyIsIm9wdGlvbnNNYXBfIiwib3B0aW9uc0Fycl8iLCJjbG9zaW5nXyIsImtleURvd25UaW1lcklkXyIsIm9uRm9jdXNfIiwic2hvd18iLCJvbkJsdXJfIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwib25TZWxlY3RlZF8iLCJ0YXJnZXQiLCJub2RlTmFtZSIsInQiLCJnZXRBdHRyaWJ1dGUiLCJzZWxlY3RlZE9wdGlvblZhbHVlXyIsInRleHRDb250ZW50Iiwic2VsZWN0ZWQiLCJzIiwiRXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRvY3VtZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJzZWxlY3RfIiwiZGlzcGF0Y2hFdmVudCIsImFkZCIsImkiLCJsaXN0T3B0aW9uQm94XyIsInF1ZXJ5U2VsZWN0b3IiLCJvbmNsaWNrXyIsInRvZ2dsZSIsInVwZGF0ZV8iLCJ2YWx1ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGVja0Rpc2FibGVkIiwiY2hlY2tWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJkaXNhYmxlZCIsImRpc2FibGUiLCJlbmFibGUiLCJjb250YWlucyIsImhpZGVfIiwic3RyU2VhcmNoXyIsInBhcmVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJvZmZzZXRUb3AiLCJib3VuZEtleURvd25IYW5kbGVyXyIsIm9uS2V5RG93bl8iLCJiaW5kIiwiYm91bmRDbGlja0RvY0hhbmRsZXJfIiwicGFyZW50Tm9kZSIsInNlbGVjdGVkT3B0aW9uXyIsImFkZEV2ZW50TGlzdGVuZXIiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsImluZGV4T2YiLCJrZXlDb2RlIiwibGFzdFNlbGVjdGVkSXRlbV8iLCJvIiwiaW5pdE1vdXNlRXZlbnQiLCJNb3VzZUV2ZW50IiwiYm9keSIsInZhbGlkS2V5Q29kZV8iLCJuIiwid2hpY2giLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibCIsInNlYXJjaEJ5U3RySW5kZXhfIiwiUmVnRXhwIiwidGVzdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsYWJlbF8iLCJjcmVhdGVFbGVtZW50IiwidGFiSW5kZXgiLCJhcHBlbmRDaGlsZCIsInZpc2liaWxpdHkiLCJib3VuZFNlbGVjdGVkSGFuZGxlciIsImEiLCJkIiwidG9VcHBlckNhc2UiLCJyZXBsYWNlIiwicHVzaCIsImMiLCJzZXRBdHRyaWJ1dGUiLCJib3VuZENsaWNrSGFuZGxlciIsIm1kbERvd25ncmFkZV8iLCJtZGxEb3duZ3JhZGUiLCJjb21wb25lbnRIYW5kbGVyIiwicmVnaXN0ZXIiLCJjb25zdHJ1Y3RvciIsImNsYXNzQXNTdHJpbmciLCJjc3NDbGFzcyIsIndpZGdldCIsIiRsb2FkaW5nIiwiY2VudGVyIiwiZG9jdW1lbnRFbGVtZW50IiwiR2VvSlNPTiIsImRlZmF1bHREYXRhUHJvamVjdGlvbiIsImJpbmciLCJUaWxlIiwidmlzaWJsZSIsIkJpbmdNYXBzIiwia2V5IiwiaW1hZ2VyeVNldCIsIm1heFpvb20iLCJjcm9zc09yaWdpbiIsInByZWxvYWQiLCJJbmZpbml0eSIsImlkIiwibWFwYm94IiwiWFlaIiwicHJvcGVydHlTb3VyY2UiLCJlcHNnNDMyNkV4dGVudCIsInByb2oiLCJ0cmFuc2Zvcm1FeHRlbnQiLCJiYm94IiwicHJvcGVydHlDbHVzdGVyU291cmNlIiwiQ2x1c3RlciIsImRpc3RhbmNlIiwicHJvcGVydHkiLCJzZXRaSW5kZXgiLCJQU0FTdHlsZUZ1bmN0aW9uIiwic3ltYm9sIiwib2Zmc2V0WSIsIm1heFJlc29sdXRpb24iLCJmaWx0ZXJlZEVzdGF0ZXMiLCJzZWxlY3RCb3giLCJNYXAiLCJsYXllcnMiLCJsb2FkVGlsZXNXaGlsZUFuaW1hdGluZyIsImxvYWRUaWxlc1doaWxlSW50ZXJhY3RpbmciLCJyZW5kZXJlciIsImNvbnRyb2xzIiwiY29udHJvbCIsImRlZmF1bHRzIiwiYXR0cmlidXRpb25PcHRpb25zIiwiY29sbGFwc2libGUiLCJjb2xsYXBzZWQiLCJleHRlbmQiLCJTY2FsZUxpbmUiLCJ1bml0cyIsIk92ZXJ2aWV3TWFwIiwiY2xhc3NOYW1lIiwiWm9vbVRvRXh0ZW50IiwiVmlldyIsInpvb20iLCJtaW5ab29tIiwic2V0IiwialF1ZXJ5IiwicmVhZHkiLCJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFwcCIsImZpbHRlcnMiLCJvcHRpb25zIiwibGVhc2VUeXBlIiwidW5kZWZpbmVkIiwic3RhcnRQcmljZSIsImVuZFByaWNlIiwiY3JlYXRlVmFsaWRhdG9yIiwicCIsInBhcnNsZXkiLCJzZXREZWZhdWx0cyIsInRvYXN0ciIsImNsb3NlQnV0dG9uIiwiZGVidWciLCJuZXdlc3RPblRvcCIsInByb2dyZXNzQmFyIiwicG9zaXRpb25DbGFzcyIsInByZXZlbnREdXBsaWNhdGVzIiwib25jbGljayIsInNob3dEdXJhdGlvbiIsImhpZGVEdXJhdGlvbiIsInRpbWVPdXQiLCJleHRlbmRlZFRpbWVPdXQiLCJzaG93RWFzaW5nIiwiaGlkZUVhc2luZyIsInNob3dNZXRob2QiLCJoaWRlTWV0aG9kIiwiZ2V0RmVhdHVyZXMiLCJnZXRFeHRlbnQiLCJhamF4Q2FsbCIsInZhbGlkYXRlIiwiZGF0YSIsImdldFNvdXJjZSIsInNldFZpc2libGUiLCJlcnJvciIsInZhbCIsInByb3AiLCJvcmlnbmFsVmFsdWUiLCJjaGVja2VkIiwiZ2VvbG9jYXRpb24iLCJHZW9sb2NhdGlvbiIsImdldFByb2plY3Rpb24iLCJ0cmFja2luZ09wdGlvbnMiLCJtYXhpbXVtQWdlIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidGltZW91dCIsImFjY3VyYWN5RmVhdHVyZSIsIkZlYXR1cmUiLCJzZXRHZW9tZXRyeSIsImdldEFjY3VyYWN5R2VvbWV0cnkiLCJwb3NpdGlvbkZlYXR1cmUiLCJnZXRQb3NpdGlvbiIsIlBvaW50IiwiZmVhdHVyZXNPdmVybGF5U291cmNlIiwic2V0VHJhY2tpbmciLCJ1biIsImhhbmRsZU1hcmtlciIsImV2ZW50IiwiZmVhdHVyZUNvdW50IiwiZmVhdHVyZXNPdmVybGF5IiwibWFya2VyIiwic2V0SWQiLCJhZGRGZWF0dXJlIiwicm91dGVDb29yZHMiLCJjbG9uZSIsImNhbGxSb3V0ZSIsImZpcnN0IiwidHJhbnNmb3JtIiwic2Vjb25kIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyb3V0ZSIsInJvdXRlcyIsImRhdGFQcm9qZWN0aW9uIiwiZml0IiwiZ2V0U2l6ZSIsImFsd2F5cyIsImljb25TdHlsZSIsImFuY2hvclhVbml0cyIsImFuY2hvcllVbml0cyIsIm9wYWNpdHkiLCJzbmFwVG9QaXhlbCIsImZlYXR1cmVzT3ZlcmxheVN0eWxlIiwibGluZURhc2giLCJuYW1lRWwiLCJOYW1lRW4iLCJnZW9tZXRyeU5hbWUiLCJjaGFuZ2UiLCJnZXRPdmVybGF5cyIsImZvckVhY2giLCJvdmwiLCJnZXRFbGVtZW50IiwicGFyZW50IiwiZ2V0Q2VudGVyIiwibGF0IiwibG9uIiwiY3JlYXRlV2VhdGhlck92ZXJsYXkiLCJwb3NpdGlvbiIsImluZGV4IiwiZWxlbSIsIk92ZXJsYXkiLCJlbGVtZW50Iiwib3ZlcmxheSIsIm9ianMiLCJsaXN0IiwiZWFjaCIsImNvb3JkIiwiYWRkT3ZlcmxheSIsIndlYXRoZXJEYXRhIiwidGVtcCIsIm1haW4iLCJwcmVzc3VyZSIsImh1bWlkaXR5Il0sIm1hcHBpbmdzIjoiQUE2QkEsUUFBQUEsYUFBQUMsR0FDQSxHQUFBQyxJQUNBQyxVQUFBLFdBQ0EsTUFBQSxhQUVBQyxNQUFBLFdBQ0EsTUFBQSxTQUVBQyxpQkFBQSxXQUNBLE1BQUEsWUFHQSxPQUFBSCxHQUFBRCxLQUdBLFFBQUFLLGFBQUFDLEdBQ0EsR0FBQUMsSUFDQUMsT0FBQSxXQUNBLE1BQUEsdUJBRUFDLFFBQUEsV0FDQSxNQUFBLHVC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QTZFLEtBQUFFLFVBRUFuVCxLQUFBQyxPQUFBLGVBQUE4UyxZQUFBLFNBQUE3UyxFQUFBQyxHQUNBcEIsRUFBQSxJQUFBc1QsR0FBQTlULEtBQUE0QixTQUdBVixLQUFBLGtCQUdBVixHQUFBeEIsTUFBQThRLEtBQUEsY0FBQSxHQUNBcFQsSUFBQTBXLGNBQUFDLFFBQUEsU0FBQUMsR0FDQSxZQUFBQSxFQUFBclosSUFBQSxVQUNBdUcsRUFBQThTLEVBQUFDLGNBQUFDLFNBQUFwUCxTQUNBNUQsRUFBQThTLEVBQUFDLGNBQUFuUCIsImZpbGUiOiJtYXAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyICRsb2FkaW5nID0gJCgnLm1kbC1zcGlubmVyJyk7XHJcbnZhciBjZW50ZXIgPSBbMzY3NzM4NSwgNDEyMDk0OV0sXHJcbiAgICBleHRlbnQgPSBbMzU5MDA5NCwgNDEwMjgzMywgMzg1NTQ4MywgNDI2MTIxMV0sXHJcbiAgICBsYW5nID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcsXHJcbiAgICBzdHlsZUNhY2hlID0ge30sXHJcbiAgICBnZW9KU09ORm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5HZW9KU09OKHtcclxuICAgICAgZGVmYXVsdERhdGFQcm9qZWN0aW9uOiAnRVBTRzo0MzI2J1xyXG4gICAgfSk7XHJcbnZhciBiaW5nID0gbmV3IG9sLmxheWVyLlRpbGUoe1xyXG4gIHZpc2libGU6IHRydWUsXHJcbiAgc291cmNlOiBuZXcgb2wuc291cmNlLkJpbmdNYXBzKHtcclxuICAgIGtleTogJ0FrMkdxOFZVZklDc1BwdWY3TFJBTlhtWHQyc0hXbVNMUGhvaG1WTEZ0RklFd1lqc181TUN5QWhBRndSU1ZwTGonLFxyXG4gICAgaW1hZ2VyeVNldDogJ0FlcmlhbCdcclxuICB9KSxcclxuICBtYXhab29tOiAxOSxcclxuICBjcm9zc09yaWdpbjogJ2Fub255bW91cycsXHJcbiAgcHJlbG9hZDogSW5maW5pdHksXHJcbiAgaWQ6ICdiaW5nJ1xyXG59KTtcclxudmFyIG1hcGJveCA9IG5ldyBvbC5sYXllci5UaWxlKHtcclxuICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuWFlaKHtcclxuICAgIGF0dHJpYnV0aW9uczogW25ldyBvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICAgIGh0bWw6ICc8YSBocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hYm91dC9tYXBzL1wiIHRhcmdldD1cIl9ibGFua1wiPiZjb3B5OyBNYXBib3ggJmNvcHk7IE9wZW5TdHJlZXRNYXA8L2E+J1xyXG4gICAgfSldLFxyXG4gICAgdXJsOiAnaHR0cHM6Ly9hcGkubWFwYm94LmNvbS92NC9tYXBib3guc3RyZWV0cy97en0ve3h9L3t5fS5wbmc/YWNjZXNzX3Rva2VuPXBrLmV5SjFJam9pWm1seWRtRnBiaUlzSW1FaU9pSmxPV1l5WVRNME5UaGlOV00wWWpKak9ESmpOREU0T0RRek56QTJNR1F5TmlKOS4tTlZETzI3SHp0LXdfblFvc1VQZkxBJ1xyXG4gIH0pLFxyXG4gIGlkOiAnbWFwYm94J1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGdldEljb25UeXBlKGVzdGF0ZVR5cGUpIHtcclxuICB2YXIgaWNvblR5cGUgPSB7XHJcbiAgICAnQXBhcnRtZW50JzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiAnYXBhcnRtZW50J1xyXG4gICAgfSxcclxuICAgICdTdG9yZSc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gJ3N0b3JlJ1xyXG4gICAgfSxcclxuICAgICdEZXRhY2hlZCBIb3VzZSc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gJ2RldGFjaGVkJ1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcmV0dXJuIChpY29uVHlwZVtlc3RhdGVUeXBlXSkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SWNvblBhdGgobGlzdGluZ1R5cGUpIHtcclxuICB2YXIgaWNvblBhdGggPSB7XHJcbiAgICB0cnVlOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICcuL2ltYWdlcy9waW5zL3NhbGUvJ1xyXG4gICAgfSxcclxuICAgIGZhbHNlOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICcuL2ltYWdlcy9waW5zL3JlbnQvJ1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcmV0dXJuIChpY29uUGF0aFtsaXN0aW5nVHlwZV0pKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb3BlcnR5U3R5bGUoZmVhdHVyZSkge1xyXG4gIHZhciBzcmM7XHJcbiAgc3JjID0gZ2V0SWNvblBhdGgoZmVhdHVyZS5nZXQoJ3NhbGUnKSkgKyBnZXRJY29uVHlwZShmZWF0dXJlLmdldCgnZXN0YXRldHlwZV9lbicpKSArICctNDgucG5nJztcclxuICByZXR1cm4gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGdlb21ldHJ5OiBmZWF0dXJlLmdldEdlb21ldHJ5KCksXHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgc3JjOiBzcmMsXHJcbiAgICAgIGFuY2hvck9yaWdpbjogJ2JvdHRvbS1sZWZ0JyxcclxuICAgICAgYW5jaG9yOiBbMC41LCAwXSxcclxuICAgICAgc2NhbGU6IDFcclxuICAgIH0pKVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwcm9wZXJ0eVN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gIHZhciBzaXplID0gZmVhdHVyZS5nZXQoJ2ZlYXR1cmVzJylcclxuICAgIC5sZW5ndGg7XHJcbiAgdmFyIHN0eWxlLCBvcmlnaW5hbEZlYXR1cmU7XHJcbiAgaWYgKHNpemUgPiAxKSB7XHJcbiAgICBzdHlsZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkNpcmNsZSh7XHJcbiAgICAgICAgcmFkaXVzOiAyMCxcclxuICAgICAgICBzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgICAgICAgY29sb3I6IFsxNTYsIDM5LCAxNzYsIDFdLFxyXG4gICAgICAgICAgd2lkdGg6IDVcclxuICAgICAgICB9KSxcclxuICAgICAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgICAgICBjb2xvcjogWzY4LCAxMzgsIDI1NSwgMC44XVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pLFxyXG4gICAgICB0ZXh0OiBuZXcgb2wuc3R5bGUuVGV4dCh7XHJcbiAgICAgICAgdGV4dDogc2l6ZS50b1N0cmluZygpLFxyXG4gICAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICAgIGNvbG9yOiAnI0ZGRkZGRidcclxuICAgICAgICB9KVxyXG4gICAgICB9KSxcclxuICAgICAgekluZGV4OiAxMDFcclxuICAgIH0pXTtcclxuICB9IGVsc2Uge1xyXG4gICAgb3JpZ2luYWxGZWF0dXJlID0gZmVhdHVyZS5nZXQoJ2ZlYXR1cmVzJylbMF07XHJcbiAgICBzdHlsZSA9IFtjcmVhdGVQcm9wZXJ0eVN0eWxlKG9yaWdpbmFsRmVhdHVyZSldO1xyXG4gIH1cclxuICByZXR1cm4gc3R5bGU7XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHNlbGVjdFN0eWxlRnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4vLyAgIHZhciBzdHlsZXMgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHt9KV07XHJcbi8vICAgdmFyIG9yaWdpbmFsRmVhdHVyZXMgPSBmZWF0dXJlLmdldCgnZmVhdHVyZXMnKTtcclxuLy8gICB2YXIgb3JpZ2luYUZlYXR1cmU7XHJcbi8vICAgZm9yICh2YXIgaSA9IG9yaWdpbmFsRmVhdHVyZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcclxuLy8gICAgIG9yaWdpbmFsRmVhdHVyZSA9IG9yaWdpbmFsRmVhdHVyZXNbaV07XHJcbi8vICAgICBzdHlsZXMucHVzaChjcmVhdGVQcm9wZXJ0eVN0eWxlKG9yaWdpbmFsRmVhdHVyZSkpO1xyXG4vLyAgIH1cclxuLy8gICByZXR1cm4gc3R5bGVzO1xyXG4vLyB9XHJcbnZhciBwcm9wZXJ0eVNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHtcclxuICBmb3JtYXQ6IGdlb0pTT05Gb3JtYXQsXHJcbiAgbG9hZGVyOiBmdW5jdGlvbihleHRlbnQsIHJlc29sdXRpb24sIHByb2plY3Rpb24pIHtcclxuICAgIGNvbnNvbGUubG9nKHJlc29sdXRpb24pO1xyXG4gICAgdmFyIGVwc2c0MzI2RXh0ZW50ID0gb2wucHJvai50cmFuc2Zvcm1FeHRlbnQoZXh0ZW50LCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgdmFyIHVybCA9ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAvZGIvcHJvcGVydHk/YmJveFt4MV09JyArIGVwc2c0MzI2RXh0ZW50WzBdICsgJyZiYm94W3kxXT0nICsgZXBzZzQzMjZFeHRlbnRbMV0gKyAnJmJib3hbeDJdPScgKyBlcHNnNDMyNkV4dGVudFsyXSArICcmYmJveFt5Ml09JyArIGVwc2c0MzI2RXh0ZW50WzNdO1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5jbGVhcigpO1xyXG4gICAgY29uc29sZS5sb2coZXh0ZW50KTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIHVybDogdXJsLFxyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJ1xyXG4gICAgfSlcclxuICAgICAgLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgZmVhdHVyZXMgPSBnZW9KU09ORm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSwge1xyXG4gICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZi5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicpO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG4gIHN0cmF0ZWd5OiBvbC5sb2FkaW5nc3RyYXRlZ3kuYmJveFxyXG59KTtcclxudmFyIHByb3BlcnR5Q2x1c3RlclNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuQ2x1c3Rlcih7XHJcbiAgZGlzdGFuY2U6IDQwLFxyXG4gIHNvdXJjZTogcHJvcGVydHlTb3VyY2UsXHJcbiAgYXR0cmlidXRpb25zOiBbbmV3IG9sLkF0dHJpYnV0aW9uKHtcclxuICAgIGh0bWw6ICdBbGwgbWFwcyDCqSAnICsgJzxhIGhyZWY9XCJodHRwOi8vd3d3LnRlcnJhY29nbml0YS5nci9cIj5UZXJyYSBDb2duaXRhPC9hPidcclxuICB9KV1cclxufSk7XHJcbnZhciBwcm9wZXJ0eSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gIHNvdXJjZTogcHJvcGVydHlDbHVzdGVyU291cmNlLFxyXG4gIGlkOiAnZXN0YXRlcycsXHJcbiAgdmlzaWJsZTogdHJ1ZSxcclxuICBzdHlsZTogcHJvcGVydHlTdHlsZUZ1bmN0aW9uXHJcbn0pO1xyXG5wcm9wZXJ0eS5zZXRaSW5kZXgoMik7XHJcbnZhciBQU0FTdHlsZUZ1bmN0aW9uID0gZnVuY3Rpb24oZmVhdHVyZSwgcmVzb2x1dGlvbikge1xyXG4gIHZhciBzeW1ib2wgPSBmZWF0dXJlLmdldCgnc3R5bGUnKTtcclxuICB2YXIgdGV4dDtcclxuICBpZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gICAgdGV4dCA9IGZlYXR1cmUuZ2V0KCduYW1lX2VsJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRleHQgPSBmZWF0dXJlLmdldCgnbmFtZV9lbicpO1xyXG4gIH1cclxuICBpZiAoIXN0eWxlQ2FjaGVbc3ltYm9sXSkge1xyXG4gICAgc3R5bGVDYWNoZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkljb24oKHtcclxuICAgICAgICBzcmM6ICcuLi9pbWFnZXMvbWFraS9yZW5kZXJzLycgKyBzeW1ib2wgKyAnLTI0LnBuZycsXHJcbiAgICAgICAgYW5jaG9yT3JpZ2luOiAnYm90dG9tLWxlZnQnLFxyXG4gICAgICAgIGFuY2hvcjogWzAuNSwgMC41XSxcclxuICAgICAgICBzY2FsZTogMVxyXG4gICAgICB9KSksXHJcbiAgICAgIHRleHQ6IG5ldyBvbC5zdHlsZS5UZXh0KHtcclxuICAgICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgICAgICBjb2xvcjogWzE1NiwgMzksIDE3NiwgMC44XSxcclxuICAgICAgICAgIHdpZHRoOiAxXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgb2Zmc2V0WTogMTJcclxuICAgICAgfSlcclxuICAgIH0pXTtcclxuICB9XHJcbiAgcmV0dXJuIHN0eWxlQ2FjaGU7XHJcbn07XHJcbnZhciBQU0EgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKHtcclxuICBzdHlsZTogUFNBU3R5bGVGdW5jdGlvbixcclxuICBtYXhSZXNvbHV0aW9uOiAzXHJcbn0pO1xyXG5QU0Euc2V0WkluZGV4KDEpO1xyXG5cclxuZnVuY3Rpb24gZmlsdGVyZWRFc2F0ZVN0eWxlKGZlYXR1cmUsIHJlc29sdXRpb24pIHtcclxuICB2YXIgc3JjO1xyXG4gIHNyYyA9IGdldEljb25QYXRoKGZlYXR1cmUuZ2V0KCdzYWxlJykpICsgZ2V0SWNvblR5cGUoZmVhdHVyZS5nZXQoJ2VzdGF0ZXR5cGVfZW4nKSkgKyAnLTY0LnBuZyc7XHJcbiAgc3R5bGVDYWNoZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5JY29uKCh7XHJcbiAgICAgIHNyYzogc3JjLFxyXG4gICAgICBhbmNob3JPcmlnaW46ICdib3R0b20tbGVmdCcsXHJcbiAgICAgIGFuY2hvcjogWzAuNSwgMF0sXHJcbiAgICAgIHNjYWxlOiAxXHJcbiAgICB9KSlcclxuICB9KV07XHJcbiAgcmV0dXJuIHN0eWxlQ2FjaGU7XHJcbn1cclxudmFyIGZpbHRlcmVkRXN0YXRlcyA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gIHNvdXJjZTogbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe1xyXG4gICAgZm9ybWF0OiBnZW9KU09ORm9ybWF0XHJcbiAgfSksXHJcbiAgaWQ6ICdmaWx0ZXJlZEVzdGF0ZXMnLFxyXG4gIHZpc2libGU6IHRydWUsXHJcbiAgc3R5bGU6IGZpbHRlcmVkRXNhdGVTdHlsZVxyXG59KTtcclxuZmlsdGVyZWRFc3RhdGVzLnNldFpJbmRleCgyKTtcclxudmFyIHNlbGVjdFNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHt9KTtcclxudmFyIHNlbGVjdEJveCA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gIHNvdXJjZTogc2VsZWN0U291cmNlLFxyXG4gIHN0eWxlOiBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe1xyXG4gICAgICBjb2xvcjogJ3JnYmEoMjI3LCA3MiwgMjcsIDAuMiknXHJcbiAgICB9KSxcclxuICAgIHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICAgIGNvbG9yOiAnI0UzNDgxQicsXHJcbiAgICAgIHdpZHRoOiAyXHJcbiAgICB9KSxcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcclxuICAgICAgcmFkaXVzOiA3LFxyXG4gICAgICBmaWxsOiBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICAgICAgY29sb3I6ICcjRTM0ODFCJ1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9KVxyXG59KTtcclxuc2VsZWN0Qm94LnNldFpJbmRleCgzKTtcclxudmFyIG1hcCA9IG5ldyBvbC5NYXAoe1xyXG4gIHRhcmdldDogJ21hcCcsXHJcbiAgbGF5ZXJzOiBbbWFwYm94LCBwcm9wZXJ0eSwgUFNBLCBmaWx0ZXJlZEVzdGF0ZXMsIHNlbGVjdEJveF0sXHJcbiAgLy8gaW50ZXJhY3Rpb25zOiBvbC5pbnRlcmFjdGlvbi5kZWZhdWx0cygpLmV4dGVuZChbbmV3IG9sLmludGVyYWN0aW9uLlNlbGVjdCh7XHJcbiAgLy8gICBjb25kaXRpb246IGZ1bmN0aW9uKGV2dCkge1xyXG4gIC8vICAgICByZXR1cm4gZXZ0LnR5cGUgPT09ICdzaW5nbGVjbGljaycgJiYgb2wuZXZlbnRzLmNvbmRpdGlvbi5zaGlmdEtleU9ubHkoZXZ0KTtcclxuICAvLyAgIH0sXHJcbiAgLy8gICBzdHlsZTogc2VsZWN0U3R5bGVGdW5jdGlvblxyXG4gIC8vIH0pXSksXHJcbiAgbG9hZFRpbGVzV2hpbGVBbmltYXRpbmc6IHRydWUsXHJcbiAgbG9hZFRpbGVzV2hpbGVJbnRlcmFjdGluZzogdHJ1ZSxcclxuICByZW5kZXJlcjogJ2NhbnZhcycsXHJcbiAgY29udHJvbHM6IG9sLmNvbnRyb2wuZGVmYXVsdHMoe1xyXG4gICAgYXR0cmlidXRpb25PcHRpb25zOiB7XHJcbiAgICAgIGNvbGxhcHNpYmxlOiBmYWxzZSxcclxuICAgICAgY29sbGFwc2VkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgICAuZXh0ZW5kKFtcclxuICAgICAgbmV3IG9sLmNvbnRyb2wuU2NhbGVMaW5lKHtcclxuICAgICAgICB1bml0czogJ21ldHJpYydcclxuICAgICAgfSksIG5ldyBvbC5jb250cm9sLk92ZXJ2aWV3TWFwKHtcclxuICAgICAgICBjbGFzc05hbWU6ICdvbC1vdmVydmlld21hcCBvbC1jdXN0b20tb3ZlcnZpZXdtYXAnLFxyXG4gICAgICAgIGNvbGxhcHNpYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbGxhcHNlZDogdHJ1ZSxcclxuICAgICAgICBsYXllcnM6IFtiaW5nXVxyXG4gICAgICB9KSxcclxuICAgICAgbmV3IG9sLmNvbnRyb2wuWm9vbVRvRXh0ZW50KHtcclxuICAgICAgICBleHRlbnQ6IGV4dGVudFxyXG4gICAgICB9KVxyXG4gICAgXSksXHJcbiAgdmlldzogbmV3IG9sLlZpZXcoe1xyXG4gICAgY2VudGVyOiBjZW50ZXIsXHJcbiAgICAvLyBleHRlbnQ6IGV4dGVudCxcclxuICAgIHByb2plY3Rpb246ICdFUFNHOjM4NTcnLFxyXG4gICAgem9vbTogMTQsXHJcbiAgICBtYXhab29tOiAxOSxcclxuICAgIG1pblpvb206IDEwXHJcbiAgfSlcclxufSk7XHJcbmlmIChsYW5nID09PSAnZWwnKSB7XHJcbiAgYmluZy5zZXQoJ25hbWUnLCAnzpTOv8+Bz4XPhs6/z4HOuc66zq4gzrXOuc66z4zOvc6xJyk7XHJcbiAgbWFwYm94LnNldCgnbmFtZScsICfOp86sz4HPhM63z4InKTtcclxuICBwcm9wZXJ0eS5zZXQoJ25hbWUnLCAnzpHOus6vzr3Ot8+EzrEnKTtcclxufSBlbHNlIHtcclxuICBiaW5nLnNldCgnbmFtZScsICdTYXR0ZWxpdGUgSW1hZ2UnKTtcclxuICBtYXBib3guc2V0KCduYW1lJywgJ01hcCcpO1xyXG4gIHByb3BlcnR5LnNldCgnbmFtZScsICdQcm9wZXJ0aWVzJyk7XHJcbn1cclxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XHJcbiAgJCgnLnNwaW5uZXInKS5hZGRDbGFzcygndmlzdWFsbHloaWRkZW4nKTtcclxuICAkKCcubWRsLXNwaW5uZXInKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgaGFuZGxlU2VsZWN0KCk7XHJcbn0pO1xyXG4kKGRvY3VtZW50KVxyXG4gIC5hamF4U3RhcnQoZnVuY3Rpb24oKSB7XHJcbiAgICAkbG9hZGluZy5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgfSlcclxuICAuYWpheFN0b3AoZnVuY3Rpb24oKSB7XHJcbiAgICAkbG9hZGluZy5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgfSk7XHJcbiIsIndpbmRvdy5hcHAgfHwgKHdpbmRvdy5hcHAgPSB7fSk7XHJcbnZhciBhcHAgPSB3aW5kb3cuYXBwO1xyXG5hcHAuZmlsdGVycyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICB0aGlzLmVzdGF0ZVR5cGUgPSBvcHRpb25zLmVzdGF0ZVR5cGU7XHJcbiAgdGhpcy5sZWFzZVR5cGUgPSBvcHRpb25zLmxlYXNlVHlwZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sZWFzZVR5cGUgOiAnUmVudCc7XHJcbiAgdGhpcy5zdGFydFByaWNlID0gb3B0aW9ucy5zdGFydFByaWNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnN0YXJ0UHJpY2UgOiAwO1xyXG4gIHRoaXMuZW5kUHJpY2UgPSBvcHRpb25zLmVuZFByaWNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmVuZFByaWNlIDogMjE0NzQ4MzY0NztcclxuICB0aGlzLnBhcmtpbmcgPSBvcHRpb25zLnBhcmtpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucGFya2luZyA6IGZhbHNlO1xyXG4gIHRoaXMuZnVybmlzaGVkID0gb3B0aW9ucy5mdXJuaXNoZWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZnVybmlzaGVkIDogZmFsc2U7XHJcbiAgdGhpcy5oZWF0aW5nID0gb3B0aW9ucy5oZWF0aW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmhlYXRpbmcgOiBmYWxzZTtcclxuICB0aGlzLmNvb2xpbmcgPSBvcHRpb25zLmNvb2xpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29vbGluZyA6IGZhbHNlO1xyXG4gIHRoaXMudmlldyA9IG9wdGlvbnMudmlldyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy52aWV3IDogZmFsc2U7XHJcbn07XHJcbmFwcC5maWx0ZXJzLnByb3RvdHlwZS5jcmVhdGVWYWxpZGF0b3IgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgcCA9ICQoJ2Zvcm1bbmFtZT1maWx0ZXJzXScpLnBhcnNsZXkoKTtcclxuICByZXR1cm4gcDtcclxufVxyXG5hcHAuZmlsdGVycy5wcm90b3R5cGUuc2V0RGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgZXBzZzQzMjZFeHRlbnQ7XHJcbiAgUFNBLnNldFNvdXJjZShudWxsKTtcclxuICB0b2FzdHIub3B0aW9ucyA9IHtcclxuICAgICdjbG9zZUJ1dHRvbic6IGZhbHNlLFxyXG4gICAgJ2RlYnVnJzogZmFsc2UsXHJcbiAgICAnbmV3ZXN0T25Ub3AnOiBmYWxzZSxcclxuICAgICdwcm9ncmVzc0Jhcic6IGZhbHNlLFxyXG4gICAgJ3Bvc2l0aW9uQ2xhc3MnOiAndG9hc3QtdG9wLWNlbnRlcicsXHJcbiAgICAncHJldmVudER1cGxpY2F0ZXMnOiBmYWxzZSxcclxuICAgICdvbmNsaWNrJzogbnVsbCxcclxuICAgICdzaG93RHVyYXRpb24nOiAnMzAwJyxcclxuICAgICdoaWRlRHVyYXRpb24nOiAnMTAwMCcsXHJcbiAgICAndGltZU91dCc6ICc1MDAwJyxcclxuICAgICdleHRlbmRlZFRpbWVPdXQnOiAnMTAwMCcsXHJcbiAgICAnc2hvd0Vhc2luZyc6ICdzd2luZycsXHJcbiAgICAnaGlkZUVhc2luZyc6ICdsaW5lYXInLFxyXG4gICAgJ3Nob3dNZXRob2QnOiAnZmFkZUluJyxcclxuICAgICdoaWRlTWV0aG9kJzogJ2ZhZGVPdXQnXHJcbiAgfTtcclxuICBpZiAoc2VsZWN0U291cmNlLmdldEZlYXR1cmVzKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICBlcHNnNDMyNkV4dGVudCA9IG9sLnByb2oudHJhbnNmb3JtRXh0ZW50KGV4dGVudCwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZXBzZzQzMjZFeHRlbnQgPSBvbC5wcm9qLnRyYW5zZm9ybUV4dGVudChzZWxlY3RTb3VyY2UuZ2V0RmVhdHVyZXMoKVswXS5nZXRHZW9tZXRyeSgpLmdldEV4dGVudCgpLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gIH1cclxuICB0aGlzLmV4dGVudCA9IGVwc2c0MzI2RXh0ZW50O1xyXG4gIHRoaXMucCA9IHRoaXMuY3JlYXRlVmFsaWRhdG9yKCk7XHJcbn07XHJcblxyXG5hcHAuZmlsdGVycy5wcm90b3R5cGUuYWpheENhbGwgPSBmdW5jdGlvbigpIHtcclxuICBjb25zb2xlLmxvZyh0aGlzLmVzdGF0ZVR5cGUpO1xyXG4gIGlmICh0aGlzLnAudmFsaWRhdGUoKSA9PT0gdHJ1ZSkge1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTozMDAwL2RiL2ZpbHRlcmVkcHJvcGVydHk/YmJveFt4MV09JyArIHRoaXMuZXh0ZW50WzBdICsgJyZiYm94W3kxXT0nICsgdGhpcy5leHRlbnRbMV0gKyAnJmJib3hbeDJdPScgKyB0aGlzLmV4dGVudFsyXSArICcmYmJveFt5Ml09JyArIHRoaXMuZXh0ZW50WzNdLFxyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIGVzdGF0ZVR5cGU6IHRoaXMuZXN0YXRlVHlwZSxcclxuICAgICAgICBsZWFzZVR5cGU6IHRoaXMubGVhc2VUeXBlLFxyXG4gICAgICAgIGZ1cm5pc2hlZDogdGhpcy5mdXJuaXNoZWQsXHJcbiAgICAgICAgaGVhdGluZzogdGhpcy5oZWF0aW5nLFxyXG4gICAgICAgIHBhcmtpbmc6IHRoaXMucGFya2luZyxcclxuICAgICAgICBjb29saW5nOiB0aGlzLmNvb2xpbmcsXHJcbiAgICAgICAgdmlldzogdGhpcy52aWV3LFxyXG4gICAgICAgIHN0YXJ0UHJpY2U6IHRoaXMuc3RhcnRQcmljZSxcclxuICAgICAgICBlbmRQcmljZTogdGhpcy5lbmRQcmljZVxyXG4gICAgICB9XHJcbiAgICB9KS5kb25lKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgIHZhciBmZWF0dXJlcyA9IGdlb0pTT05Gb3JtYXQucmVhZEZlYXR1cmVzKHJlc3BvbnNlLCB7XHJcbiAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHRvYXN0ci5jbGVhcigpO1xyXG4gICAgICAgIGZpbHRlcmVkRXN0YXRlcy5nZXRTb3VyY2UoKS5jbGVhcigpO1xyXG4gICAgICAgIGZpbHRlcmVkRXN0YXRlcy5nZXRTb3VyY2UoKS5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XHJcbiAgICAgICAgZmlsdGVyZWRFc3RhdGVzLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgcHJvcGVydHkuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgLy8gdmFyIGV4dGVudCA9IGZpbHRlcmVkRXN0YXRlcy5nZXRTb3VyY2UoKS5nZXRFeHRlbnQoKTtcclxuICAgICAgICAvLyB2YXIgY2VudGVyID0gW107XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9hc3RyLmVycm9yKCdObyBJbmZvIEZvdW5kIScpO1xyXG4gICAgICAgIGZpbHRlcmVkRXN0YXRlcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBwcm9wZXJ0eS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59O1xyXG4kKCcjaW52b2tlRmlsdGVycycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBmaWx0ZXJzIDtcclxuICB2YXIgb3B0aW9ucyA9IHt9O1xyXG4gIG9wdGlvbnMuZXN0YXRlVHlwZSA9ICQoJyNlc3RhdGVUeXBlJykudmFsKCk7XHJcbiAgb3B0aW9ucy5sZWFzZVR5cGUgPSAkKCdpbnB1dFtuYW1lPW9wdGlvbnNdOmNoZWNrZWQnKS52YWwoKTtcclxuICBvcHRpb25zLnN0YXJ0UHJpY2UgPSAkKCcjc3RhcnRQcmljZScpLnZhbCgpO1xyXG4gIG9wdGlvbnMuZW5kUHJpY2UgPSAkKCcjZW5kUHJpY2UnKS52YWwoKTtcclxuICBvcHRpb25zLnBhcmtpbmcgPSAkKCcjY2hlY2tib3gtMScpLnByb3AoJ2NoZWNrZWQnKTtcclxuICBvcHRpb25zLmZ1cm5pc2hlZCA9ICQoJyNjaGVja2JveC0yJykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIG9wdGlvbnMuaGVhdGluZyA9ICQoJyNjaGVja2JveC0zJykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIG9wdGlvbnMuY29vbGluZyA9ICQoJyNjaGVja2JveC00JykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIG9wdGlvbnMudmlldyA9ICQoJyNjaGVja2JveC01JykucHJvcCgnY2hlY2tlZCcpO1xyXG4gIGZpbHRlcnMgPSBuZXcgYXBwLmZpbHRlcnMob3B0aW9ucyk7XHJcbiAgZmlsdGVycy5zZXREZWZhdWx0cygpO1xyXG5cclxuICBmaWx0ZXJzLmFqYXhDYWxsKCk7XHJcblxyXG59KTtcclxuJCgnI2NsZWFyRmlsdGVycycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBvcmlnbmFsVmFsdWUgPSAkKCcjZXN0YXRlVHlwZSBvcHRpb24nKS52YWwoKTtcclxuICAkKCdsYWJlbFtmb3I9b3B0aW9uLTFdJykuYWRkQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9b3B0aW9uLTJdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9Y2hlY2tib3gtMV0nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJ2xhYmVsW2Zvcj1jaGVja2JveC0yXScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgJCgnbGFiZWxbZm9yPWNoZWNrYm94LTNdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCdsYWJlbFtmb3I9Y2hlY2tib3gtNF0nKS5yZW1vdmVDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICQoJ2xhYmVsW2Zvcj1jaGVja2JveC01XScpLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgJCgnbGFiZWxbZm9yPWNoZWNrYm94LTZdJykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcclxuICAkKCcubWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnKS5odG1sKG9yaWduYWxWYWx1ZSk7XHJcbiAgZmlsdGVyZWRFc3RhdGVzLmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgcHJvcGVydHkuc2V0VmlzaWJsZSh0cnVlKTtcclxuICBQU0Euc2V0U291cmNlKG51bGwpO1xyXG4gIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihkcmF3KTtcclxufSk7XHJcbnZhciBkcmF3O1xyXG5mdW5jdGlvbiBhZGRJbnRlcmFjdGlvbigpIHtcclxuICBzZWxlY3RTb3VyY2UuY2xlYXIoKTtcclxuICBkcmF3ID0gbmV3IG9sLmludGVyYWN0aW9uLkRyYXcoe1xyXG4gICAgc291cmNlOiBzZWxlY3RTb3VyY2UsXHJcbiAgICB0eXBlOiAnTGluZVN0cmluZycsXHJcbiAgICBnZW9tZXRyeUZ1bmN0aW9uOiBnZW9tZXRyeUZ1bmN0aW9uLFxyXG4gICAgbWF4UG9pbnRzOiAyXHJcbiAgfSk7XHJcbiAgZHJhdy5vbignZHJhd3N0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICBzZWxlY3RTb3VyY2UuY2xlYXIoKTtcclxuICB9KTtcclxuICBkcmF3Lm9uKCdkcmF3ZW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICBtYXAucmVtb3ZlSW50ZXJhY3Rpb24oZHJhdyk7XHJcbiAgfSk7XHJcbiAgbWFwLmFkZEludGVyYWN0aW9uKGRyYXcpO1xyXG59XHJcbmZ1bmN0aW9uIGdlb21ldHJ5RnVuY3Rpb24oY29vcmRpbmF0ZXMsIGdlb21ldHJ5KSB7XHJcbiAgaWYgKCFnZW9tZXRyeSkge1xyXG4gICAgZ2VvbWV0cnkgPSBuZXcgb2wuZ2VvbS5Qb2x5Z29uKG51bGwpO1xyXG4gIH1cclxuICB2YXIgc3RhcnQgPSBjb29yZGluYXRlc1swXTtcclxuICB2YXIgZW5kID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgZ2VvbWV0cnkuc2V0Q29vcmRpbmF0ZXMoW1xyXG4gICAgW1xyXG4gICAgICBzdGFydCxcclxuICAgICAgW1xyXG4gICAgICAgIHN0YXJ0WzBdLCBlbmRbMV1cclxuICAgICAgXSxcclxuICAgICAgZW5kLFxyXG4gICAgICBbXHJcbiAgICAgICAgZW5kWzBdLCBzdGFydFsxXVxyXG4gICAgICBdLFxyXG4gICAgICBzdGFydFxyXG4gICAgXVxyXG4gIF0pO1xyXG4gIHJldHVybiBnZW9tZXRyeTtcclxufVxyXG4kKCcjY2hlY2tib3gtNicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIGlmICh0aGlzLmNoZWNrZWQpIHtcclxuICAgIGFkZEludGVyYWN0aW9uKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihkcmF3KTtcclxuICAgIHNlbGVjdFNvdXJjZS5jbGVhcigpO1xyXG4gIH1cclxufSk7XHJcbiIsImZ1bmN0aW9uIGhhbmRsZUluZm8oZXZ0KSB7XHJcbiAgdmFyIGNvb3JkaW5hdGUgPSBldnQuY29vcmRpbmF0ZTtcclxuICB2YXIgb2JqID0ge307XHJcbiAgdmFyIHRpdGxlID0ge307XHJcbiAgdmFyIG93bmVyID0ge307XHJcbiAgdmFyIGZlYXR1cmVzID0gW107XHJcbiAgdmFyIGNsaWNrZWRGZWF0dXJlO1xyXG4gIHZhciBmO1xyXG4gIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihkcmF3KTtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBvYmoudGl0bGUgPSB0aXRsZTtcclxuICBpZiAobGFuZyA9PT0gJ2VsJykge1xyXG4gICAgdGl0bGUuZ2lkID0gJ86az4nOtM65zrrPjM+CIM6ZzrTOuc6/zrrPhM63z4POr86xz4InO1xyXG4gICAgdGl0bGUudHlwZSA9ICfOlc6vzrTOv8+CIM6ZzrTOuc6/zrrPhM63z4POr86xz4InO1xyXG4gICAgdGl0bGUubGlzdGluZ190eXBlID0gJ86kz43PgM6/z4IgzpHOs86zzrXOu86vzrHPgic7XHJcbiAgICB0aXRsZS5hcmVhID0gJ86VzrzOss6xzrTPjCc7XHJcbiAgICB0aXRsZS5hZGRyZXNzID0gJ86UzrnOtc+FzrjPhc69z4POtyc7XHJcbiAgICB0aXRsZS5iZWRyb29tcyA9ICfOpc+Azr3Ov860z4nOvM6sz4TOuc6xJztcclxuICAgIHRpdGxlLnByaWNlID0gJ86kzrnOvM6uJztcclxuICAgIHRpdGxlLmlzbmV3ID0gJ86dzrXPjM60zrzOt8+Ezr8nO1xyXG4gICAgdGl0bGUucGFya2luZyA9ICfOo8+EzqzOuM68zrXPg863JztcclxuICAgIHRpdGxlLmZ1cm5pc2hlZCA9ICfOlc+AzrnPgM67z4nOvM6tzr3Ovyc7XHJcbiAgICB0aXRsZS5wZXRzID0gJ86azrHPhM6/zrnOus6vzrTOuc6xJztcclxuICAgIHRpdGxlLnZpZXcgPSAnzpjOrc6xJztcclxuICAgIHRpdGxlLmhlYXRpbmcgPSAnzpjOrc+BzrzOsc69z4POtyc7XHJcbiAgICB0aXRsZS5jb29saW5nID0gJ86oz43Ovs63JztcclxuICAgIHRpdGxlLmNvbnRhY3RJbmZvID0gJ86jz4TOv865z4fOtc6vzrEgzpXPgM65zrrOv865zr3Pic69zq/Osc+CJztcclxuICAgIHRpdGxlLm5hbWUgPSAnzozOvc6/zrzOsSc7XHJcbiAgICB0aXRsZS5sYXN0bmFtZSA9ICfOlc+Azq/OuM61z4TOvyc7XHJcbiAgICB0aXRsZS5waG9uZSA9ICfOpM63zrvOrc+Gz4nOvc6/JztcclxuICAgIHRpdGxlLmVtYWlsID0gJ86XzrvOtc66z4TPgc6/zr3Ouc66zq4gzpTOuc61z43OuM+Fzr3Pg863JztcclxuICB9IGVsc2Uge1xyXG4gICAgdGl0bGUuZ2lkID0gJ0VzdGF0ZSBDb2RlJztcclxuICAgIHRpdGxlLnR5cGUgPSAnUHJvcGVydHkgVHlwZSc7XHJcbiAgICB0aXRsZS5saXN0aW5nX3R5cGUgPSAnTGlzdGluZyBUeXBlJztcclxuICAgIHRpdGxlLmFyZWEgPSAnU2l6ZSc7XHJcbiAgICB0aXRsZS5hZGRyZXNzID0gJ0FkZHJlc3MnO1xyXG4gICAgdGl0bGUuYmVkcm9vbXMgPSAnQmVkcm9vbXMnO1xyXG4gICAgdGl0bGUucHJpY2UgPSAnUHJpY2UnO1xyXG4gICAgdGl0bGUuaXNuZXcgPSAnTmV3bHkgQnVpbGQnO1xyXG4gICAgdGl0bGUucGFya2luZyA9ICdQYXJraW5nJztcclxuICAgIHRpdGxlLmZ1cm5pc2hlZCA9ICdGdXJuaXNoZWQnO1xyXG4gICAgdGl0bGUucGV0cyA9ICdQZXRzIEFsbG93ZWQnO1xyXG4gICAgdGl0bGUudmlldyA9ICdWaWV3JztcclxuICAgIHRpdGxlLmhlYXRpbmcgPSAnSGVhdGluZyc7XHJcbiAgICB0aXRsZS5jb29saW5nID0gJ0Nvb2xpbmcnO1xyXG4gICAgdGl0bGUuY29udGFjdEluZm8gPSAnQ29udGFjdCBJbmZvJztcclxuICAgIHRpdGxlLm5hbWUgPSAnTmFtZSc7XHJcbiAgICB0aXRsZS5sYXN0bmFtZSA9ICdMYXN0IE5hbWUnO1xyXG4gICAgdGl0bGUucGhvbmUgPSAnVGVsZXBob25lJztcclxuICAgIHRpdGxlLmVtYWlsID0gJ0VtYWlsJztcclxuICB9XHJcbiAgY2xpY2tlZEZlYXR1cmUgPSBtYXAuZm9yRWFjaEZlYXR1cmVBdFBpeGVsKGV2dC5waXhlbCwgZnVuY3Rpb24oZmVhdHVyZSwgbGF5ZXIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXHJcbiAgICAgIGxheWVyOiBsYXllclxyXG4gICAgfTtcclxuICB9LCB0aGlzLCBmdW5jdGlvbihsYXllcikge1xyXG4gICAgaWYgKGxheWVyLmdldCgnaWQnKSA9PT0gJ2VzdGF0ZXMnIHx8IGxheWVyLmdldCgnaWQnKSA9PT0gJ2ZpbHRlcmVkRXN0YXRlcycpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfSwgdGhpcyk7XHJcbiAgaWYgKGNsaWNrZWRGZWF0dXJlKSB7XHJcbiAgICBpZiAoY2xpY2tlZEZlYXR1cmUubGF5ZXIuZ2V0KCdpZCcpID09PSAnZXN0YXRlcycgJiYgY2xpY2tlZEZlYXR1cmUuZmVhdHVyZS5nZXQoJ2ZlYXR1cmVzJykubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGYgPSBjbGlja2VkRmVhdHVyZS5mZWF0dXJlLmdldFByb3BlcnRpZXMoKS5mZWF0dXJlc1swXTtcclxuICAgICAgY29uc29sZS5sb2coZik7XHJcbiAgICAgIGNyZWF0ZVBTQWFuZENhcmQoZiwgb2JqKTtcclxuICAgIH0gZWxzZSBpZiAoY2xpY2tlZEZlYXR1cmUubGF5ZXIuZ2V0KCdpZCcpID09PSAnZmlsdGVyZWRFc3RhdGVzJykge1xyXG4gICAgICBmID0gY2xpY2tlZEZlYXR1cmUuZmVhdHVyZTtcclxuICAgICAgY3JlYXRlUFNBYW5kQ2FyZChmLCBvYmopO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBQU0Euc2V0U291cmNlKG51bGwpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUFNBYW5kQ2FyZChmLCBvYmopIHtcclxuICB2YXIgZmVhdHVyZSA9IHt9O1xyXG4gIGZlYXR1cmUuZ2lkID0gZi5nZXQoJ2dpZCcpO1xyXG4gIGZlYXR1cmUuYXJlYSA9IGYuZ2V0KCdlc3RhdGVhcmVhJyk7XHJcbiAgaWYgKGxhbmcgPT09ICdlbCcpIHtcclxuICAgIGZlYXR1cmUudHlwZSA9IGYuZ2V0KCdlc3RhdGV0eXBlJyk7XHJcbiAgICBmZWF0dXJlLmFkZHJlc3MgPSBmLmdldCgnc3RyZWV0X2VsJykgKyAnICcgKyBmLmdldCgnc3RyZWV0X251bWJlcicpO1xyXG4gICAgZmVhdHVyZS5uYW1lID0gZi5nZXQoJ25hbWVfZWwnKTtcclxuICAgIGZlYXR1cmUubGFzdG5hbWUgPSBmLmdldCgnbGFzdG5hbWVfZWwnKTtcclxuICAgIGlmIChmLmdldCgnc2FsZScpID09PSB0cnVlKSB7XHJcbiAgICAgIGZlYXR1cmUubGlzdGluZ190eXBlID0gJ86gz47Ou863z4POtydcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZlYXR1cmUubGlzdGluZ190eXBlID0gJ86Vzr3Ov865zrrOr86xz4POtydcclxuICAgIH1cclxuICAgIGZlYXR1cmUuYnRucyA9IHtcclxuICAgICAgaW5mbzogJ8+AzrvOt8+Bzr/Phs6/z4HOuc61z4InLFxyXG4gICAgICBjbG9zZTogJ866zrvOtc65z4POuc68zr8nXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGZlYXR1cmUudHlwZSA9IGYuZ2V0KCdlc3RhdGV0eXBlX2VuJyk7XHJcbiAgICBmZWF0dXJlLmFkZHJlc3MgPSBmLmdldCgnc3RyZWV0X2VuJykgKyAnICcgKyBmLmdldCgnc3RyZWV0X251bWJlcicpO1xyXG4gICAgZmVhdHVyZS5uYW1lID0gZi5nZXQoJ25hbWVfZW4nKTtcclxuICAgIGZlYXR1cmUubGFzdG5hbWUgPSBmLmdldCgnbGFzdG5hbWVfZW4nKTtcclxuICAgIGlmIChmLmdldCgnc2FsZScpID09PSB0cnVlKSB7XHJcbiAgICAgIGZlYXR1cmUubGlzdGluZ190eXBlID0gJ1NhbGUnXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZWF0dXJlLmxpc3RpbmdfdHlwZSA9ICdSZW50J1xyXG4gICAgfVxyXG4gICAgZmVhdHVyZS5idG5zID0ge1xyXG4gICAgICBpbmZvOiAnaW5mbycsXHJcbiAgICAgIGNsb3NlOiAnY2xvc2UnXHJcbiAgICB9XHJcbiAgfVxyXG4gIGZlYXR1cmUuYmVkcm9vbXMgPSBmLmdldCgnYmVkcm9vbXMnKTtcclxuICBmZWF0dXJlLnByaWNlID0gZi5nZXQoJ3ByaWNlJyk7XHJcbiAgZmVhdHVyZS5pc25ldyA9IGYuZ2V0KCdpc25ldycpO1xyXG4gIGZlYXR1cmUucGFya2luZyA9IGYuZ2V0KCdwYXJraW5nJyk7XHJcbiAgZmVhdHVyZS5mdXJuaXNoZWQgPSBmLmdldCgnZnVybmlzaGVkJyk7XHJcbiAgZmVhdHVyZS5wZXRzID0gZi5nZXQoJ3BldHMnKTtcclxuICBmZWF0dXJlLnZpZXcgPSBmLmdldCgndmlldycpO1xyXG4gIGZlYXR1cmUuaGVhdGluZyA9IGYuZ2V0KCdoZWF0aW5nJyk7XHJcbiAgZmVhdHVyZS5jb29saW5nID0gZi5nZXQoJ2Nvb2xpbmcnKTtcclxuICBmZWF0dXJlLnBob25lID0gZi5nZXQoJ3Bob25lMScpO1xyXG4gIGZlYXR1cmUuZW1haWwgPSBmLmdldCgnZW1haWwnKTtcclxuICBmZWF0dXJlLmNvb3JkaW5hdGUgPSBmLmdldCgnZ2VvbWV0cnknKS5nZXRDb29yZGluYXRlcygpO1xyXG5cclxuICB2YXIgUFNBU291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe1xyXG4gICAgYXR0cmlidXRpb25zOiBbbmV3IG9sLkF0dHJpYnV0aW9uKHtcclxuICAgICAgaHRtbDogJ1BPSSBieSAnICsgJzxhIGhyZWY9XCJodHRwOi8vd3d3LnRlcnJhY29nbml0YS5nci9cIj5UZXJyYSBDb2duaXRhPC9hPidcclxuICAgIH0pXSxcclxuICAgIGZvcm1hdDogZ2VvSlNPTkZvcm1hdCxcclxuICAgIGxvYWRlcjogZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XHJcbiAgICAgIHZhciB1cmwgPSAnaHR0cDovLzEyNy4wLjAuMTozMDAwL2RiL3VzZXMvJyArIGZlYXR1cmUuZ2lkO1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xyXG4gICAgICB9KS5kb25lKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgdmFyIGZlYXR1cmVzID0gZ2VvSlNPTkZvcm1hdC5yZWFkRmVhdHVyZXMocmVzcG9uc2UucHJvcGVydHlfc2VydmljZXNfYW5hbHlzaXMsIHtcclxuICAgICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiAnRVBTRzozODU3J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBhcmVhID0gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgICAgICAgIGZpbGw6IG5ldyBvbC5zdHlsZS5GaWxsKHtcclxuICAgICAgICAgICAgY29sb3I6IFsxNTYsIDM5LCAxNzYsIDAuMV1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZmVhdHVyZXNbMF0uc2V0U3R5bGUoYXJlYSk7XHJcbiAgICAgICAgc2VsZi5hZGRGZWF0dXJlcyhmZWF0dXJlcyk7XHJcbiAgICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIHN0cmF0ZWd5OiBvbC5sb2FkaW5nc3RyYXRlZ3kuYWxsXHJcbiAgfSk7XHJcbiAgUFNBLnNldFNvdXJjZShQU0FTb3VyY2UpO1xyXG4gIG1hcC5nZXRWaWV3KCkuc2V0Q2VudGVyKGZlYXR1cmUuY29vcmRpbmF0ZSk7XHJcbiAgbWFwLmdldFZpZXcoKS5zZXRSZXNvbHV0aW9uKDEuMik7XHJcbiAgb2JqLmZlYXR1cmUgPSBmZWF0dXJlO1xyXG5cclxuICBkdXN0LnJlbmRlcignZXN0YXRlQ2FyZHMnLCBvYmosIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAkKCcuZXN0YXRlLWNhcmRzJykuaHRtbChvdXQpO1xyXG4gICAgJCgnLm1kbC1jYXJkX190aXRsZScpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoaHR0cDovL3Jlcy5jbG91ZGluYXJ5LmNvbS9maXJ2YWluL2ltYWdlL3VwbG9hZC93XzQzMixjX3NjYWxlLycgKyBvYmouZmVhdHVyZS5naWQgKyAnLmpwZyknKTtcclxuICAgICQoJy5lc3RhdGUtY2FyZHMnKS5hZGRDbGFzcygnZXN0YXRlLWNhcmRzLWFjdGl2ZScpO1xyXG4gIC8vICQoXCIjaW5mb2JveFwiKS5hZGRDbGFzcyhcInZpc3VhbGx5aGlkZGVuXCIpO1xyXG4gIH0pO1xyXG4gICQoJ2FbaHJlZj1cIiNvcGVuTW9kYWxcIl0nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgIGR1c3QucmVuZGVyKCdtb2RhbEluZm8nLCBvYmosIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAgICQoJy5tb2RhbC1jb250ZW50JykuaHRtbChvdXQpO1xyXG4gICAgICAkKCcuYmlnLWltYWdlJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybChodHRwOi8vcmVzLmNsb3VkaW5hcnkuY29tL2ZpcnZhaW4vaW1hZ2UvdXBsb2FkL2hfMjIyLGNfc2NhbGUvJyArIG9iai5mZWF0dXJlLmdpZCArICcuanBnKScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgJCgnYVtocmVmPVwiI2Nsb3NlRXN0YXRlQ2FyZFwiXScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnLmVzdGF0ZS1jYXJkcycpLnJlbW92ZUNsYXNzKCdlc3RhdGUtY2FyZHMtYWN0aXZlJyk7XHJcbiAgfSk7XHJcbn1cclxuJCgnLmluZm8nKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBQU0Euc2V0U291cmNlKG51bGwpO1xyXG4gIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgbWFwLm9uKCdjbGljaycsIGhhbmRsZUluZm8pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBtYXAudW4oJ2NsaWNrJywgaGFuZGxlSW5mbyk7XHJcbiAgfVxyXG59KTtcclxuIiwiZnVuY3Rpb24gaGFuZGxlU2VsZWN0KCkgIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgdmFyIGUgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRfID0gZSwgdGhpcy5zZXREZWZhdWx0c18oKSwgdGhpcy5pbml0KClcclxuICB9O1xyXG4gIHdpbmRvdy5NYXRlcmlhbFNlbGVjdGZpZWxkID0gZSwgZS5wcm90b3R5cGUuQ3NzQ2xhc3Nlc18gPSB7XHJcbiAgICBMQUJFTDogJ21kbC1zZWxlY3RmaWVsZF9fbGFiZWwnLFxyXG4gICAgU0VMRUNUOiAnbWRsLXNlbGVjdGZpZWxkX19zZWxlY3QnLFxyXG4gICAgU0VMRUNURURfQk9YOiAnbWRsLXNlbGVjdGZpZWxkX19ib3gnLFxyXG4gICAgU0VMRUNURURfQk9YX1ZBTFVFOiAnbWRsLXNlbGVjdGZpZWxkX19ib3gtdmFsdWUnLFxyXG4gICAgTElTVF9PUFRJT05fQk9YOiAnbWRsLXNlbGVjdGZpZWxkX19saXN0LW9wdGlvbi1ib3gnLFxyXG4gICAgSVNfRElSVFk6ICdpcy1kaXJ0eScsXHJcbiAgICBJU19GT0NVU0VEOiAnaXMtZm9jdXNlZCcsXHJcbiAgICBJU19ESVNBQkxFRDogJ2lzLWRpc2FibGVkJyxcclxuICAgIElTX0lOVkFMSUQ6ICdpcy1pbnZhbGlkJyxcclxuICAgIElTX1VQR1JBREVEOiAnaXMtdXBncmFkZWQnLFxyXG4gICAgSVNfU0VMRUNURUQ6ICdpcy1zZWxlY3RlZCdcclxuICB9LCBlLnByb3RvdHlwZS5LZXljb2Rlc18gPSB7XHJcbiAgICBFTlRFUjogMTMsXHJcbiAgICBFU0NBUEU6IDI3LFxyXG4gICAgU1BBQ0U6IDMyLFxyXG4gICAgVVBfQVJST1c6IDM4LFxyXG4gICAgRE9XTl9BUlJPVzogNDBcclxuICB9LCBlLnByb3RvdHlwZS5zZXREZWZhdWx0c18gPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMub3B0aW9uc18gPSBbXSwgdGhpcy5vcHRpb25zTWFwXyA9IHt9LCB0aGlzLm9wdGlvbnNBcnJfID0gW10sIHRoaXMuY2xvc2luZ18gPSAhMCwgdGhpcy5rZXlEb3duVGltZXJJZF8gPSBudWxsXHJcbiAgfSwgZS5wcm90b3R5cGUub25Gb2N1c18gPSBmdW5jdGlvbihlKSB7XHJcbiAgICB0aGlzLmNsb3NpbmdfICYmIHRoaXMuc2hvd18oZSlcclxuICB9LCBlLnByb3RvdHlwZS5vbkJsdXJfID0gZnVuY3Rpb24oZSkge1xyXG4gICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRClcclxuICB9LCBlLnByb3RvdHlwZS5vblNlbGVjdGVkXyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIGlmIChlLnRhcmdldCAmJiAnTEknID09IGUudGFyZ2V0Lm5vZGVOYW1lKSB7XHJcbiAgICAgIHZhciB0ID0gdGhpcy5vcHRpb25zX1tlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKV07XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25WYWx1ZV8udGV4dENvbnRlbnQgPSB0LnRleHRDb250ZW50LCB0LnNlbGVjdGVkID0gITA7XHJcbiAgICAgIHZhciBzO1xyXG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2Ygd2luZG93LkV2ZW50ID8gcyA9IG5ldyBFdmVudCgnY2hhbmdlJywge1xyXG4gICAgICAgIGJ1YmJsZXM6ICEwLFxyXG4gICAgICAgIGNhbmNlbGFibGU6ICEwXHJcbiAgICAgIH0pIDogJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRXZlbnQgJiYgKHMgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpLCBzLmluaXRFdmVudCgnY2hhbmdlJywgITAsICEwKSksIHMgJiYgdGhpcy5zZWxlY3RfLmRpc3BhdGNoRXZlbnQocyksICcnICE9PSB0LnRleHRDb250ZW50KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElSVFkpO1xyXG4gICAgICAgIHZhciBpID0gdGhpcy5saXN0T3B0aW9uQm94Xy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpO1xyXG4gICAgICAgIGkgJiYgaS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLCBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElSVFkpO1xyXG4gICAgICAgIHZhciBpID0gdGhpcy5saXN0T3B0aW9uQm94Xy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpO1xyXG4gICAgICAgIGkgJiYgaS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBlLnByb3RvdHlwZS5vbmNsaWNrXyA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIHRoaXMudG9nZ2xlKGUpXHJcbiAgfSwgZS5wcm90b3R5cGUudXBkYXRlXyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGU7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zXyAmJiB0aGlzLm9wdGlvbnNfLmxlbmd0aCA+IDApXHJcbiAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgdGhpcy5vcHRpb25zXy5sZW5ndGg7IHQrKykge1xyXG4gICAgICAgIHZhciBzID0gdGhpcy5vcHRpb25zX1t0XTtcclxuICAgICAgICBpZiAocy5zZWxlY3RlZCAmJiAnJyAhPT0gcy52YWx1ZSkge1xyXG4gICAgICAgICAgdmFyIGUgPSAhMDtcclxuICAgICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKSwgdGhpcy5saXN0T3B0aW9uQm94Xy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCksIHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvckFsbCgnTEknKVt0XS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBlIHx8IHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKSwgdGhpcy5jaGVja0Rpc2FibGVkKCksIHRoaXMuY2hlY2tWYWxpZGl0eSgpXHJcbiAgfSwgZS5wcm90b3R5cGUuY2hlY2tWYWxpZGl0eSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zZWxlY3RfLnZhbGlkaXR5ICYmICh0aGlzLnNlbGVjdF8udmFsaWRpdHkudmFsaWQgPyB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19JTlZBTElEKSA6IHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpKVxyXG4gIH0sIGUucHJvdG90eXBlLmNoZWNrVmFsaWRpdHkgPSBlLnByb3RvdHlwZS5jaGVja1ZhbGlkaXR5LCBlLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnNlbGVjdF8uZGlzYWJsZWQgPyB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVNBQkxFRCkgOiB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19ESVNBQkxFRClcclxuICB9LCBlLnByb3RvdHlwZS5jaGVja0Rpc2FibGVkID0gZS5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZCwgZS5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zZWxlY3RfLmRpc2FibGVkID0gITAsIHRoaXMudXBkYXRlXygpXHJcbiAgfSwgZS5wcm90b3R5cGUuZGlzYWJsZSA9IGUucHJvdG90eXBlLmRpc2FibGUsIGUucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zZWxlY3RfLmRpc2FibGVkID0gITEsIHRoaXMudXBkYXRlXygpXHJcbiAgfSwgZS5wcm90b3R5cGUuZW5hYmxlID0gZS5wcm90b3R5cGUuZW5hYmxlLCBlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpID8gdGhpcy5oaWRlXygpIDogdGhpcy5zaG93XyhlKVxyXG4gIH0sIGUucHJvdG90eXBlLnNob3dfID0gZnVuY3Rpb24oZSkge1xyXG4gICAgaWYgKHRoaXMuY2hlY2tEaXNhYmxlZCgpLCAhdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19ESVNBQkxFRCkpIHtcclxuICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCksIHRoaXMuY2xvc2luZ18gPSAhMSwgdGhpcy5zdHJTZWFyY2hfID0gJyc7XHJcbiAgICAgIHZhciB0ID0gdGhpcy5saXN0T3B0aW9uQm94Xy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpO1xyXG4gICAgICB0ICYmICh0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5zY3JvbGxUb3AgPSB0Lm9mZnNldFRvcCksIHRoaXMuYm91bmRLZXlEb3duSGFuZGxlcl8gPSB0aGlzLm9uS2V5RG93bl8uYmluZCh0aGlzKSwgdGhpcy5ib3VuZENsaWNrRG9jSGFuZGxlcl8gPSBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgdCA9PT0gZSB8fCB0aGlzLmNsb3NpbmdfIHx8IHQudGFyZ2V0LnBhcmVudE5vZGUgPT09IHRoaXMuZWxlbWVudF8gfHwgdC50YXJnZXQucGFyZW50Tm9kZSA9PT0gdGhpcy5zZWxlY3RlZE9wdGlvbl8gfHwgdGhpcy5oaWRlXygpXHJcbiAgICAgIH0uYmluZCh0aGlzKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuYm91bmRLZXlEb3duSGFuZGxlcl8pLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRDbGlja0RvY0hhbmRsZXJfKVxyXG4gICAgfVxyXG4gIH0sIGUucHJvdG90eXBlLm9uS2V5RG93bl8gPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgdCA9IHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvckFsbCgnbGk6bm90KFtkaXNhYmxlZF0pJyk7XHJcbiAgICBpZiAodCAmJiB0Lmxlbmd0aCA+IDAgJiYgIXRoaXMuY2xvc2luZ18pIHtcclxuICAgICAgdmFyIHMsXHJcbiAgICAgICAgICBpID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkuaW5kZXhPZih0aGlzLmxpc3RPcHRpb25Cb3hfLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgdGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRClbMF0pO1xyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLktleWNvZGVzXy5VUF9BUlJPVyB8fCBlLmtleUNvZGUgPT09IHRoaXMuS2V5Y29kZXNfLkRPV05fQVJST1cpIC0xICE9IGkgJiYgdFtpXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfU0VMRUNURUQpLCBlLmtleUNvZGUgPT09IHRoaXMuS2V5Y29kZXNfLlVQX0FSUk9XID8gKGUucHJldmVudERlZmF1bHQoKSwgcyA9IGkgPiAwID8gdFtpIC0gMV0gOiB0W3QubGVuZ3RoIC0gMV0pIDogKGUucHJldmVudERlZmF1bHQoKSwgcyA9IHQubGVuZ3RoID4gaSArIDEgPyB0W2kgKyAxXSA6IHRbMF0pLCBzICYmIChzLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCksIHRoaXMubGlzdE9wdGlvbkJveF8uc2Nyb2xsVG9wID0gcy5vZmZzZXRUb3AsIHRoaXMubGFzdFNlbGVjdGVkSXRlbV8gPSBzKTtlbHNlIGlmIChlLmtleUNvZGUgIT09IHRoaXMuS2V5Y29kZXNfLlNQQUNFICYmIGUua2V5Q29kZSAhPT0gdGhpcy5LZXljb2Rlc18uRU5URVIgfHwgIXRoaXMubGFzdFNlbGVjdGVkSXRlbV8pIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLktleWNvZGVzXy5FU0NBUEUpIHtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIHZhciBvO1xyXG4gICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRXZlbnQgPyAobyA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50JyksIG8uaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgITAsICEwLCB3aW5kb3csIDAsIDAsIDAsIDAsIDAsICExLCAhMSwgITEsICExLCAwLCBudWxsKSkgOiBvID0gbmV3IE1vdXNlRXZlbnQoJ21vdXNlZG93bicpLCBkb2N1bWVudC5ib2R5LmRpc3BhdGNoRXZlbnQobyksIGRvY3VtZW50LmNyZWF0ZUV2ZW50IHx8IChvID0gbmV3IE1vdXNlRXZlbnQoJ21vdXNldXAnKSwgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KG8pKSwgZG9jdW1lbnQuYm9keS5jbGljaygpXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbGlkS2V5Q29kZV8oZS5rZXlDb2RlKSkge1xyXG4gICAgICAgICAgdmFyIG4gPSBlLndoaWNoIHx8IGUua2V5Q29kZTtcclxuICAgICAgICAgIHRoaXMuc3RyU2VhcmNoXyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG4pLCB0aGlzLmtleURvd25UaW1lcklkXyAmJiBjbGVhclRpbWVvdXQodGhpcy5rZXlEb3duVGltZXJJZF8pLCB0aGlzLmtleURvd25UaW1lcklkXyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMua2V5RG93blRpbWVySWRfID0gbnVsbCwgdGhpcy5zdHJTZWFyY2hfID0gJydcclxuICAgICAgICAgIH0uYmluZCh0aGlzKSwgMzAwKTtcclxuICAgICAgICAgIHZhciBsID0gdGhpcy5zZWFyY2hCeVN0ckluZGV4XygwKTtcclxuICAgICAgICAgIGwgPiAtMSAmJiAoLTEgIT0gaSAmJiB0W2ldLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCksIHMgPSB0W2xdLCBzLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19TRUxFQ1RFRCksIHRoaXMubGlzdE9wdGlvbkJveF8uc2Nyb2xsVG9wID0gcy5vZmZzZXRUb3AsIHRoaXMubGFzdFNlbGVjdGVkSXRlbV8gPSBzKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIG87XHJcbiAgICAgICAgZG9jdW1lbnQuY3JlYXRlRXZlbnQgPyAobyA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50JyksIG8uaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgITAsICEwLCB3aW5kb3csIDAsIDAsIDAsIDAsIDAsICExLCAhMSwgITEsICExLCAwLCBudWxsKSkgOiBvID0gbmV3IE1vdXNlRXZlbnQoJ21vdXNlZG93bicpLCB0aGlzLmxhc3RTZWxlY3RlZEl0ZW1fLmRpc3BhdGNoRXZlbnQobyksIGRvY3VtZW50LmNyZWF0ZUV2ZW50IHx8IChvID0gbmV3IE1vdXNlRXZlbnQoJ21vdXNldXAnKSwgdGhpcy5sYXN0U2VsZWN0ZWRJdGVtXy5kaXNwYXRjaEV2ZW50KG8pKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgZS5wcm90b3R5cGUuc2VhcmNoQnlTdHJJbmRleF8gPSBmdW5jdGlvbihlKSB7XHJcbiAgICBmb3IgKHZhciB0ID0gdGhpcy5zdHJTZWFyY2hfLCBzID0gbmV3IFJlZ0V4cCgnXicgKyB0ICsgJy4nKSwgaSA9IC0xLCBvID0gdGhpcy5vcHRpb25zQXJyXywgbiA9IDA7IG4gPCBvLmxlbmd0aDsgbisrKVxyXG4gICAgICBpZiAocy50ZXN0KG9bbl0pKSB7XHJcbiAgICAgICAgaSA9IG47YnJlYWtcclxuICAgICAgfVxyXG4gICAgcmV0dXJuIC0xICE9IGkgPyB0aGlzLm9wdGlvbnNNYXBfW3RoaXMub3B0aW9uc0Fycl9baV1dIDogLTFcclxuICB9LCBlLnByb3RvdHlwZS52YWxpZEtleUNvZGVfID0gZnVuY3Rpb24oZSkge1xyXG4gICAgcmV0dXJuIGUgPiA0NyAmJiA1OCA+IGUgfHwgMzIgPT0gZSB8fCAxMyA9PSBlIHx8IGUgPiA2NCAmJiA5MSA+IGUgfHwgZSA+IDk1ICYmIDExMiA+IGUgfHwgZSA+IDE4NSAmJiAxOTMgPiBlIHx8IGUgPiAyMTggJiYgMjIzID4gZVxyXG4gIH0sIGUucHJvdG90eXBlLmhpZGVfID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19GT0NVU0VEKSwgdGhpcy5jbG9zaW5nXyA9ICEwLCB0aGlzLnN0clNlYXJjaF8gPSAnJywgdGhpcy5ib3VuZENsaWNrRG9jSGFuZGxlcl8gJiYgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmJvdW5kQ2xpY2tEb2NIYW5kbGVyXyksIHRoaXMuYm91bmRLZXlEb3duSGFuZGxlcl8gJiYgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuYm91bmRLZXlEb3duSGFuZGxlcl8pLCB0aGlzLnVwZGF0ZV8oKVxyXG4gIH0sIGUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnRfKSB7XHJcbiAgICAgIHRoaXMubGFiZWxfID0gdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uTEFCRUwpLCB0aGlzLnNlbGVjdF8gPSB0aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5Dc3NDbGFzc2VzXy5TRUxFQ1QpO1xyXG4gICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBlLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5TRUxFQ1RFRF9CT1gpLCBlLnRhYkluZGV4ID0gMSwgdGhpcy5zZWxlY3RlZE9wdGlvbl8gPSBlO1xyXG4gICAgICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgICAgdC5jbGFzc0xpc3QuYWRkKCdtYXRlcmlhbC1pY29ucycpLCB0LnRhYkluZGV4ID0gLTEsIHQudGV4dENvbnRlbnQgPSAna2V5Ym9hcmRfYXJyb3dfZG93bicsIGUuYXBwZW5kQ2hpbGQodCk7XHJcbiAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICBzLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5TRUxFQ1RFRF9CT1hfVkFMVUUpLCBzLnRhYkluZGV4ID0gMCwgZS5hcHBlbmRDaGlsZChzKSwgdGhpcy5zZWxlY3RlZE9wdGlvblZhbHVlXyA9IHMsIHRoaXMuZWxlbWVudF8uYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3RlZE9wdGlvbl8pO1xyXG4gICAgICB2YXIgaSA9IHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfSU5WQUxJRCk7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdF8gJiYgKHRoaXMub3B0aW9uc18gPSB0aGlzLnNlbGVjdF8ucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJyksIHRoaXMuc2VsZWN0Xy5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbicsIHRoaXMub3B0aW9uc18ubGVuZ3RoKSkge1xyXG4gICAgICAgIHRoaXMuYm91bmRTZWxlY3RlZEhhbmRsZXIgPSB0aGlzLm9uU2VsZWN0ZWRfLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdmFyIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBvLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5MSVNUX09QVElPTl9CT1gpLCBvLnRhYkluZGV4ID0gJy0xJztcclxuICAgICAgICB2YXIgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICAgICAgbi50YWJJbmRleCA9ICctMSc7XHJcbiAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCB0aGlzLm9wdGlvbnNfLmxlbmd0aDsgbCsrKSB7XHJcbiAgICAgICAgICB2YXIgYSA9IHRoaXMub3B0aW9uc19bbF0sXHJcbiAgICAgICAgICAgICAgZCA9IChhLnRleHRDb250ZW50IHx8ICcnKS50b1VwcGVyQ2FzZSgpLnJlcGxhY2UoLyggKXwoXFxuKS9nLCAnJyk7dGhpcy5vcHRpb25zTWFwX1tkXSA9IGwsIHRoaXMub3B0aW9uc0Fycl8ucHVzaChkKTt2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7Yy50ZXh0Q29udGVudCA9IGEudGV4dENvbnRlbnQsIGMuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgbCksIGMudGFiSW5kZXggPSAnLTEnLCBjLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZFNlbGVjdGVkSGFuZGxlciksIG4uYXBwZW5kQ2hpbGQoYyksIGEuc2VsZWN0ZWQgJiYgJycgIT09IGEudGV4dENvbnRlbnQgJiYgKHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKSwgdGhpcy5zZWxlY3RlZE9wdGlvblZhbHVlXy50ZXh0Q29udGVudCA9IGEudGV4dENvbnRlbnQsIGMuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1NFTEVDVEVEKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgby5hcHBlbmRDaGlsZChuKSwgdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZChvKSwgdGhpcy5saXN0T3B0aW9uQm94XyA9IG9cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmJvdW5kQ2xpY2tIYW5kbGVyID0gdGhpcy5vbmNsaWNrXy5iaW5kKHRoaXMpLCB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZENsaWNrSGFuZGxlciksIGkgJiYgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfSU5WQUxJRCksIHRoaXMuY2hlY2tEaXNhYmxlZCgpXHJcbiAgICB9XHJcbiAgfSwgZS5wcm90b3R5cGUubWRsRG93bmdyYWRlXyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMuZWxlbWVudF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmJvdW5kQ2xpY2tIYW5kbGVyKSwgdGhpcy5ib3VuZFNlbGVjdGVkSGFuZGxlciAmJiB0aGlzLm9wdGlvbnNfLmxlbmd0aClcclxuICAgICAgZm9yICh2YXIgZSA9IHRoaXMubGlzdE9wdGlvbkJveF8ucXVlcnlTZWxlY3RvckFsbCgnbGknKSwgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSBlW3RdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZFNlbGVjdGVkSGFuZGxlcilcclxuICB9LCBlLnByb3RvdHlwZS5tZGxEb3duZ3JhZGUgPSBlLnByb3RvdHlwZS5tZGxEb3duZ3JhZGVfLCBlLnByb3RvdHlwZS5tZGxEb3duZ3JhZGUgPSBlLnByb3RvdHlwZS5tZGxEb3duZ3JhZGUsIGNvbXBvbmVudEhhbmRsZXIucmVnaXN0ZXIoe1xyXG4gICAgY29uc3RydWN0b3I6IGUsXHJcbiAgICBjbGFzc0FzU3RyaW5nOiAnTWF0ZXJpYWxTZWxlY3RmaWVsZCcsXHJcbiAgICBjc3NDbGFzczogJ21kbC1qcy1zZWxlY3RmaWVsZCcsXHJcbiAgICB3aWRnZXQ6ICEwXHJcbiAgfSlcclxufVxyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgdmFyIGdlb2xvY2F0aW9uID0gbmV3IG9sLkdlb2xvY2F0aW9uKHtcclxuICAgIC8vIHRha2UgdGhlIHByb2plY3Rpb24gdG8gdXNlIGZyb20gdGhlIG1hcCdzIHZpZXdcclxuICAgIHByb2plY3Rpb246IG1hcC5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpLFxyXG4gICAgdHJhY2tpbmdPcHRpb25zOiB7XHJcbiAgICAgIG1heGltdW1BZ2U6IDEwMDAwLFxyXG4gICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgICAgIHRpbWVvdXQ6IDYwMDAwMFxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHZhciBhY2N1cmFjeUZlYXR1cmUgPSBuZXcgb2wuRmVhdHVyZSgpO1xyXG4gIGdlb2xvY2F0aW9uLm9uKCdjaGFuZ2U6YWNjdXJhY3lHZW9tZXRyeScsIGZ1bmN0aW9uKCkge1xyXG4gICAgYWNjdXJhY3lGZWF0dXJlLnNldEdlb21ldHJ5KGdlb2xvY2F0aW9uLmdldEFjY3VyYWN5R2VvbWV0cnkoKSk7XHJcbiAgfSk7XHJcbiAgdmFyIHBvc2l0aW9uRmVhdHVyZSA9IG5ldyBvbC5GZWF0dXJlKCk7XHJcbiAgcG9zaXRpb25GZWF0dXJlLnNldFN0eWxlKG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBpbWFnZTogbmV3IG9sLnN0eWxlLkNpcmNsZSh7XHJcbiAgICAgIHJhZGl1czogNixcclxuICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoe2NvbG9yOiAnIzMzOTlDQyd9KSxcclxuICAgICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtjb2xvcjogJyNmZmYnLCB3aWR0aDogMn0pXHJcbiAgICB9KVxyXG4gIH0pKTtcclxuICAvLyBsaXN0ZW4gdG8gY2hhbmdlcyBpbiBwb3NpdGlvblxyXG4gIGdlb2xvY2F0aW9uLm9uKCdjaGFuZ2U6cG9zaXRpb24nLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBjb29yZGluYXRlcyA9IGdlb2xvY2F0aW9uLmdldFBvc2l0aW9uKCk7XHJcbiAgICBwb3NpdGlvbkZlYXR1cmUuc2V0R2VvbWV0cnkoY29vcmRpbmF0ZXNcclxuICAgICAgPyBuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlcylcclxuICAgICAgOiBudWxsKTtcclxuICB9KTtcclxuICBmZWF0dXJlc092ZXJsYXlTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7fSk7XHJcbiAgdmFyIGZlYXR1cmVzT3ZlcmxheSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe21hcDogbWFwLCBzb3VyY2U6IGZlYXR1cmVzT3ZlcmxheVNvdXJjZX0pO1xyXG4gICQoJy5nZW9sb2NhdGlvbicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IHRydWUpIHtcclxuICAgICAgZ2VvbG9jYXRpb24uc2V0VHJhY2tpbmcodHJ1ZSk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheVNvdXJjZS5hZGRGZWF0dXJlcyhbcG9zaXRpb25GZWF0dXJlLCBhY2N1cmFjeUZlYXR1cmVdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGdlb2xvY2F0aW9uLnNldFRyYWNraW5nKGZhbHNlKTtcclxuICAgICAgZmVhdHVyZXNPdmVybGF5U291cmNlLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICB2YXIgbWFya2VyID0gbmV3IG9sLkZlYXR1cmUoKTtcclxuICB2YXIgaWNvblN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHtcclxuICAgIGltYWdlOiBuZXcgb2wuc3R5bGUuSWNvbigvKiogQHR5cGUge29seC5zdHlsZS5JY29uT3B0aW9uc30gKi9cclxuICAgICh7XHJcbiAgICAgIGFuY2hvcjogW1xyXG4gICAgICAgIDAuNSwgMVxyXG4gICAgICBdLFxyXG4gICAgICBhbmNob3JYVW5pdHM6ICdmcmFjdGlvbicsXHJcbiAgICAgIGFuY2hvcllVbml0czogJ2ZyYWN0aW9uJyxcclxuICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgc2NhbGU6IDEsXHJcbiAgICAgIHNyYzogJy4uL2ltYWdlcy9tYXAtaWNvbnMvcGlucy8yNC9waW4xLnBuZycsXHJcbiAgICAgIHNuYXBUb1BpeGVsOiBmYWxzZVxyXG4gICAgfSkpLFxyXG4gICAgekluZGV4OiAxMDBcclxuICB9KTtcclxuICBtYXJrZXIuc2V0U3R5bGUoaWNvblN0eWxlKTtcclxuICB2YXIgZmVhdHVyZXNPdmVybGF5U3R5bGUgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgICAgY29sb3I6ICcjNDA4MDgwJyxcclxuICAgICAgd2lkdGg6IDUsXHJcbiAgICAgIGxpbmVEYXNoOiBbNCwgNF1cclxuICAgIH0pXHJcbiAgfSk7XHJcbiAgdmFyIGZlYXR1cmVzT3ZlcmxheSA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gICAgbWFwOiBtYXAsXHJcbiAgICBzb3VyY2U6IG5ldyBvbC5zb3VyY2UuVmVjdG9yKCksXHJcbiAgICBzdHlsZTogZmVhdHVyZXNPdmVybGF5U3R5bGUsXHJcbiAgICBpZDogJ3JvdXRlJyxcclxuICAgIG5hbWVFbDogJ86UzrnOsc60z4HOv868zq4nLFxyXG4gICAgTmFtZUVuOiAnUm91dGUnXHJcbiAgfSk7XHJcbiAgdmFyIHJvdXRlQ29vcmRzID0gW107XHJcbiAgZnVuY3Rpb24gaGFuZGxlTWFya2VyKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGZlYXR1cmVDb3VudCA9IGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5nZXRGZWF0dXJlcygpLmxlbmd0aDtcclxuICAgIHZhciBjb29yZGluYXRlcyA9IGV2ZW50LmNvb3JkaW5hdGU7XHJcbiAgICBpZiAoZmVhdHVyZUNvdW50ID09PSAwKSB7XHJcbiAgICAgIG1hcmtlci5zZXRHZW9tZXRyeShuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlcykpO1xyXG4gICAgICBtYXJrZXIuc2V0SWQoJ2ZpcnN0Jyk7XHJcbiAgICAgIGZlYXR1cmVzT3ZlcmxheS5nZXRTb3VyY2UoKS5hZGRGZWF0dXJlKG1hcmtlcik7XHJcbiAgICAgIHJvdXRlQ29vcmRzWzBdID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICAgIHJvdXRlQ29vcmRzWzFdID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgICB9IGVsc2UgaWYgKGZlYXR1cmVDb3VudCA9PT0gMSkge1xyXG4gICAgICB2YXIgY2xvbmUgPSBtYXJrZXIuY2xvbmUoKTtcclxuICAgICAgY2xvbmUuc2V0R2VvbWV0cnkobmV3IG9sLmdlb20uUG9pbnQoY29vcmRpbmF0ZXMpKTtcclxuICAgICAgY2xvbmUuc2V0SWQoJ3NlY29uZCcpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuYWRkRmVhdHVyZShjbG9uZSk7XHJcbiAgICAgIHJvdXRlQ29vcmRzWzJdID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICAgIHJvdXRlQ29vcmRzWzNdID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgICAgIGNhbGxSb3V0ZShyb3V0ZUNvb3Jkcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuICAgIH1cclxuICB9XHJcbiAgZ2VvSlNPTkZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuR2VvSlNPTih7ZGVmYXVsdERhdGFQcm9qZWN0aW9uOiAnRVBTRzo0MzI2JywgZ2VvbWV0cnlOYW1lOiAnZ2VvbWV0cnknfSk7XHJcbiAgZnVuY3Rpb24gY2FsbFJvdXRlKHJvdXRlQ29vcmRzKSB7XHJcbiAgICB2YXIgZmlyc3QgPSBvbC5wcm9qLnRyYW5zZm9ybShbXHJcbiAgICAgIHJvdXRlQ29vcmRzWzBdLCByb3V0ZUNvb3Jkc1sxXVxyXG4gICAgXSwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgIHZhciBzZWNvbmQgPSBvbC5wcm9qLnRyYW5zZm9ybShbXHJcbiAgICAgIHJvdXRlQ29vcmRzWzJdLCByb3V0ZUNvb3Jkc1szXVxyXG4gICAgXSwgJ0VQU0c6Mzg1NycsICdFUFNHOjQzMjYnKTtcclxuICAgIHZhciB4MSA9IGZpcnN0WzBdO1xyXG4gICAgdmFyIHkxID0gZmlyc3RbMV07XHJcbiAgICB2YXIgeDIgPSBzZWNvbmRbMF07XHJcbiAgICB2YXIgeTIgPSBzZWNvbmRbMV07XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICB1cmw6ICdodHRwczovL2FwaS5tYXBib3guY29tL3Y0L2RpcmVjdGlvbnMvbWFwYm94LmRyaXZpbmcvJyArIHgxICsgJywnICsgeTEgKyAnOycgKyB4MiArICcsJyArIHkyICsgJy5qc29uP2FsdGVybmF0aXZlcz1mYWxzZSZhY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2labWx5ZG1GcGJpSXNJbUVpT2lKbE9XWXlZVE0wTlRoaU5XTTBZakpqT0RKak5ERTRPRFF6TnpBMk1HUXlOaUo5Li1OVkRPMjdIenQtd19uUW9zVVBmTEEnLFxyXG4gICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJ1xyXG4gICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgIHZhciByb3V0ZSA9IHt9O1xyXG4gICAgICByb3V0ZS50eXBlID0gJ0ZlYXR1cmUnO1xyXG4gICAgICByb3V0ZS5nZW9tZXRyeSA9IGRhdGEucm91dGVzWzBdLmdlb21ldHJ5O1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuYWRkRmVhdHVyZXMoZ2VvSlNPTkZvcm1hdC5yZWFkRmVhdHVyZXMocm91dGUsIHtcclxuICAgICAgICBkYXRhUHJvamVjdGlvbjogJ0VQU0c6NDMyNicsXHJcbiAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnXHJcbiAgICAgIH0pKTtcclxuICAgICAgbWFwLmdldFZpZXcoKS5maXQoZmVhdHVyZXNPdmVybGF5LmdldFNvdXJjZSgpLmdldEV4dGVudCgpLCBtYXAuZ2V0U2l6ZSgpKTtcclxuICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XHJcbiAgICB9KS5hbHdheXMoZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiY29tcGxldGVcIik7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgJCgnLm1hcmtlcicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8qIEFjdCBvbiB0aGUgZXZlbnQgKi9cclxuICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBtYXAub24oJ3NpbmdsZWNsaWNrJywgaGFuZGxlTWFya2VyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1hcC51bignc2luZ2xlY2xpY2snLCBoYW5kbGVNYXJrZXIpO1xyXG4gICAgICBmZWF0dXJlc092ZXJsYXkuZ2V0U291cmNlKCkuY2xlYXIoKTtcclxuICAgIH1cclxuICB9KTtcclxufSgpKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICQoJy53ZWF0aGVyJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpID09PSB0cnVlKSB7XHJcbiAgICAgIG1hcC5nZXRPdmVybGF5cygpLmZvckVhY2goZnVuY3Rpb24ob3ZsKSB7XHJcbiAgICAgICAgaWYgKG92bC5nZXQoJ25hbWUnKSA9PT0gJ3dlYXRoZXInKSB7XHJcbiAgICAgICAgICAoJChvdmwuZ2V0RWxlbWVudCgpKS5wYXJlbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAkKG92bC5nZXRFbGVtZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHZhciBjZW50ZXIgPSBvbC5wcm9qLnRyYW5zZm9ybShtYXAuZ2V0VmlldygpLmdldENlbnRlcigpLCAnRVBTRzozODU3JywgJ0VQU0c6NDMyNicpO1xyXG4gICAgICB2YXIgbGF0ID0gY2VudGVyWzFdO1xyXG4gICAgICB2YXIgbG9uID0gY2VudGVyWzBdO1xyXG4gICAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L2ZpbmQ/bGF0PScgKyBsYXQgKyAnJmxvbj0nICsgbG9uICsgJyZjbnQ9NSZjbHVzdGVyPW5vJnVuaXRzPW1ldHJpYyZ0eXBlPWFjY3VyYXRlJkFQUElEPWY5Y2Q5ZmEyYzQyN2MzYjExNWU4N2U0ODYyNjE5YzVjJyxcclxuICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVdlYXRoZXJPdmVybGF5KHBvc2l0aW9uLCBpbmRleCkge1xyXG4gICAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdjbGFzcycsICd3ZWF0aGVyLXBvcHVwICBtZGwtc2hhZG93LS02ZHAnKTtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdpZCcsIGluZGV4KTtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnLCAnd2VhdGhlcicpO1xyXG4gICAgICAgICAgcmV0dXJuIG5ldyBvbC5PdmVybGF5KHtlbGVtZW50OiBlbGVtLCBwb3NpdGlvbjogcG9zaXRpb259KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9ianMgPSBkYXRhLmxpc3Q7XHJcbiAgICAgICAgdmFyIG92ZXJsYXksXHJcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzO1xyXG4gICAgICAgICQuZWFjaChvYmpzLCBmdW5jdGlvbihpbmRleCwgdmFsKSB7XHJcbiAgICAgICAgICBjb29yZGluYXRlcyA9IG9sLnByb2oudHJhbnNmb3JtKFtcclxuICAgICAgICAgICAgdmFsLmNvb3JkLmxvbiwgdmFsLmNvb3JkLmxhdFxyXG4gICAgICAgICAgXSwgJ0VQU0c6NDMyNicsICdFUFNHOjM4NTcnKTtcclxuICAgICAgICAgIG92ZXJsYXkgPSBjcmVhdGVXZWF0aGVyT3ZlcmxheShjb29yZGluYXRlcywgaW5kZXgpO1xyXG4gICAgICAgICAgbWFwLmFkZE92ZXJsYXkob3ZlcmxheSk7XHJcbiAgICAgICAgICBvdmVybGF5LnNldCgnbmFtZScsICd3ZWF0aGVyJyk7XHJcbiAgICAgICAgICB3ZWF0aGVyRGF0YSA9IHtcclxuICAgICAgICAgICAgJ25hbWUnOiB2YWwubmFtZSxcclxuICAgICAgICAgICAgJ3RlbXAnOiB2YWwubWFpbi50ZW1wLFxyXG4gICAgICAgICAgICAncHJlc3N1cmUnOiB2YWwubWFpbi5wcmVzc3VyZSxcclxuICAgICAgICAgICAgJ2h1bWlkaXR5JzogdmFsLm1haW4uaHVtaWRpdHlcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBkdXN0LnJlbmRlcignd2VhdGhlclBvcHVwJywgd2VhdGhlckRhdGEsIGZ1bmN0aW9uKGVyciwgb3V0KSB7XHJcbiAgICAgICAgICAgICQoJyMnICsgaW5kZXgpLmh0bWwob3V0KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIHRvYXN0ci5lcnJvcihcIs6UzrXOvSDOss+Bzq3OuM63zrrOsc69IM+AzrvOt8+Bzr/Phs6/z4HOr861z4IgzrPOuc6xIM+EzrnPgiDOus6xzrnPgc65zrrOrc+CIM+Dz4XOvc64zq7Ous61z4IhXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPT09IGZhbHNlKSB7XHJcbiAgICAgIG1hcC5nZXRPdmVybGF5cygpLmZvckVhY2goZnVuY3Rpb24ob3ZsKSB7XHJcbiAgICAgICAgaWYgKG92bC5nZXQoJ25hbWUnKSA9PT0gJ3dlYXRoZXInKSB7XHJcbiAgICAgICAgICAoJChvdmwuZ2V0RWxlbWVudCgpKS5wYXJlbnQoKSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAkKG92bC5nZXRFbGVtZW50KCkpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0oKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
